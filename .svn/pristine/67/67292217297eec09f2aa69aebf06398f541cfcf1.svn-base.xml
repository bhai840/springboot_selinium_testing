<?xml version="1.0" encoding="UTF-8"?>
<configuration>
<TCName name = "rcandScreenCheck">
<promoOfferNo>
<![CDATA[SELECT distinct(prom_offer_no) 
FROM RC_OPERATIONAL.PROM_ABLD_BLD_QTY_EXPAN where site = 'store_no' and disp_type = 'disptype' and disp_no ='dispno'
 and end_type = 'endtype']]>
</promoOfferNo>
<sourceTable>
 <![CDATA[select distinct (a.article),b.build_qty,b.disp_qty,b.prom_price,b.std_price,b.disc_prct
 from Prom_site_article_detail a,PROM_ABLD_BLD_QTY_EXPAN b
 where a.prom_offer_no = 'promo_no'
 and a.site = 'store_no'
 and b.disp_type = 'disptype'
 and b.disp_no = 'dispno'
 and a.disp_start_date = b.disp_start_date
 and a.disp_end_date = b.disp_end_date
 and b.build_qty = a.advert_order_qty
 order by b.build_qty desc]]>
</sourceTable>
<disptype>
<![CDATA[SELECT DISTINCT expan.disp_type, NVL(disp_type.dply_type_desc,expan.disp_type) description, prio.display_type_val,expan.disp_no
FROM RC_OPERATIONAL.PROM_ABLD_BLD_QTY_EXPAN expan, RC_OPERATIONAL.display_type_prio prio , RC_MASTER.display_type disp_type
WHERE expan.site          = 'store_no'
AND expan.department      = 'dept_no'
AND expan.week_start_date = TO_DATE('startingWeek','DD/MM/YYYY')
AND expan.disp_type=prio.display_type_ind
AND prio.active_flag='Y' 
AND expan.disp_type=disp_type.dply_type_ind
AND expan.disp_no=disp_type.dply_no
AND expan.disp_alpha=disp_type.dply_alpha_ind
order by prio.display_type_val nulls last]]>
</disptype>
<weeks>
<![CDATA[select NEXT_DAY(sysdate-7,calendar_start_day) "week_1" ,
NEXT_DAY(sysdate,calendar_start_day) "week_2" ,
NEXT_DAY(sysdate+7,calendar_start_day) "week_3" ,
NEXT_DAY(sysdate+14,calendar_start_day) "week_4",
NEXT_DAY(sysdate+21,calendar_start_day) "week_5",
NEXT_DAY(sysdate+28,calendar_start_day) "week_6",
NEXT_DAY(sysdate+35,calendar_start_day) "week_7",
NEXT_DAY(sysdate+42,calendar_start_day) "week_8",
NEXT_DAY(sysdate+49,calendar_start_day) "week_9"
from sales_org_calendar where sales_org='salesorg']]>
</weeks>
<artDetails>
<![CDATA[SELECT psa.*,
psd.display_qty AS original_disp_qty
FROM
(SELECT distinct expan.prom_offer_no,
expan.article,
expan.article_uom,
am.article_desc,
expan.disp_type,
expan.disp_no,
expan.disp_alpha,
expan.site,
expan.sales_org,
expan.end_type,
expan.disp_start_date,
expan.disp_end_date,
expan.build_qty as new_build_qty,
expan.disp_qty as new_disp_qty,
expan.week_start_date AS week_start_date,
expan.lock_flg,
to_number( NVL(expan.prom_price,NVL(expan.std_price,0))) AS promo_price,
to_number( NVL(expan.std_price,0) ) - to_number( NVL(expan.prom_price,NVL(expan.std_price,0))) AS SAVINGS,
expan.dflt_flag,
psad.advert_order_qty AS original_build_qty,
expan.prom_start_date,
expan.prom_end_date,
expan.promo_type
FROM RC_OPERATIONAL.PROM_ABLD_BLD_QTY_EXPAN expan,
RC_MASTER.Article_master am,
RC_OPERATIONAL.prom_site_article_detail psad
WHERE expan.site ='store_no'
AND expan.disp_type ='displaytype'
AND expan.department ='department_no'
AND expan.week_start_date=TO_DATE('startingWeek','DD/MM/YYYY')
AND expan.article =am.article
AND expan.prom_offer_no =psad.prom_offer_no
AND expan.SITE =psad.SITE
AND expan.ARTICLE =psad.ARTICLE
AND expan.ARTICLE_UOM =psad.ARTICLE_UOM
AND expan.disp_type =psad.disp_type
AND expan.disp_no =psad.disp_no
AND expan.disp_alpha =psad.disp_alpha
AND expan.disp_start_date=psad.disp_start_date
AND expan.disp_end_date =psad.disp_end_date
AND expan.SALES_ORG =psad.SALES_ORG
AND EXPAN.DELETED_DTETM is null
)psa
LEFT OUTER JOIN PROM_SITE_DISPLAY_DETAIL psd
ON ( psa.PROM_OFFER_NO = psd.PROM_OFFER_NO
AND psa.SALES_ORG = psd.SALES_ORG
AND psa.SITE = psd.SITE
AND psa.ARTICLE = psd.ARTICLE
AND psa.ARTICLE_UOM = psd.ARTICLE_UOM
AND psa.disp_type = psd.display_type
AND psa.disp_no = psd.display_no
AND psa.disp_alpha = psd.display_alpha
AND psd.END_DATE >= psa.week_start_date
AND psd.start_date <= psa.week_start_date+7 )
ORDER BY psa.disp_type,
psa.disp_no,
psa.new_build_qty desc ]]>
</artDetails>
</TCName>


<TCName name = "promoEndTypeScreen">
<artDetails>
<![CDATA[SELECT psa.*,
psd.display_qty AS original_disp_qty
FROM
(SELECT distinct expan.prom_offer_no,
expan.article,
expan.article_uom,
am.article_desc,
expan.disp_type,
expan.disp_no,
expan.disp_alpha,
expan.site,
expan.sales_org,
expan.end_type,
expan.disp_start_date,
expan.disp_end_date,
expan.build_qty as new_build_qty,
expan.disp_qty as new_disp_qty,
expan.week_start_date AS week_start_date,
expan.lock_flg,
to_number( NVL(expan.prom_price,NVL(expan.std_price,0))) AS promo_price,
to_number( NVL(expan.std_price,0) ) - to_number( NVL(expan.prom_price,NVL(expan.std_price,0))) AS SAVINGS,
expan.dflt_flag,
psad.advert_order_qty AS original_build_qty,
expan.prom_start_date,
expan.prom_end_date,
expan.promo_type
FROM RC_OPERATIONAL.PROM_ABLD_BLD_QTY_EXPAN expan,
RC_MASTER.Article_master am,
RC_OPERATIONAL.prom_site_article_detail psad
WHERE expan.site ='store_no'
AND expan.disp_type ='displaytype'
AND expan.department ='department_no'
AND expan.week_start_date=TO_DATE('startingWeek','DD/MM/YYYY')
AND expan.article =am.article
AND expan.prom_offer_no =psad.prom_offer_no
AND expan.SITE =psad.SITE
AND expan.ARTICLE =psad.ARTICLE
AND expan.ARTICLE_UOM =psad.ARTICLE_UOM
AND expan.disp_type =psad.disp_type
AND expan.disp_no =psad.disp_no
AND expan.disp_alpha =psad.disp_alpha
AND expan.disp_start_date=psad.disp_start_date
AND expan.disp_end_date =psad.disp_end_date
AND expan.SALES_ORG =psad.SALES_ORG
AND EXPAN.DELETED_DTETM is null
)psa
LEFT OUTER JOIN PROM_SITE_DISPLAY_DETAIL psd
ON ( psa.PROM_OFFER_NO = psd.PROM_OFFER_NO
AND psa.SALES_ORG = psd.SALES_ORG
AND psa.SITE = psd.SITE
AND psa.ARTICLE = psd.ARTICLE
AND psa.ARTICLE_UOM = psd.ARTICLE_UOM
AND psa.disp_type = psd.display_type
AND psa.disp_no = psd.display_no
AND psa.disp_alpha = psd.display_alpha
AND psd.END_DATE >= psa.week_start_date
AND psd.start_date <= psa.week_start_date+7 )
ORDER BY psa.disp_type,
psa.disp_no,
psa.new_build_qty desc ]]>
</artDetails>
</TCName>

<TCName name = "validationRCDataScreen">
<promoOfferNo>
<![CDATA[SELECT distinct(prom_offer_no) 
FROM RC_OPERATIONAL.PROM_ABLD_BLD_QTY_EXPAN where site = 'store_no' and disp_type = 'disptype' and disp_no ='dispno'
 and end_type = 'endtype']]>
</promoOfferNo>
<sourceTable>
 <![CDATA[select distinct (a.article),b.build_qty,b.disp_qty,b.prom_price,b.std_price,b.disc_prct
 from Prom_site_article_detail a,PROM_ABLD_BLD_QTY_EXPAN b
 where a.prom_offer_no = 'promo_no'
 and a.site = 'store_no'
 and b.disp_type = 'disptype'
 and b.disp_no = 'dispno'
 and a.disp_start_date = b.disp_start_date
 and a.disp_end_date = b.disp_end_date
 and b.build_qty = a.advert_order_qty
 order by b.build_qty desc]]>
</sourceTable>
<disptype>
<![CDATA[SELECT DISTINCT expan.disp_type, NVL(disp_type.dply_type_desc,expan.disp_type) description, prio.display_type_val,expan.disp_no
FROM RC_OPERATIONAL.PROM_ABLD_BLD_QTY_EXPAN expan, RC_OPERATIONAL.display_type_prio prio , RC_MASTER.display_type disp_type
WHERE expan.site          = 'store_no'
AND expan.department      = 'dept_no'
AND expan.week_start_date = TO_DATE('startingWeek','DD/MM/YYYY')
AND expan.disp_type=prio.display_type_ind
AND prio.active_flag='Y' 
AND expan.disp_type=disp_type.dply_type_ind
AND expan.disp_no=disp_type.dply_no
AND expan.disp_alpha=disp_type.dply_alpha_ind
order by prio.display_type_val nulls last]]>
</disptype>
<disptype1>
<![CDATA[select ADVERT_ORDER_QTY from RC_operational.prom_site_article_detail where site='store_no' and disp_type='dispType' and disp_no='dispNo' and article='articleNum']]>
</disptype1>
<weeks>
<![CDATA[select NEXT_DAY(sysdate-7,calendar_start_day) "week_1" ,
NEXT_DAY(sysdate,calendar_start_day) "week_2" ,
NEXT_DAY(sysdate+7,calendar_start_day) "week_3" ,
NEXT_DAY(sysdate+14,calendar_start_day) "week_4",
NEXT_DAY(sysdate+21,calendar_start_day) "week_5",
NEXT_DAY(sysdate+28,calendar_start_day) "week_6",
NEXT_DAY(sysdate+35,calendar_start_day) "week_7",
NEXT_DAY(sysdate+42,calendar_start_day) "week_8",
NEXT_DAY(sysdate+49,calendar_start_day) "week_9"
from sales_org_calendar where sales_org='salesorg']]>
</weeks>
<artDetails>
<![CDATA[SELECT psa.*,
psd.display_qty AS original_disp_qty
FROM
(SELECT distinct expan.prom_offer_no,
expan.article,
expan.article_uom,
am.article_desc,
expan.disp_type,
expan.disp_no,
expan.disp_alpha,
expan.site,
expan.sales_org,
expan.end_type,
expan.disp_start_date,
expan.disp_end_date,
expan.build_qty as new_build_qty,
expan.disp_qty as new_disp_qty,
expan.week_start_date AS week_start_date,
expan.lock_flg,
to_number( NVL(expan.prom_price,NVL(expan.std_price,0))) AS promo_price,
to_number( NVL(expan.std_price,0) ) - to_number( NVL(expan.prom_price,NVL(expan.std_price,0))) AS SAVINGS,
expan.dflt_flag,
psad.advert_order_qty AS original_build_qty,
expan.prom_start_date,
expan.prom_end_date,
expan.promo_type
FROM RC_OPERATIONAL.PROM_ABLD_BLD_QTY_EXPAN expan,
RC_MASTER.Article_master am,
RC_OPERATIONAL.prom_site_article_detail psad
WHERE expan.site ='store_no'
AND expan.disp_type ='displaytype'
AND expan.department ='department_no'
AND expan.week_start_date=TO_DATE('startingWeek','DD/MM/YYYY')
AND expan.article =am.article
AND expan.prom_offer_no =psad.prom_offer_no
AND expan.SITE =psad.SITE
AND expan.ARTICLE =psad.ARTICLE
AND expan.ARTICLE_UOM =psad.ARTICLE_UOM
AND expan.disp_type =psad.disp_type
AND expan.disp_no =psad.disp_no
AND expan.disp_alpha =psad.disp_alpha
AND expan.disp_start_date=psad.disp_start_date
AND expan.disp_end_date =psad.disp_end_date
AND expan.SALES_ORG =psad.SALES_ORG
AND EXPAN.DELETED_DTETM is null
)psa
LEFT OUTER JOIN PROM_SITE_DISPLAY_DETAIL psd
ON ( psa.PROM_OFFER_NO = psd.PROM_OFFER_NO
AND psa.SALES_ORG = psd.SALES_ORG
AND psa.SITE = psd.SITE
AND psa.ARTICLE = psd.ARTICLE
AND psa.ARTICLE_UOM = psd.ARTICLE_UOM
AND psa.disp_type = psd.display_type
AND psa.disp_no = psd.display_no
AND psa.disp_alpha = psd.display_alpha
AND psd.END_DATE >= psa.week_start_date
AND psd.start_date <= psa.week_start_date+7 )
ORDER BY psa.disp_type,
psa.disp_no,
psa.new_build_qty desc ]]>
</artDetails>
</TCName>

</configuration>