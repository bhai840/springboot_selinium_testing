<?xml version="1.0" encoding="UTF-8"?>
<configuration>

<TCName name = "ReceivingWareHouseinFullByPostLater">
<RMStatus>
<![CDATA[SELECT lfbnr,recv_method,sap_recv_method FROM ZWOWT_MDOCHD where lfbnr='ordNo']]>
</RMStatus>
<ONo>
8390062
</ONo>
<pilotstore>
8421161
</pilotstore>
<SITStore>
1959406
</SITStore>

<dispWTt>
<![CDATA[select distinct PITM.MATNR,art_uom.meinh as uom, 
case when art_uom.meinh='KG' and a.ZZDESPATCH_WEIGHT>0.000
THEN convert(double,a.ZZDESPATCH_WEIGHT)
ELSE convert(double,sum(a.lfimg))*convert(DOUBLE,OPTM.ARTICLE_OM) END as disptotalqty,
ZAL.RANDOM_WEIGHT_FLG FROM LOCAL_NOTIF_INFO_HDR LONH JOIN ZWOWO_PO_ITM PITM ON (LONH.ORDER_NO = PITM.EBELN)
JOIN ZWOWO_PO_ITM OPTM ON (PITM.EBELN = OPTM.EBELN and PITM.EBELP=OPTM.EBELP) JOIN ZWOWO_PO_HDR PHDR ON (PITM.EBELN = PHDR.EBELN)
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) JOIN ZWOWO_ORDER_NOTIF_ITM a ON (ZAM.MATNR = a.MATNR) 
WHERE LONH.VBELN = 'ordno' and ART_UOM.base_uom_ind = 'Y' group by a.matnr,PITM.MATNR,art_uom.meinh,OPTM.ARTICLE_OM,ZAL.pi_uom,ZAL.pi_om,PITM.MEINS,PITM.MENGE,
a.VRKME,a.MEINS,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND,a.vbeln,a.ZZDESPATCH_WEIGHT having a.vbeln = 'ordno']]>
</dispWTt>


<randWt>
<![CDATA[select DISTINCT PITM.MATNR,convert(DOUBLE,SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR, PITM.MEINS)) * convert(DOUBLE,ZAL.PI_OM) || ' EA' as  randWtOM 
FROM LOCAL_NOTIF_INFO_HDR LONH JOIN ZWOWO_PO_ITM PITM ON (LONH.ORDER_NO = PITM.EBELN)
JOIN ZWOWO_PO_ITM OPTM ON (PITM.EBELN = OPTM.EBELN and PITM.EBELP=OPTM.EBELP) JOIN ZWOWO_PO_HDR PHDR ON (PITM.EBELN = PHDR.EBELN)
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) JOIN ZWOWO_ORDER_NOTIF_ITM a ON (ZAM.MATNR = a.MATNR) 
WHERE LONH.VBELN = 'ordno' and ART_UOM.base_uom_ind = 'Y' group by a.matnr,PITM.MATNR,art_uom.meinh,OPTM.ARTICLE_OM,ZAL.pi_uom,ZAL.pi_om,PITM.MEINS,PITM.MENGE,
a.VRKME,a.MEINS,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND,a.vbeln having a.vbeln = 'ordno']]>
</randWt>
<checkOrder>
<![CDATA[select * from revert_received_order where order_no='ordNo']]>
</checkOrder>
<cpbdArt>
<![CDATA[select DISTINCT COMPLEX_PACK_BRK_ARTICLE from zwowc_article_listing where matnr = 'artno']]>
</cpbdArt>
<cpbd>
<![CDATA[select DISTINCT matnr,complex_pack_brk_article,complex_pack_brk_om from ZWOWC_ARTICLE_LISTING where SAAP.ZWOWC_ARTICLE_LISTING.COMPLEX_PACK_BRK_ARTICLE = 'artno' 
order by complex_pack_brk_om desc]]>
</cpbd>
<cpbdSOH>
<![CDATA[select DISTINCT a.article,convert(DOUBLE,a.store_soh) as TUSOH, b.meinh  as TotalUnits,convert(DOUBLE,a.store_soh_rand_wght) || ' EA' as  randWtO 
from saap.local_wow_soh a,ZWOWC_ARTICLE_UOM b where a.article = b.matnr and article = 'artno' and b.base_uom_ind = 'Y';]]>
</cpbdSOH>
<cpbdSOHafter>
<![CDATA[select DISTINCT a.article,convert(DOUBLE,a.store_soh) || ' ' || b.meinh  as TotalUnits 
from saap.local_wow_soh a,ZWOWC_ARTICLE_UOM b where a.article = b.matnr and article = 'artno' and b.base_uom_ind = 'Y';]]>
</cpbdSOHafter>
<SOHbefore>
<![CDATA[select DISTINCT a.article,round(convert(DOUBLE,a.store_soh),3) as TUSOH, art_uom.meinh  as TotalUnits,round(convert(DOUBLE,a.store_soh_rand_wght),0) || ' EA' as  randWtOM,
ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND from saap.local_wow_soh a 
join ZWOWC_ARTICLE_UOM art_uom on (a.article=art_uom.matnr) join ZWOWO_PO_ITM PITM on (PITM.matnr=art_uom.matnr) JOIN LOCAL_NOTIF_INFO_HDR LONH ON (LONH.ORDER_NO = PITM.EBELN)
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR)  
WHERE LONH.VBELN = 'ordNo'  and ART_UOM.base_uom_ind = 'Y';]]>
</SOHbefore>
<SOH>
<![CDATA[select DISTINCT a.article,round(convert(DOUBLE,a.store_soh),3) || ' ' ||  art_uom.meinh  as TotalUnits,round(convert(DOUBLE,a.store_soh_rand_wght),0) || ' EA' as  randWtOM,
ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND from saap.local_wow_soh a 
join ZWOWC_ARTICLE_UOM art_uom on (a.article=art_uom.matnr) join ZWOWO_PO_ITM PITM on (PITM.matnr=art_uom.matnr) JOIN LOCAL_NOTIF_INFO_HDR LONH ON (LONH.ORDER_NO = PITM.EBELN)
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) 
where LONH.VBELN = 'ordNo'  and ART_UOM.base_uom_ind = 'Y';]]>
</SOH>
<dispSOHbefore>
<![CDATA[select distinct a.MATNR, convert(DOUBLE,b.store_soh) as TUSOH , art_uom.meinh  as TotalUnits from ZWOWO_ORDER_COMPONENT a 
join ZWOWC_ARTICLE_UOM art_uom on (a.matnr=art_uom.matnr) join saap.local_wow_soh b on (b.ARTICLE=a.MATNR)
group by a.MATNR, a.ebeln, a.display_article, a.order_type,art_uom.meinh,b.store_soh,ART_UOM.base_uom_ind,a.MEINS having a.ebeln = 'ordNo' 
and a.display_article = 'artno' and ART_UOM.base_uom_ind = 'Y';]]>
</dispSOHbefore>
<dispSOH>
<![CDATA[select distinct a.MATNR, convert(DOUBLE,b.store_soh) || ' ' ||  art_uom.meinh  as TotalUnits from ZWOWO_ORDER_COMPONENT a 
join ZWOWC_ARTICLE_UOM art_uom on (a.matnr=art_uom.matnr) join saap.local_wow_soh b on (b.ARTICLE=a.MATNR)
group by a.MATNR, a.ebeln, a.display_article, a.order_type,art_uom.meinh,b.store_soh,ART_UOM.base_uom_ind,a.MEINS having a.ebeln = 'ordNo' 
and a.display_article ='artno' and ART_UOM.base_uom_ind = 'Y';]]>
</dispSOH>
<AddOrder>
<![CDATA[INSERT INTO "SAAP"."revert_received_order" ("order_no") VALUES('ordersNo')]]>
</AddOrder>
<revertOrder>
<![CDATA[call sp_wow_RevertReceiving('{iv_order_number:"ordno"}');]]>
</revertOrder>
<OrderList>
<![CDATA[SELECT DISTINCT A.DELIVERY AS "DELIVERY",
MAX(convert(char(12), A.LFDAT, 103)) OVER (PARTITION BY A.DELIVERY) AS "DELIVERY DATE",
MAX(convert(char(12), A.ON_SHOW_DATE, 103)) OVER (PARTITION BY A.DELIVERY) AS "ON SHOW DATE", A.created_by,A.lifnr
FROM 
(
  SELECT DISTINCT LONH.VBELN AS DELIVERY,  LONH.MSG_TYPE AS STATUS,   PITM.MATNR AS ARTICLE,   SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR, PITM.MEINS) AS ORDER_QUANTITY, 
  PITM.MEINS AS ARTICLE_UOM,  MAX(PHDR.ON_SHOW_DATE) OVER (PARTITION BY PHDR.EBELN) AS ON_SHOW_DATE,MAX(PHDR.LFDAT) OVER (PARTITION BY PHDR.EBELN) AS LFDAT,PTM.created_by,PTM.lifnr,
  ZAL.RANDOM_WEIGHT_FLG AS RANDOM_WEIGHT_FLAG  FROM LOCAL_NOTIF_INFO_HDR LONH  JOIN ZWOWO_PO_ITM PITM ON (LONH.ORDER_NO = PITM.EBELN) JOIN ZWOWO_ORDER_NOTIF_HDR PTM ON (LONH.VBELN = PTM.VBELN)
  JOIN ZWOWO_PO_HDR PHDR ON (PITM.EBELN = PHDR.EBELN)  JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR)  WHERE LONH.VBELN = 'ordno'
) A;]]>
</OrderList>
<displist>
<![CDATA[select convert(DOUBLE,sum(LFIMG)) as dispQty, sum(ZZDESPATCH_WEIGHT) as dispWt from ZWOWO_ORDER_NOTIF_ITM where vbeln = 'ordno']]>
</displist>
<OrderList1>
<![CDATA[select NAME1 || ' (' || SUPPLIER || ')' as supplierDet from ZWOWC_SUPPLIER_DETAILS  where supplier = 'suppno']]>
</OrderList1>
<OrderList2>
<![CDATA[select convert(double,b.ORDER_QTY),convert(double,count(distinct a.matnr)) as count, convert(double,sum(ZZDESPATCH_WEIGHT)) as disp 
from ZWOWO_ORDER_NOTIF_ITM a,LOCAL_WOW_ORDER_INFO_POST_PO b where a.vbeln = 'ordno' and b.po_no in (select vgbel from ZWOWO_ORDER_NOTIF_ITM where vbeln='ordno' )
group by b.ORDER_QTY]]>
</OrderList2>
<Tempflag>
<![CDATA[select Temperature_ind from ZWOWO_PO_HDR where ebeln = 'ordno']]>
</Tempflag>
<OrderArtList>
<![CDATA[select distinct PITM.MATNR, convert(DOUBLE,OPTM.ARTICLE_OM)|| ' ' ||  art_uom.meinh as OM ,convert(DOUBLE,ZAL.pi_om)|| ' ' ||  ZAL.pi_uom  as PIOMS, 
convert(DOUBLE,SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR, PITM.MEINS)) || ' ' || PITM.MEINS as qty ,
convert(DOUBLE,OPTM.ARTICLE_OM)*convert(DOUBLE,SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR, PITM.MEINS)) || ' ' ||  art_uom.meinh  as TotalUnits,
convert(DOUBLE,SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR, PITM.MEINS)) * convert(DOUBLE,ZAL.PI_OM) || ' EA' as  randWtOM,
convert(double,sum(a.lfimg)) || ' ' || a.VRKME as dispqty,
case when a.MEINS='KG' and ZAL.RANDOM_WEIGHT_FLG='N' and a.ZZDESPATCH_WEIGHT>0.000
THEN convert(double,a.ZZDESPATCH_WEIGHT) || ' ' || a.MEINS
when ZAL.RANDOM_WEIGHT_FLG='Y'
THEN convert(double,a.ZZDESPATCH_WEIGHT) || ' ' || art_uom.meinh
ELSE convert(double,sum(a.lfimg))*convert(DOUBLE,OPTM.ARTICLE_OM) || ' ' || a.MEINS END as disptotalqty,
'' as recqty,'' as recTU,
ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND ,convert(DOUBLE,ZAL.pi_om)*convert(double,sum(a.lfimg)) || ' EA' as disprandwt
FROM LOCAL_NOTIF_INFO_HDR LONH JOIN ZWOWO_PO_ITM PITM ON (LONH.ORDER_NO = PITM.EBELN)
JOIN ZWOWO_PO_ITM OPTM ON (PITM.EBELN = OPTM.EBELN and PITM.EBELP=OPTM.EBELP) JOIN ZWOWO_PO_HDR PHDR ON (PITM.EBELN = PHDR.EBELN)
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) JOIN ZWOWO_ORDER_NOTIF_ITM a ON (ZAM.MATNR = a.MATNR) 
WHERE LONH.VBELN = 'ordno' and ART_UOM.base_uom_ind = 'Y' group by a.matnr,PITM.MATNR,art_uom.meinh,OPTM.ARTICLE_OM,ZAL.pi_uom,ZAL.pi_om,PITM.MEINS,PITM.MENGE,
a.VRKME,a.MEINS,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND,a.vbeln,a.ZZDESPATCH_WEIGHT having a.vbeln = 'ordno']]>
</OrderArtList>
<fullArtList>
<![CDATA[select DISTINCT PITM.MATNR,convert(DOUBLE,OPTM.ARTICLE_OM)|| ' ' ||  art_uom.meinh as OM1, convert(DOUBLE,OPTM.ARTICLE_OM)|| ' ' ||  art_uom.meinh as OM,
convert(double,SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR, PITM.MEINS)) || ' ' || PITM.MEINS as qty ,
convert(DOUBLE,OPTM.ARTICLE_OM)*convert(double,SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR, PITM.MEINS)) || ' ' ||  art_uom.meinh  as TotalUnits, ZAL.RANDOM_WEIGHT_FLG, 
ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND, ZAM.TEMPERATURE_IND,
case when a.MEINS='KG' and a.ZZDESPATCH_WEIGHT>0.000
THEN convert(double,a.ZZDESPATCH_WEIGHT) || ' ' || a.MEINS
WHEN a.MEINS='KG' and ZAL.RANDOM_WEIGHT_FLG='Y'
THEN convert(double,sum(a.lfimg))*convert(DOUBLE,OPTM.ARTICLE_OM) || ' ' || a.MEINS  ||' ('||convert(DOUBLE,ZAL.pi_om)*convert(double,sum(a.lfimg)) || ' EA)'
ELSE convert(double,sum(a.lfimg))*convert(DOUBLE,OPTM.ARTICLE_OM) || ' ' || a.MEINS END as soh,
convert(double,SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR, PITM.MEINS)) || ' ' || PITM.MEINS AS recqty,
case when a.MEINS='KG' and a.ZZDESPATCH_WEIGHT>0.000
THEN convert(double,a.ZZDESPATCH_WEIGHT) || ' ' || a.MEINS
when a.MEINS='KG' and ZAL.RANDOM_WEIGHT_FLG='Y'
THEN convert(double,sum(a.lfimg))*convert(DOUBLE,OPTM.ARTICLE_OM) || ' ' || a.MEINS
ELSE convert(double,sum(a.lfimg))*convert(DOUBLE,OPTM.ARTICLE_OM) || ' ' || a.MEINS END as recTU,
convert(double,sum(a.lfimg)) || ' ' || a.VRKME as dispqty,
case when a.MEINS='KG' and ZAL.RANDOM_WEIGHT_FLG='N' and a.ZZDESPATCH_WEIGHT>0.000
THEN convert(double,a.ZZDESPATCH_WEIGHT) || ' ' || a.MEINS
when ZAL.RANDOM_WEIGHT_FLG='Y'
THEN convert(double,a.ZZDESPATCH_WEIGHT) || ' ' || art_uom.meinh
ELSE convert(double,sum(a.lfimg))*convert(DOUBLE,OPTM.ARTICLE_OM) || ' ' || a.MEINS END as disptotalqty,
convert(DOUBLE,ZAL.pi_om)*convert(double,sum(a.lfimg)) || ' EA' as disprandwt ,
convert(DOUBLE,SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR, PITM.MEINS)) * convert(DOUBLE,ZAL.PI_OM) || ' EA' as  orderrandWtOM,
case when convert(DOUBLE,SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR, PITM.MEINS))=0
THEN '' 
ELSE convert(DOUBLE,ZAL.pi_om)*convert(double,sum(a.lfimg)) || ' EA' END as  recrandWtOM
FROM LOCAL_NOTIF_INFO_HDR LONH JOIN ZWOWO_PO_ITM PITM ON (LONH.ORDER_NO = PITM.EBELN)
JOIN ZWOWO_PO_ITM OPTM ON (PITM.EBELN = OPTM.EBELN and PITM.EBELP=OPTM.EBELP) JOIN ZWOWO_PO_HDR PHDR ON (PITM.EBELN = PHDR.EBELN)
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) JOIN ZWOWO_ORDER_NOTIF_ITM a ON (ZAM.MATNR = a.MATNR) 
WHERE LONH.VBELN = 'ordno' and ART_UOM.base_uom_ind = 'Y' group by a.matnr,PITM.MATNR,art_uom.meinh,OPTM.ARTICLE_OM,ZAL.pi_uom,ZAL.pi_om,PITM.MEINS,PITM.MENGE,
a.VRKME,a.MEINS,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND,a.vbeln,ZAM.TEMPERATURE_IND,
a.ZZDESPATCH_WEIGHT having a.vbeln = 'ordno']]>
</fullArtList>
<OrderArtListTemp>
<![CDATA[select distinct PITM.MATNR, convert(DOUBLE,OPTM.ARTICLE_OM)|| ' ' ||  art_uom.meinh as OM ,convert(DOUBLE,ZAL.pi_om)|| ' ' ||  ZAL.pi_uom  as PIOMS, 
convert(DOUBLE,SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR, PITM.MEINS)) || ' ' || PITM.MEINS as qty ,
convert(DOUBLE,OPTM.ARTICLE_OM)*convert(DOUBLE,SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR, PITM.MEINS)) || ' ' ||  art_uom.meinh  as TotalUnits,
convert(DOUBLE,SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR, PITM.MEINS)) * convert(DOUBLE,ZAL.PI_OM) || ' EA' as  randWtOM,
convert(double,sum(a.lfimg)) || ' ' || a.VRKME as dispqty,
case when a.MEINS='KG' and ZAL.RANDOM_WEIGHT_FLG='N' and a.ZZDESPATCH_WEIGHT>0.000
THEN convert(double,a.ZZDESPATCH_WEIGHT) || ' ' || a.MEINS
when ZAL.RANDOM_WEIGHT_FLG='Y'
THEN convert(double,a.ZZDESPATCH_WEIGHT) || ' ' || art_uom.meinh
ELSE convert(double,sum(a.lfimg))*convert(DOUBLE,OPTM.ARTICLE_OM) || ' ' || a.MEINS END as disptotalqty,
'' as recqty,'' as recTU,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND ,ZAM.TEMPERATURE_IND,
convert(DOUBLE,ZAL.pi_om)*convert(double,sum(a.lfimg)) || ' EA' as disprandwt
FROM LOCAL_NOTIF_INFO_HDR LONH JOIN ZWOWO_PO_ITM PITM ON (LONH.ORDER_NO = PITM.EBELN)
JOIN ZWOWO_PO_ITM OPTM ON (PITM.EBELN = OPTM.EBELN and PITM.EBELP=OPTM.EBELP) JOIN ZWOWO_PO_HDR PHDR ON (PITM.EBELN = PHDR.EBELN)
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) JOIN ZWOWO_ORDER_NOTIF_ITM a ON (ZAM.MATNR = a.MATNR) 
WHERE LONH.VBELN = 'ordno' and ART_UOM.base_uom_ind = 'Y' group by a.matnr,PITM.MATNR,art_uom.meinh,OPTM.ARTICLE_OM,ZAL.pi_uom,ZAL.pi_om,PITM.MEINS,PITM.MENGE,
a.VRKME,a.MEINS,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND,a.vbeln,ZAM.TEMPERATURE_IND,a.ZZDESPATCH_WEIGHT having a.vbeln = 'ordno']]>
</OrderArtListTemp>
<dispArtList>
<![CDATA[select distinct MATNR, convert(int,sum(ARTICLE_QTY)) || ' ' || MEINS as qty,convert(int,sum(ARTICLE_QTY)) || ' ' || MEINS as totalunits,
convert(int,sum(ARTICLE_QTY)) || ' ' || MEINS as dispQty,convert(int,sum(ARTICLE_QTY)) || ' ' || MEINS as totaldisp from ZWOWO_ORDER_COMPONENT 
group by MATNR, ebeln, display_article, order_type,MEINS having ebeln = 'ordno' and display_article = 'artno']]>
</dispArtList>
<dispArtfullList>
<![CDATA[select distinct a.MATNR, convert(int,sum(a.ARTICLE_QTY)) || ' ' || a.MEINS as qty,convert(int,sum(a.ARTICLE_QTY)) || ' ' || a.MEINS as totalunits,
convert(int,sum(a.ARTICLE_QTY)) || ' ' || a.MEINS as dispQty,convert(int,sum(a.ARTICLE_QTY)) || ' ' || a.MEINS as totaldisp,
convert(int,sum(a.ARTICLE_QTY)) || ' ' || a.MEINS as rcveQty,
convert(int,sum(a.ARTICLE_QTY)) || ' ' || a.MEINS as totalrcve  
from ZWOWO_ORDER_COMPONENT a JOIN ZWOWC_ARTICLE_MASTER ZAM ON (a.display_article = ZAM.MATNR)
group by a.MATNR, a.ebeln, a.display_article, a.order_type,a.MEINS,ZAM.TEMPERATURE_IND having ebeln = 'ordno' and display_article = 'artno']]>
</dispArtfullList>
</TCName>

<TCName name = "ReceivingVendorASNinFullByPostLater">
<RMStatus>
<![CDATA[SELECT lfbnr,recv_method,sap_recv_method FROM ZWOWT_MDOCHD where lfbnr='ordNo']]>
</RMStatus>
<ONo>
86RYTYUTWE
</ONo>
<pilotstore>
OIU797987897ASDE
</pilotstore>
<SITStore>
SPARK555
</SITStore>
<dispWTt>
<![CDATA[select distinct PITM.MATNR,art_uom.meinh as om,
case when art_uom.meinh='KG' and a.ZZDESPATCH_WEIGHT>0.000
THEN convert(double,a.ZZDESPATCH_WEIGHT)
ELSE convert(double,sum(a.lfimg))*convert(DOUBLE,OPTM.ARTICLE_OM) END as disptotalqty,
ZAL.RANDOM_WEIGHT_FLG FROM LOCAL_NOTIF_INFO_HDR LONH JOIN ZWOWO_PO_ITM PITM ON (LONH.ORDER_NO = PITM.EBELN)
JOIN ZWOWO_PO_ITM OPTM ON (PITM.EBELN = OPTM.EBELN and PITM.EBELP=OPTM.EBELP) JOIN ZWOWO_PO_HDR PHDR ON (PITM.EBELN = PHDR.EBELN)
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) JOIN ZWOWO_ORDER_NOTIF_ITM a ON (ZAM.MATNR = a.MATNR) 
WHERE LONH.VBELN = 'ordno' and ART_UOM.base_uom_ind = 'Y' group by a.matnr,PITM.MATNR,art_uom.meinh,OPTM.ARTICLE_OM,ZAL.pi_uom,ZAL.pi_om,PITM.MEINS,PITM.MENGE,
a.VRKME,a.MEINS,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND,a.vbeln,a.ZZDESPATCH_WEIGHT having a.vbeln = 'ordno']]>
</dispWTt>
<getONo>
<![CDATA[select vbeln,ebeln from ZWOWO_ORDER_NOTIF_hdr where lifex = 'store']]>
</getONo>
<randWt>
<![CDATA[select DISTINCT PITM.MATNR,convert(DOUBLE,SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR, PITM.MEINS)) * convert(DOUBLE,ZAL.PI_OM) || ' EA' as  randWtOM 
FROM LOCAL_NOTIF_INFO_HDR LONH JOIN ZWOWO_PO_ITM PITM ON (LONH.ORDER_NO = PITM.EBELN)
JOIN ZWOWO_PO_ITM OPTM ON (PITM.EBELN = OPTM.EBELN and PITM.EBELP=OPTM.EBELP) JOIN ZWOWO_PO_HDR PHDR ON (PITM.EBELN = PHDR.EBELN)
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) JOIN ZWOWO_ORDER_NOTIF_ITM a ON (ZAM.MATNR = a.MATNR) 
WHERE LONH.VBELN = 'ordno' and ART_UOM.base_uom_ind = 'Y' group by a.matnr,PITM.MATNR,art_uom.meinh,OPTM.ARTICLE_OM,ZAL.pi_uom,ZAL.pi_om,PITM.MEINS,PITM.MENGE,
a.VRKME,a.MEINS,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND,a.vbeln having a.vbeln = 'ordno']]>
</randWt>
<checkOrder>
<![CDATA[select * from revert_received_order where order_no='ordNo']]>
</checkOrder>
<cpbdArt>
<![CDATA[select DISTINCT COMPLEX_PACK_BRK_ARTICLE from zwowc_article_listing where matnr = 'artno']]>
</cpbdArt>
<cpbd>
<![CDATA[select DISTINCT matnr,complex_pack_brk_article,complex_pack_brk_om from ZWOWC_ARTICLE_LISTING where SAAP.ZWOWC_ARTICLE_LISTING.COMPLEX_PACK_BRK_ARTICLE = 'artno' 
order by complex_pack_brk_om desc]]>
</cpbd>
<cpbdSOH>
<![CDATA[select DISTINCT a.article,convert(DOUBLE,a.store_soh) as TUSOH, b.meinh  as TotalUnits,convert(DOUBLE,a.store_soh_rand_wght) || ' EA' as  randWtO 
from saap.local_wow_soh a,ZWOWC_ARTICLE_UOM b where a.article = b.matnr and article = 'artno' and b.base_uom_ind = 'Y';]]>
</cpbdSOH>
<cpbdSOHafter>
<![CDATA[select DISTINCT a.article,convert(DOUBLE,a.store_soh) || ' ' || b.meinh  as TotalUnits 
from saap.local_wow_soh a,ZWOWC_ARTICLE_UOM b where a.article = b.matnr and article = 'artno' and b.base_uom_ind = 'Y';]]>
</cpbdSOHafter>
<SOHbefore>
<![CDATA[select DISTINCT a.article,convert(DOUBLE,a.store_soh) as TUSOH, art_uom.meinh  as TotalUnits,round(convert(DOUBLE,a.store_soh_rand_wght),0) || ' EA' as  randWtOM,
ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND from saap.local_wow_soh a 
join ZWOWC_ARTICLE_UOM art_uom on (a.article=art_uom.matnr) join ZWOWO_PO_ITM PITM on (PITM.matnr=art_uom.matnr) JOIN LOCAL_NOTIF_INFO_HDR LONH ON (LONH.ORDER_NO = PITM.EBELN)
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR)  JOIN ZWOWO_ORDER_NOTIF_ITM ab ON (ZAM.MATNR = ab.MATNR) 
WHERE LONH.VBELN = 'ordNo'  and ART_UOM.base_uom_ind = 'Y' group by ab.matnr,PITM.MATNR,art_uom.meinh,ZAL.pi_uom,ZAL.pi_om,PITM.MEINS,PITM.MENGE,
ab.VRKME,ab.MEINS,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND,ab.vbeln,ab.ZZDESPATCH_WEIGHT,a.article,a.store_soh,a.store_soh_rand_wght 
having ab.vbeln = 'ordNo']]>
</SOHbefore>
<SOH>
<![CDATA[select DISTINCT a.article,convert(DOUBLE,a.store_soh) || ' ' ||  art_uom.meinh  as TotalUnits,round(convert(DOUBLE,a.store_soh_rand_wght),0) || ' EA' as  randWtOM,
ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND from saap.local_wow_soh a 
join ZWOWC_ARTICLE_UOM art_uom on (a.article=art_uom.matnr) join ZWOWO_PO_ITM PITM on (PITM.matnr=art_uom.matnr) JOIN LOCAL_NOTIF_INFO_HDR LONH ON (LONH.ORDER_NO = PITM.EBELN)
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) JOIN ZWOWO_ORDER_NOTIF_ITM ab ON (ZAM.MATNR = ab.MATNR)  
where LONH.VBELN = 'ordNo'  and ART_UOM.base_uom_ind = 'Y' group by ab.matnr,PITM.MATNR,art_uom.meinh,ZAL.pi_uom,ZAL.pi_om,PITM.MEINS,PITM.MENGE,
ab.VRKME,ab.MEINS,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND,ab.vbeln,ab.ZZDESPATCH_WEIGHT,a.article,a.store_soh,a.store_soh_rand_wght 
having ab.vbeln = 'ordNo']]>
</SOH>
<dispSOHbefore>
<![CDATA[select distinct a.MATNR, convert(DOUBLE,b.store_soh) as TUSOH , art_uom.meinh  as TotalUnits from ZWOWO_ORDER_COMPONENT a 
join ZWOWC_ARTICLE_UOM art_uom on (a.matnr=art_uom.matnr) join saap.local_wow_soh b on (b.ARTICLE=a.MATNR)
group by a.MATNR, a.ebeln, a.display_article, a.order_type,art_uom.meinh,b.store_soh,ART_UOM.base_uom_ind,a.MEINS having a.ebeln = 'ordNo' 
and a.display_article = 'artno' and ART_UOM.base_uom_ind = 'Y';]]>
</dispSOHbefore>
<dispSOH>
<![CDATA[select distinct a.MATNR, convert(DOUBLE,b.store_soh) || ' ' ||  art_uom.meinh  as TotalUnits from ZWOWO_ORDER_COMPONENT a 
join ZWOWC_ARTICLE_UOM art_uom on (a.matnr=art_uom.matnr) join saap.local_wow_soh b on (b.ARTICLE=a.MATNR)
group by a.MATNR, a.ebeln, a.display_article, a.order_type,art_uom.meinh,b.store_soh,ART_UOM.base_uom_ind,a.MEINS having a.ebeln = 'ordNo' 
and a.display_article ='artno' and ART_UOM.base_uom_ind = 'Y';]]>
</dispSOH>
<AddOrder>
<![CDATA[INSERT INTO "SAAP"."revert_received_order" ("order_no") VALUES('ordersNo')]]>
</AddOrder>
<revertOrder>
<![CDATA[call sp_wow_RevertReceiving('{iv_order_number:"ordno"}');]]>
</revertOrder>
<OrderList>
<![CDATA[select a.lifex, convert(char(12), convert(date, a.lfdat), 103), convert(char(12), convert(date, b.on_show_date), 103), a.created_by, a.lifnr from ZWOWO_ORDER_NOTIF_HDR a,ZWOWO_PO_HDR b 
where a.vbeln ='ordno' and b.ebeln ='orderno']]>
</OrderList><!-- check -->
<displist>
<![CDATA[select convert(DOUBLE,sum(LFIMG)) as dispQty, sum(ZZDESPATCH_WEIGHT) as dispWt from ZWOWO_ORDER_NOTIF_ITM where vbeln = 'ordno']]>
</displist><!-- check -->
<OrderList1>
<![CDATA[select NAME1 || ' (' || SUPPLIER || ')' as supplierDet from ZWOWC_SUPPLIER_DETAILS  where supplier = 'suppno']]>
</OrderList1><!-- check -->
<OrderList2>
<![CDATA[select convert(double,b.ORDER_QTY),convert(double,count(distinct a.matnr)) as count, convert(double,sum(ZZDESPATCH_WEIGHT)) as disp 
from ZWOWO_ORDER_NOTIF_ITM a,LOCAL_WOW_ORDER_INFO_POST_PO b where a.vbeln = 'ordno' and b.po_no in (select vgbel from ZWOWO_ORDER_NOTIF_ITM where vbeln='ordno' )
group by b.ORDER_QTY]]>
</OrderList2>
<Tempflag>
<![CDATA[select Temperature_ind from ZWOWO_PO_HDR where ebeln = 'ordno']]>
</Tempflag>
<OrderArtList>
<![CDATA[select distinct PITM.MATNR, convert(DOUBLE,OPTM.ARTICLE_OM)|| ' ' ||  art_uom.meinh as OM ,convert(DOUBLE,ZAL.pi_om)|| ' ' ||  ZAL.pi_uom  as PIOMS, 
convert(DOUBLE,SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR, PITM.MEINS)) || ' ' || PITM.MEINS as qty ,
convert(DOUBLE,OPTM.ARTICLE_OM)*convert(DOUBLE,SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR, PITM.MEINS)) || ' ' ||  art_uom.meinh  as TotalUnits,
convert(DOUBLE,SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR, PITM.MEINS)) * convert(DOUBLE,ZAL.PI_OM) || ' EA' as  randWtOM,
convert(double,sum(a.lfimg)) || ' ' || a.VRKME as dispqty,
case when art_uom.meinh='KG' and a.ZZDESPATCH_WEIGHT>0.000
THEN convert(double,a.ZZDESPATCH_WEIGHT) || ' ' || art_uom.meinh
ELSE convert(double,sum(a.lfimg))*convert(DOUBLE,OPTM.ARTICLE_OM) || ' ' || art_uom.meinh END as disptotalqty,
'' as recqty,'' as recTU,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND ,
convert(DOUBLE,ZAL.pi_om)*convert(double,sum(a.lfimg)) || ' EA' as disprandwt
FROM LOCAL_NOTIF_INFO_HDR LONH JOIN ZWOWO_PO_ITM PITM ON (LONH.ORDER_NO = PITM.EBELN)
JOIN ZWOWO_PO_ITM OPTM ON (PITM.EBELN = OPTM.EBELN and PITM.EBELP=OPTM.EBELP) JOIN ZWOWO_PO_HDR PHDR ON (PITM.EBELN = PHDR.EBELN)
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) JOIN ZWOWO_ORDER_NOTIF_ITM a ON (ZAM.MATNR = a.MATNR) 
WHERE LONH.VBELN = 'ordno' and ART_UOM.base_uom_ind = 'Y' group by a.matnr,PITM.MATNR,art_uom.meinh,OPTM.ARTICLE_OM,ZAL.pi_uom,ZAL.pi_om,PITM.MEINS,PITM.MENGE,
a.VRKME,a.MEINS,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND,a.vbeln,a.ZZDESPATCH_WEIGHT having a.vbeln = 'ordno']]>
</OrderArtList>
<fullArtList>
<![CDATA[select PITM.MATNR,convert(DOUBLE,OPTM.ARTICLE_OM)|| ' ' ||  art_uom.meinh as OM1, convert(DOUBLE,OPTM.ARTICLE_OM)|| ' ' ||  art_uom.meinh as OM,convert(DOUBLE,SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR, PITM.MEINS)) || ' ' || PITM.MEINS as qty ,
convert(DOUBLE,OPTM.ARTICLE_OM)*convert(DOUBLE,SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR, PITM.MEINS)) || ' ' ||  art_uom.meinh  as TotalUnits, ZAL.RANDOM_WEIGHT_FLG, 
ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND, ZAM.TEMPERATURE_IND,
case WHEN art_uom.meinh='KG' and ZAL.RANDOM_WEIGHT_FLG='Y' and a.ZZDESPATCH_WEIGHT>0.000
THEN convert(double,a.ZZDESPATCH_WEIGHT) || ' ' || art_uom.meinh  ||' ('||convert(DOUBLE,ZAL.pi_om)*convert(double,sum(a.lfimg)) || ' EA)'
when art_uom.meinh='KG' and ZAL.RANDOM_WEIGHT_FLG='N' and a.ZZDESPATCH_WEIGHT>0.000
THEN convert(double,a.ZZDESPATCH_WEIGHT) || ' ' || art_uom.meinh
WHEN art_uom.meinh='KG' and ZAL.RANDOM_WEIGHT_FLG='Y'
THEN convert(double,sum(a.lfimg))*convert(DOUBLE,OPTM.ARTICLE_OM) || ' ' || art_uom.meinh ||' ('||convert(DOUBLE,ZAL.pi_om)*convert(double,sum(a.lfimg)) || ' EA)'
ELSE convert(double,sum(a.lfimg))*convert(DOUBLE,OPTM.ARTICLE_OM) || ' ' || a.MEINS END as soh,
convert(DOUBLE,SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR, PITM.MEINS)) || ' ' || PITM.MEINS AS recqty,
case when art_uom.meinh='KG' and a.ZZDESPATCH_WEIGHT>0.000
THEN convert(double,a.ZZDESPATCH_WEIGHT) || ' ' || art_uom.meinh
ELSE convert(double,sum(a.lfimg))*convert(DOUBLE,OPTM.ARTICLE_OM) || ' ' || art_uom.meinh end as recTU,
convert(double,sum(a.lfimg)) || ' ' || a.VRKME as dispqty,
case when art_uom.meinh='KG' and a.ZZDESPATCH_WEIGHT>0.000
THEN convert(double,a.ZZDESPATCH_WEIGHT) || ' ' || art_uom.meinh
ELSE convert(double,sum(a.lfimg))*convert(DOUBLE,OPTM.ARTICLE_OM) || ' ' || art_uom.meinh END as disptotalqty,
convert(DOUBLE,ZAL.pi_om)*convert(double,sum(a.lfimg)) || ' EA' as disprandwt ,
convert(DOUBLE,SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR, PITM.MEINS)) * convert(DOUBLE,ZAL.PI_OM) || ' EA' as  orderrandWtOM,
case when convert(DOUBLE,SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR, PITM.MEINS))=0
THEN '' 
ELSE convert(DOUBLE,ZAL.pi_om)*convert(double,sum(a.lfimg)) || ' EA' END as  recrandWtOM,
case when art_uom.meinh='KG'
then convert(DOUBLE,OPTM.ARTICLE_OM)*convert(DOUBLE,SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR, PITM.MEINS)) 
else '0' end as rw
FROM LOCAL_NOTIF_INFO_HDR LONH JOIN ZWOWO_PO_ITM PITM ON (LONH.ORDER_NO = PITM.EBELN)
JOIN ZWOWO_PO_ITM OPTM ON (PITM.EBELN = OPTM.EBELN and PITM.EBELP=OPTM.EBELP) JOIN ZWOWO_PO_HDR PHDR ON (PITM.EBELN = PHDR.EBELN)
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) JOIN ZWOWO_ORDER_NOTIF_ITM a ON (ZAM.MATNR = a.MATNR) 
WHERE LONH.VBELN = 'ordno' and ART_UOM.base_uom_ind = 'Y' group by a.matnr,PITM.MATNR,art_uom.meinh,OPTM.ARTICLE_OM,ZAL.pi_uom,ZAL.pi_om,PITM.MEINS,PITM.MENGE,
a.VRKME,a.MEINS,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND,a.vbeln,ZAM.TEMPERATURE_IND,a.ZZDESPATCH_WEIGHT having a.vbeln = 'ordno']]>
</fullArtList>
<OrderArtListTemp>
<![CDATA[select distinct PITM.MATNR, convert(DOUBLE,OPTM.ARTICLE_OM)|| ' ' ||  art_uom.meinh as OM ,convert(DOUBLE,ZAL.pi_om)|| ' ' ||  ZAL.pi_uom  as PIOMS, 
convert(DOUBLE,SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR, PITM.MEINS)) || ' ' || PITM.MEINS as qty ,
convert(DOUBLE,OPTM.ARTICLE_OM)*convert(DOUBLE,SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR, PITM.MEINS)) || ' ' ||  art_uom.meinh  as TotalUnits,
convert(DOUBLE,SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR, PITM.MEINS)) * convert(DOUBLE,ZAL.PI_OM) || ' EA' as  randWtOM,
convert(double,sum(a.lfimg)) || ' ' || a.VRKME as dispqty,
case when art_uom.meinh='KG' and a.ZZDESPATCH_WEIGHT>0.000
THEN convert(double,a.ZZDESPATCH_WEIGHT) || ' ' || art_uom.meinh
ELSE convert(double,sum(a.lfimg))*convert(DOUBLE,OPTM.ARTICLE_OM) || ' ' || art_uom.meinh END as disptotalqty,
'' as recqty,'' as recTU,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND ,ZAM.TEMPERATURE_IND,
convert(DOUBLE,ZAL.pi_om)*convert(double,sum(a.lfimg)) || ' EA' as disprandwt
FROM LOCAL_NOTIF_INFO_HDR LONH JOIN ZWOWO_PO_ITM PITM ON (LONH.ORDER_NO = PITM.EBELN)
JOIN ZWOWO_PO_ITM OPTM ON (PITM.EBELN = OPTM.EBELN and PITM.EBELP=OPTM.EBELP) JOIN ZWOWO_PO_HDR PHDR ON (PITM.EBELN = PHDR.EBELN)
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) JOIN ZWOWO_ORDER_NOTIF_ITM a ON (ZAM.MATNR = a.MATNR) 
WHERE LONH.VBELN = 'ordno' and ART_UOM.base_uom_ind = 'Y' group by a.matnr,PITM.MATNR,art_uom.meinh,OPTM.ARTICLE_OM,ZAL.pi_uom,ZAL.pi_om,PITM.MEINS,PITM.MENGE,
a.VRKME,a.MEINS,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND,a.vbeln,ZAM.TEMPERATURE_IND,a.ZZDESPATCH_WEIGHT having a.vbeln = 'ordno']]>
</OrderArtListTemp>
<dispArtList>
<![CDATA[select distinct MATNR, convert(int,sum(ARTICLE_QTY)) || ' ' || MEINS as qty,convert(int,sum(ARTICLE_QTY)) || ' ' || MEINS as totalunits,
convert(int,sum(ARTICLE_QTY)) || ' ' || MEINS as dispQty,convert(int,sum(ARTICLE_QTY)) || ' ' || MEINS as totaldisp from ZWOWO_ORDER_COMPONENT 
group by MATNR, ebeln, display_article, order_type,MEINS having ebeln = 'ordno' and display_article = 'artno']]>
</dispArtList>
<dispArtfullList>
<![CDATA[select distinct a.MATNR, convert(int,sum(a.ARTICLE_QTY)) || ' ' || a.MEINS as qty,convert(int,sum(a.ARTICLE_QTY)) || ' ' || a.MEINS as totalunits,
convert(int,sum(a.ARTICLE_QTY)) || ' ' || a.MEINS as dispQty,convert(int,sum(a.ARTICLE_QTY)) || ' ' || a.MEINS as totaldisp,
convert(int,sum(a.ARTICLE_QTY)) || ' ' || a.MEINS as rcveQty,
convert(int,sum(a.ARTICLE_QTY)) || ' ' || a.MEINS as totalrcve  
from ZWOWO_ORDER_COMPONENT a JOIN ZWOWC_ARTICLE_MASTER ZAM ON (a.display_article = ZAM.MATNR)
group by a.MATNR, a.ebeln, a.display_article, a.order_type,a.MEINS,ZAM.TEMPERATURE_IND having ebeln = 'ordno' and display_article = 'artno']]>
</dispArtfullList>
</TCName>

<TCName name = "ReceivingVendorinFullByPostLater">
<RMStatus>
<![CDATA[SELECT lfbnr,recv_method,sap_recv_method FROM ZWOWT_MDOCHD where lfbnr='ordNo']]>
</RMStatus>
<dispArtfullList>
<![CDATA[select distinct a.MATNR, convert(int,sum(a.ARTICLE_QTY)) || ' ' || a.MEINS as qty,convert(int,sum(a.ARTICLE_QTY)) || ' ' || a.MEINS as totalunits,
convert(int,sum(a.ARTICLE_QTY)) || ' ' || a.MEINS as dispQty,convert(int,sum(a.ARTICLE_QTY)) || ' ' || a.MEINS as totaldisp,
case when ZAM.TEMPERATURE_IND<>' '
THEN '0' || ' ' || a.MEINS 
ELSE convert(int,sum(a.ARTICLE_QTY)) || ' ' || a.MEINS END as rcveQty,
case when ZAM.TEMPERATURE_IND<>' '
THEN '0' || ' ' || a.MEINS 
ELSE convert(int,sum(a.ARTICLE_QTY)) || ' ' || a.MEINS END as totalrcve  
from ZWOWO_ORDER_COMPONENT a JOIN ZWOWC_ARTICLE_MASTER ZAM ON (a.display_article = ZAM.MATNR)
group by a.MATNR, a.ebeln, a.display_article, a.order_type,a.MEINS,ZAM.TEMPERATURE_IND having ebeln = 'ordno' and display_article = 'artno']]>
</dispArtfullList>
<pilotstore>
50902769
</pilotstore>
<SITStore>
50008653
</SITStore>
<ONo>
54215116
</ONo>
<randWt>
<![CDATA[select PITM.MATNR,convert(DOUBLE,PITM.MENGE) * convert(DOUBLE,ZAL.PI_OM) || ' EA' as  randWtOM FROM ZWOWO_PO_ITM PITM 
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
WHERE PITM.EBELN = 'ordno' and ART_UOM.base_uom_ind = 'Y';]]>
</randWt>
<checkOrder>
<![CDATA[select * from revert_received_order where order_no='ordNo']]>
</checkOrder>
<cpbdArt>
<![CDATA[select COMPLEX_PACK_BRK_ARTICLE from zwowc_article_listing where matnr = 'artno']]>
</cpbdArt>
<cpbd>
<![CDATA[select matnr,complex_pack_brk_article,complex_pack_brk_om from ZWOWC_ARTICLE_LISTING where SAAP.ZWOWC_ARTICLE_LISTING.COMPLEX_PACK_BRK_ARTICLE = 'artno' 
order by complex_pack_brk_om desc]]>
</cpbd>
<cpbdSOH>
<![CDATA[select a.article,convert(DOUBLE,a.store_soh) as TUSOH, b.meinh  as TotalUnits,convert(DOUBLE,a.store_soh_rand_wght) || ' EA' as  randWtO 
from saap.local_wow_soh a,ZWOWC_ARTICLE_UOM b where a.article = b.matnr and article = 'artno' and b.base_uom_ind = 'Y';]]>
</cpbdSOH>
<cpbdSOHafter>
<![CDATA[select a.article,convert(DOUBLE,a.store_soh) || ' ' || b.meinh  as TotalUnits 
from saap.local_wow_soh a,ZWOWC_ARTICLE_UOM b where a.article = b.matnr and article = 'artno' and b.base_uom_ind = 'Y';]]>
</cpbdSOHafter>
<SOHbefore>
<![CDATA[select a.article,round(convert(DOUBLE,a.store_soh),3) as TUSOH, art_uom.meinh  as TotalUnits,round(convert(DOUBLE,a.store_soh_rand_wght),0) || ' EA' as  randWtOM,
ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND from saap.local_wow_soh a 
join ZWOWC_ARTICLE_UOM art_uom on (a.article=art_uom.matnr) join ZWOWO_PO_ITM PITM on (PITM.matnr=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) 
where PITM.EBELN = 'ordNo'  and ART_UOM.base_uom_ind = 'Y';]]>
</SOHbefore>
<SOH>
<![CDATA[select a.article,round(convert(DOUBLE,a.store_soh),3) || ' ' ||  art_uom.meinh  as TotalUnits,round(convert(DOUBLE,a.store_soh_rand_wght),0) || ' EA' as  randWtOM,
ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND from saap.local_wow_soh a 
join ZWOWC_ARTICLE_UOM art_uom on (a.article=art_uom.matnr) join ZWOWO_PO_ITM PITM on (PITM.matnr=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) 
where PITM.EBELN = 'ordNo'  and ART_UOM.base_uom_ind = 'Y';]]>
</SOH>
<dispSOHbefore>
<![CDATA[select distinct a.MATNR, convert(DOUBLE,b.store_soh) as TUSOH , art_uom.meinh  as TotalUnits from ZWOWO_ORDER_COMPONENT a 
join ZWOWC_ARTICLE_UOM art_uom on (a.matnr=art_uom.matnr) join saap.local_wow_soh b on (b.ARTICLE=a.MATNR)
group by a.MATNR, a.ebeln, a.display_article, a.order_type,art_uom.meinh,b.store_soh,ART_UOM.base_uom_ind,a.MEINS having a.ebeln = 'ordNo' 
and a.display_article = 'artno' and a.order_type = 'PO' and ART_UOM.base_uom_ind = 'Y';]]>
</dispSOHbefore>
<dispSOH>
<![CDATA[select distinct a.MATNR, convert(DOUBLE,b.store_soh) || ' ' ||  art_uom.meinh  as TotalUnits from ZWOWO_ORDER_COMPONENT a 
join ZWOWC_ARTICLE_UOM art_uom on (a.matnr=art_uom.matnr) join saap.local_wow_soh b on (b.ARTICLE=a.MATNR)
group by a.MATNR, a.ebeln, a.display_article, a.order_type,art_uom.meinh,b.store_soh,ART_UOM.base_uom_ind,a.MEINS having a.ebeln = 'ordNo' 
and a.display_article ='artno' and a.order_type = 'PO' and ART_UOM.base_uom_ind = 'Y';]]>
</dispSOH>
<AddOrder>
<![CDATA[INSERT INTO "SAAP"."revert_received_order" ("order_no") VALUES('ordersNo')]]>
</AddOrder>
<revertOrder>
<![CDATA[call sp_wow_RevertReceiving('{iv_order_number:"ordno"}');]]>
</revertOrder>
<OrderList>
<![CDATA[select a.ebeln, convert(char(12), a.lfdat, 103), convert(char(12), a.on_show_date, 103), a.created_by, b.lifnr from zwowo_po_hdr a, ZWOWO_PO_HDR b 
where a.ebeln = b.ebeln and a.ebeln = 'ordno']]>
</OrderList>
<OrderList1>
<![CDATA[select NAME1 || ' (' || SUPPLIER || ')' as supplierDet from ZWOWC_SUPPLIER_DETAILS  where supplier = 'suppno']]>
</OrderList1>
<OrderList2>
<![CDATA[select convert(double,sum(menge)),count(*) from ZWOWO_PO_ITM where ebeln = 'ordno']]>
</OrderList2>
<Tempflag>
<![CDATA[select Temperature_ind from ZWOWO_PO_HDR where ebeln = 'ordno']]>
</Tempflag>
<OrderArtList>
<![CDATA[select PITM.MATNR, convert(DOUBLE,ZAL.ARTICLE_OM)|| ' ' ||  art_uom.meinh as OM ,convert(DOUBLE,ZAL.pi_om)|| ' ' ||  ZAL.pi_uom  as PIOMS, convert(DOUBLE,PITM.MENGE) || ' ' || PITM.MEINS as qty ,
convert(DOUBLE,ZAL.ARTICLE_OM)*convert(DOUBLE,PITM.MENGE) || ' ' ||  art_uom.meinh  as TotalUnits,
convert(DOUBLE,PITM.MENGE) * convert(DOUBLE,ZAL.PI_OM) || ' EA' as  randWtOM,'NA' as dispqty,'NA' as totalqty,'' as recqty,'' as recTU,
 ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND FROM ZWOWO_PO_ITM PITM 
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
WHERE PITM.EBELN = 'ordno' and ART_UOM.base_uom_ind = 'Y';]]>
</OrderArtList>
<fullArtList>
<![CDATA[select PITM.MATNR,PITM.MATNR, convert(DOUBLE,ZAL.ARTICLE_OM)|| ' ' ||  art_uom.meinh as OM,convert(DOUBLE,PITM.MENGE) || ' ' || PITM.MEINS as qty ,
convert(DOUBLE,ZAL.ARTICLE_OM)*convert(DOUBLE,PITM.MENGE) || ' ' ||  art_uom.meinh  as TotalUnits, 'NA' as disp_qty,'NA' as disp_tqty, ZAL.RANDOM_WEIGHT_FLG, 
ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND, ZAM.TEMPERATURE_IND,convert(DOUBLE,ZAL.ARTICLE_OM)*convert(DOUBLE,PITM.MENGE) || ' ' ||  art_uom.meinh AS soh,
convert(DOUBLE,PITM.MENGE) || ' ' || PITM.MEINS AS recqty,convert(DOUBLE,ZAL.ARTICLE_OM)*convert(DOUBLE,PITM.MENGE) || ' ' ||  art_uom.meinh AS recTU,
case when PITM.MEINS='KG'
then convert(DOUBLE,ZAL.ARTICLE_OM)*convert(DOUBLE,PITM.MENGE)
else '0' end as rw
FROM ZWOWO_PO_ITM PITM JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) join ZWOWC_ARTICLE_UOM art_uom on 
(ZAL.MATNR=art_uom.matnr) WHERE PITM.EBELN = 'ordno' and ART_UOM.base_uom_ind = 'Y';]]>
</fullArtList>
<OrderArtListTemp>
<![CDATA[select PITM.MATNR, convert(DOUBLE,ZAL.ARTICLE_OM)|| ' ' ||  art_uom.meinh as OM,convert(DOUBLE,ZAL.pi_om)|| ' ' ||  ZAL.pi_uom  as PIOMS, convert(DOUBLE,PITM.MENGE) || ' ' || PITM.MEINS as qty ,
convert(DOUBLE,ZAL.ARTICLE_OM)*convert(DOUBLE,PITM.MENGE) || ' ' ||  art_uom.meinh  as TotalUnits,
convert(DOUBLE,PITM.MENGE) * convert(DOUBLE,ZAL.PI_OM) || ' EA' as  randWtOM,'NA' as dispqty,'NA' as totalqty,'' as recqty,'' as recTU,
 ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND, ZAM.TEMPERATURE_IND FROM ZWOWO_PO_ITM PITM 
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
WHERE PITM.EBELN = 'ordno' and ART_UOM.base_uom_ind = 'Y';]]>
</OrderArtListTemp>
<dispArtList>
<![CDATA[select distinct MATNR, convert(int,sum(ARTICLE_QTY)) || ' ' || MEINS as qty,convert(int,sum(ARTICLE_QTY)) || ' ' || MEINS as totalunits from ZWOWO_ORDER_COMPONENT 
group by MATNR, ebeln, display_article, order_type,MEINS having ebeln = 'ordno' and display_article = 'artno' and order_type = 'PO']]>
</dispArtList>
</TCName>


<TCName name = "AddArticlesForIBTOrder">
<IBTDetails>
<![CDATA[select a.article,
case when a.base_uom='KG' and a.soh_rand_wght_uom<>'NULL'
then round(a.store_soh_rand_wght,0) 
else a.store_soh end as soh,
case when a.base_uom='KG' and a.soh_rand_wght_uom<>'NULL'
then convert(int,b.article_om)||' '||a.soh_rand_wght_uom
else convert(int,b.article_om)||' '||a.base_uom end as om from saap.local_wow_soh a,saap.zwowc_article_listing b 
where a.article=b.matnr and a.article in ('artno')]]>
</IBTDetails>
<cpbd>
<![CDATA[select matnr,complex_pack_brk_article,complex_pack_brk_om from ZWOWC_ARTICLE_LISTING where SAAP.ZWOWC_ARTICLE_LISTING.COMPLEX_PACK_BRK_ARTICLE = 'artno' 
order by complex_pack_brk_om desc]]>
</cpbd>
</TCName>

<TCName name = "orderCreation">
<SOH>
<![CDATA[select store_soh from saap.local_wow_soh where article='art_no']]>
</SOH>
<OM>
<![CDATA[select article_om from saap.zwowc_article_listing where matnr='art_no']]>
</OM>
</TCName>

<TCName name = "ReceiveIBTByExceptionRejectNR">
<RMStatus>
<![CDATA[SELECT lfbnr,recv_method,sap_recv_method FROM ZWOWT_MDOCHD where lfbnr='ordNo']]>
</RMStatus>
<ONo>
7010583111
</ONo>
<pilotstore>
7010772482
</pilotstore>
<ONo1>
7010350064
</ONo1>
<SITStore>
7010583111
</SITStore>
<checkOrder>
<![CDATA[select * from revert_received_order where order_no='ordNo']]>
</checkOrder>
<cpbdArt>
<![CDATA[select COMPLEX_PACK_BRK_ARTICLE from zwowc_article_listing where matnr = 'artno']]>
</cpbdArt>
<cpbd>
<![CDATA[select matnr,complex_pack_brk_article,complex_pack_brk_om from ZWOWC_ARTICLE_LISTING where SAAP.ZWOWC_ARTICLE_LISTING.COMPLEX_PACK_BRK_ARTICLE = 'artno' 
order by complex_pack_brk_om desc]]>
</cpbd>
<cpbdSOH>
<![CDATA[select a.article,convert(DOUBLE,a.store_soh) as TUSOH, b.meinh  as TotalUnits,convert(DOUBLE,a.store_soh_rand_wght) || ' EA' as  randWtO 
from saap.local_wow_soh a,ZWOWC_ARTICLE_UOM b where a.article = b.matnr and article = 'artno' and b.base_uom_ind = 'Y';]]>
</cpbdSOH>
<cpbdSOHafter>
<![CDATA[select a.article,convert(DOUBLE,a.store_soh) || ' ' || b.meinh  as TotalUnits 
from saap.local_wow_soh a,ZWOWC_ARTICLE_UOM b where a.article = b.matnr and article = 'artno' and b.base_uom_ind = 'Y';]]>
</cpbdSOHafter>
<SOHbefore>
<![CDATA[select a.article,round(convert(DOUBLE,a.store_soh),3) as TUSOH, art_uom.meinh  as TotalUnits,round(convert(DOUBLE,a.store_soh_rand_wght),0) || ' EA' as  randWtOM,
ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND from saap.local_wow_soh a 
join ZWOWC_ARTICLE_UOM art_uom on (a.article=art_uom.matnr) join ZWOWO_PO_ITM PITM on (PITM.matnr=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) 
where PITM.EBELN = 'ordNo'  and ART_UOM.base_uom_ind = 'Y';]]>
</SOHbefore>
<SOH>
<![CDATA[select a.article,round(convert(DOUBLE,a.store_soh),3) || ' ' ||  art_uom.meinh  as TotalUnits,round(convert(DOUBLE,a.store_soh_rand_wght),0) || ' EA' as  randWtOM,
ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND from saap.local_wow_soh a 
join ZWOWC_ARTICLE_UOM art_uom on (a.article=art_uom.matnr) join ZWOWO_PO_ITM PITM on (PITM.matnr=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) 
where PITM.EBELN = 'ordNo'  and ART_UOM.base_uom_ind = 'Y';]]>
</SOH>
<dispSOHbefore>
<![CDATA[select distinct a.MATNR, convert(DOUBLE,b.store_soh) as TUSOH , art_uom.meinh  as TotalUnits from ZWOWO_ORDER_COMPONENT a 
join ZWOWC_ARTICLE_UOM art_uom on (a.matnr=art_uom.matnr) join saap.local_wow_soh b on (b.ARTICLE=a.MATNR)
group by a.MATNR, a.ebeln, a.display_article, a.order_type,art_uom.meinh,b.store_soh,ART_UOM.base_uom_ind,a.MEINS having a.ebeln = 'ordNo' 
and a.display_article = 'artno' and a.order_type = 'PO' and ART_UOM.base_uom_ind = 'Y';]]>
</dispSOHbefore>
<dispSOH>
<![CDATA[select distinct a.MATNR, convert(DOUBLE,b.store_soh) || ' ' ||  art_uom.meinh  as TotalUnits from ZWOWO_ORDER_COMPONENT a 
join ZWOWC_ARTICLE_UOM art_uom on (a.matnr=art_uom.matnr) join saap.local_wow_soh b on (b.ARTICLE=a.MATNR)
group by a.MATNR, a.ebeln, a.display_article, a.order_type,art_uom.meinh,b.store_soh,ART_UOM.base_uom_ind,a.MEINS having a.ebeln = 'ordNo' 
and a.display_article ='artno' and a.order_type = 'PO' and ART_UOM.base_uom_ind = 'Y';]]>
</dispSOH>
<AddOrder>
<![CDATA[INSERT INTO "SAAP"."revert_received_order" ("order_no") VALUES('ordersNo')]]>
</AddOrder>
<revertOrder>
<![CDATA[call sp_wow_RevertReceiving('{iv_order_number:"ordno"}');]]>
</revertOrder>
<OrderList>
<![CDATA[select a.ebeln, convert(char(12), a.lfdat, 103), convert(char(12), a.on_show_date, 103), a.created_by, b.RESWK from zwowo_po_hdr a, ZWOWO_PO_HDR b 
where a.ebeln = b.ebeln and a.ebeln = 'ordno']]>
</OrderList>
<OrderList1>
<![CDATA[select NAME1 || ' (' || SUPPLIER || ')' as supplierDet from ZWOWC_SUPPLIER_DETAILS  where supplier = 'suppno']]>
</OrderList1>
<OrderList2>
<![CDATA[select convert(double,sum(menge)),count(*) from ZWOWO_PO_ITM where ebeln = 'ordno']]>
</OrderList2>
<Tempflag>
<![CDATA[select Temperature_ind from ZWOWO_PO_HDR where ebeln = 'ordno']]>
</Tempflag>
<OrderArtList>
<![CDATA[select PITM.MATNR, convert(DOUBLE,n.pack_size)|| ' ' ||  art_uom.meinh as OM ,convert(DOUBLE,ZAL.pi_om)|| ' ' ||  ZAL.pi_uom  as PIOMS, convert(DOUBLE,PITM.MENGE) || ' ' || PITM.MEINS as qty ,
convert(DOUBLE,n.pack_size)*convert(DOUBLE,PITM.MENGE) || ' ' ||  art_uom.meinh  as TotalUnits,
convert(DOUBLE,n.pi_qty) || ' EA' as  randWtOM,'NA' as dispqty,'NA' as totalqty,'' as recqty,'' as recTU,
 ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND,ZAL.alc_status FROM ZWOWO_PO_ITM PITM 
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
JOIN zwowo_po_itm n on (PITM.EBELN=n.EBELN) WHERE PITM.EBELN = 'ordno' and PITM.EBELP = n.ebelp and ART_UOM.base_uom_ind = 'Y';]]>
</OrderArtList>
<OrderArtListTemp>
<![CDATA[select PITM.MATNR, convert(DOUBLE,n.pack_size)|| ' ' ||  art_uom.meinh as OM, convert(DOUBLE,PITM.MENGE) || ' ' || PITM.MEINS as qty ,
convert(DOUBLE,n.pack_size)*convert(DOUBLE,PITM.MENGE) || ' ' ||  art_uom.meinh  as TotalUnits,
convert(DOUBLE,n.pi_qty) || ' EA' as  randWtOM,'NA' as dispqty,'NA' as totalqty,'' as recqty,'' as recTU,
 ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND, ZAM.TEMPERATURE_IND FROM ZWOWO_PO_ITM PITM 
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
JOIN zwowo_po_itm n on (PITM.EBELN=n.EBELN) WHERE PITM.EBELN = 'ordno' and PITM.EBELP = n.ebelp and ART_UOM.base_uom_ind = 'Y';]]>
</OrderArtListTemp>
<dispArtList>
<![CDATA[select distinct MATNR, convert(int,sum(ARTICLE_QTY)) || ' ' || MEINS as qty,convert(int,sum(ARTICLE_QTY)) || ' ' || MEINS as totalunits from ZWOWO_ORDER_COMPONENT 
group by MATNR, ebeln, display_article, order_type,MEINS having ebeln = 'ordno' and display_article = 'artno' and order_type = 'PO']]>
</dispArtList>
<randWt>
<![CDATA[select DISTINCT PITM.MATNR,convert(DOUBLE,n.PI_QTY) || ' EA' as  randWtOM FROM ZWOWO_PO_ITM PITM 
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
JOIN zwowo_po_itm n on (PITM.EBELN=n.EBELN) WHERE PITM.EBELN = 'ordno'  and PITM.EBELP = n.ebelp and ART_UOM.base_uom_ind = 'Y';]]>
</randWt>
</TCName>


<TCName name = "ReceiveIBTByExceptionAcceptNR">
<RMStatus>
<![CDATA[SELECT lfbnr,recv_method,sap_recv_method FROM ZWOWT_MDOCHD where lfbnr='ordNo']]>
</RMStatus>
<ONo>
7010583111
</ONo>
<pilotstore>
7010772482
</pilotstore>
<SITStore>
7041510627
</SITStore>
<ONo1>
7010583111
</ONo1>
<checkOrder>
<![CDATA[select * from revert_received_order where order_no='ordNo']]>
</checkOrder>
<cpbdArt>
<![CDATA[select COMPLEX_PACK_BRK_ARTICLE from zwowc_article_listing where matnr = 'artno']]>
</cpbdArt>
<cpbd>
<![CDATA[select matnr,complex_pack_brk_article,complex_pack_brk_om from ZWOWC_ARTICLE_LISTING where SAAP.ZWOWC_ARTICLE_LISTING.COMPLEX_PACK_BRK_ARTICLE = 'artno' 
order by complex_pack_brk_om desc]]>
</cpbd>
<cpbdSOH>
<![CDATA[select a.article,convert(DOUBLE,a.store_soh) as TUSOH, b.meinh  as TotalUnits,convert(DOUBLE,a.store_soh_rand_wght) || ' EA' as  randWtO 
from saap.local_wow_soh a,ZWOWC_ARTICLE_UOM b where a.article = b.matnr and article = 'artno' and b.base_uom_ind = 'Y';]]>
</cpbdSOH>
<cpbdSOHafter>
<![CDATA[select a.article,convert(DOUBLE,a.store_soh) || ' ' || b.meinh  as TotalUnits 
from saap.local_wow_soh a,ZWOWC_ARTICLE_UOM b where a.article = b.matnr and article = 'artno' and b.base_uom_ind = 'Y';]]>
</cpbdSOHafter>
<SOHbefore>
<![CDATA[select a.article,round(convert(DOUBLE,a.store_soh),3) as TUSOH, art_uom.meinh  as TotalUnits,round(convert(DOUBLE,a.store_soh_rand_wght),0) || ' EA' as  randWtOM,
ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND from saap.local_wow_soh a 
join ZWOWC_ARTICLE_UOM art_uom on (a.article=art_uom.matnr) join ZWOWO_PO_ITM PITM on (PITM.matnr=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) 
where PITM.EBELN = 'ordNo'  and ART_UOM.base_uom_ind = 'Y';]]>
</SOHbefore>
<SOH>
<![CDATA[select a.article,round(convert(DOUBLE,a.store_soh),3) || ' ' ||  art_uom.meinh  as TotalUnits,round(convert(DOUBLE,a.store_soh_rand_wght),0) || ' EA' as  randWtOM,
ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND from saap.local_wow_soh a 
join ZWOWC_ARTICLE_UOM art_uom on (a.article=art_uom.matnr) join ZWOWO_PO_ITM PITM on (PITM.matnr=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) 
where PITM.EBELN = 'ordNo'  and ART_UOM.base_uom_ind = 'Y';]]>
</SOH>
<dispSOHbefore>
<![CDATA[select distinct a.MATNR, convert(DOUBLE,b.store_soh) as TUSOH , art_uom.meinh  as TotalUnits from ZWOWO_ORDER_COMPONENT a 
join ZWOWC_ARTICLE_UOM art_uom on (a.matnr=art_uom.matnr) join saap.local_wow_soh b on (b.ARTICLE=a.MATNR)
group by a.MATNR, a.ebeln, a.display_article, a.order_type,art_uom.meinh,b.store_soh,ART_UOM.base_uom_ind,a.MEINS having a.ebeln = 'ordNo' 
and a.display_article = 'artno' and a.order_type = 'PO' and ART_UOM.base_uom_ind = 'Y';]]>
</dispSOHbefore>
<dispSOH>
<![CDATA[select distinct a.MATNR, convert(DOUBLE,b.store_soh) || ' ' ||  art_uom.meinh  as TotalUnits from ZWOWO_ORDER_COMPONENT a 
join ZWOWC_ARTICLE_UOM art_uom on (a.matnr=art_uom.matnr) join saap.local_wow_soh b on (b.ARTICLE=a.MATNR)
group by a.MATNR, a.ebeln, a.display_article, a.order_type,art_uom.meinh,b.store_soh,ART_UOM.base_uom_ind,a.MEINS having a.ebeln = 'ordNo' 
and a.display_article ='artno' and a.order_type = 'PO' and ART_UOM.base_uom_ind = 'Y';]]>
</dispSOH>
<AddOrder>
<![CDATA[INSERT INTO "SAAP"."revert_received_order" ("order_no") VALUES('ordersNo')]]>
</AddOrder>
<revertOrder>
<![CDATA[call sp_wow_RevertReceiving('{iv_order_number:"ordno"}');]]>
</revertOrder>
<OrderList>
<![CDATA[select a.ebeln, convert(char(12), a.lfdat, 103), convert(char(12), a.on_show_date, 103), a.created_by, b.RESWK from zwowo_po_hdr a, ZWOWO_PO_HDR b 
where a.ebeln = b.ebeln and a.ebeln = 'ordno']]>
</OrderList>
<OrderList1>
<![CDATA[select NAME1 || ' (' || SUPPLIER || ')' as supplierDet from ZWOWC_SUPPLIER_DETAILS  where supplier = 'suppno']]>
</OrderList1>
<OrderList2>
<![CDATA[select convert(double,sum(menge)),count(*) from ZWOWO_PO_ITM where ebeln = 'ordno']]>
</OrderList2>
<Tempflag>
<![CDATA[select Temperature_ind from ZWOWO_PO_HDR where ebeln = 'ordno']]>
</Tempflag>
<OrderArtList>
<![CDATA[select PITM.MATNR, convert(DOUBLE,n.pack_size)|| ' ' ||  art_uom.meinh as OM ,convert(DOUBLE,ZAL.pi_om)|| ' ' ||  ZAL.pi_uom  as PIOMS, convert(DOUBLE,PITM.MENGE) || ' ' || PITM.MEINS as qty ,
convert(DOUBLE,n.pack_size)*convert(DOUBLE,PITM.MENGE) || ' ' ||  art_uom.meinh  as TotalUnits,
convert(DOUBLE,n.pi_qty) || ' EA' as  randWtOM,'NA' as dispqty,'NA' as totalqty,'' as recqty,'' as recTU,
 ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND,ZAL.alc_status FROM ZWOWO_PO_ITM PITM 
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
JOIN zwowo_po_itm n on (PITM.EBELN=n.EBELN) WHERE PITM.EBELN = 'ordno' and PITM.EBELP = n.ebelp and ART_UOM.base_uom_ind = 'Y';]]>
</OrderArtList>
<OrderArtListTemp>
<![CDATA[select PITM.MATNR, convert(DOUBLE,n.pack_size)|| ' ' ||  art_uom.meinh as OM, convert(DOUBLE,PITM.MENGE) || ' ' || PITM.MEINS as qty ,
convert(DOUBLE,n.pack_size)*convert(DOUBLE,PITM.MENGE) || ' ' ||  art_uom.meinh  as TotalUnits,
convert(DOUBLE,n.pi_qty) || ' EA' as  randWtOM,'NA' as dispqty,'NA' as totalqty,'' as recqty,'' as recTU,
 ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND, ZAM.TEMPERATURE_IND FROM ZWOWO_PO_ITM PITM 
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
JOIN zwowo_po_itm n on (PITM.EBELN=n.EBELN) WHERE PITM.EBELN = 'ordno' and PITM.EBELP = n.ebelp and ART_UOM.base_uom_ind = 'Y';]]>
</OrderArtListTemp>
<dispArtList>
<![CDATA[select distinct MATNR, convert(int,sum(ARTICLE_QTY)) || ' ' || MEINS as qty,convert(int,sum(ARTICLE_QTY)) || ' ' || MEINS as totalunits from ZWOWO_ORDER_COMPONENT 
group by MATNR, ebeln, display_article, order_type,MEINS having ebeln = 'ordno' and display_article = 'artno' and order_type = 'PO']]>
</dispArtList>
<randWt>
<![CDATA[select DISTINCT PITM.MATNR,convert(DOUBLE,n.PI_QTY) || ' EA' as  randWtOM FROM ZWOWO_PO_ITM PITM 
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
JOIN zwowo_po_itm n on (PITM.EBELN=n.EBELN) WHERE PITM.EBELN = 'ordno'  and PITM.EBELP = n.ebelp and ART_UOM.base_uom_ind = 'Y';]]>
</randWt>
</TCName>

<TCName name = "ReceiveVendorinLineByNewEAN">
<ONo>
54215116
</ONo>
<SITStore>
50007110
</SITStore>
<AddMisArtno>
473588
</AddMisArtno>
<AddMisEANno>
9333304010002
</AddMisEANno>
<AddMisArtnoSIT>
110580
</AddMisArtnoSIT>
<ONo1>
50283832
</ONo1>
<artbefore>
<![CDATA[select distinct a.article,round(convert(DOUBLE,a.store_soh),3) as TUSOH, art_uom.meinh  as TotalUnits,round(convert(DOUBLE,a.store_soh_rand_wght),0) || ' EA' as  randWtOM,
convert(DOUBLE,ZAL.ARTICLE_OM) from saap.local_wow_soh a join ZWOWC_ARTICLE_UOM art_uom on (a.article=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (art_uom.matnr = ZAL.MATNR) Where a.article = 'ordNo'  and ART_UOM.base_uom_ind = 'Y';]]>
</artbefore>
<art>
<![CDATA[select distinct a.article,round(convert(DOUBLE,a.store_soh),3) || ' ' ||  art_uom.meinh  as TotalUnits,round(convert(DOUBLE,a.store_soh_rand_wght),0) || ' EA' as  randWtOM 
from saap.local_wow_soh a join ZWOWC_ARTICLE_UOM art_uom on (a.article=art_uom.matnr) JOIN ZWOWC_ARTICLE_LISTING ZAL ON (art_uom.matnr = ZAL.MATNR) 
where a.article = 'ordNo'  and ART_UOM.base_uom_ind = 'Y';]]>
</art>
<checkOrder>
<![CDATA[select * from revert_received_order where order_no='ordNo']]>
</checkOrder>
<cpbdArt>
<![CDATA[select COMPLEX_PACK_BRK_ARTICLE from zwowc_article_listing where matnr = 'artno']]>
</cpbdArt>
<cpbd>
<![CDATA[select matnr,complex_pack_brk_article,complex_pack_brk_om from ZWOWC_ARTICLE_LISTING where SAAP.ZWOWC_ARTICLE_LISTING.COMPLEX_PACK_BRK_ARTICLE = 'artno' 
order by complex_pack_brk_om desc]]>
</cpbd>
<cpbdSOH>
<![CDATA[select a.article,convert(DOUBLE,a.store_soh) as TUSOH, b.meinh  as TotalUnits,convert(DOUBLE,a.store_soh_rand_wght) || ' EA' as  randWtO 
from saap.local_wow_soh a,ZWOWC_ARTICLE_UOM b where a.article = b.matnr and article = 'artno' and b.base_uom_ind = 'Y';]]>
</cpbdSOH>
<cpbdSOHafter>
<![CDATA[select a.article,convert(DOUBLE,a.store_soh) || ' ' || b.meinh  as TotalUnits 
from saap.local_wow_soh a,ZWOWC_ARTICLE_UOM b where a.article = b.matnr and article = 'artno' and b.base_uom_ind = 'Y';]]>
</cpbdSOHafter>
<SOHbefore>
<![CDATA[select a.article,convert(DOUBLE,a.store_soh) as TUSOH, art_uom.meinh  as TotalUnits,round(convert(DOUBLE,a.store_soh_rand_wght),0) || ' EA' as  randWtOM,
ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND from saap.local_wow_soh a 
join ZWOWC_ARTICLE_UOM art_uom on (a.article=art_uom.matnr) join ZWOWO_PO_ITM PITM on (PITM.matnr=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) 
where PITM.EBELN = 'ordNo'  and ART_UOM.base_uom_ind = 'Y';]]>
</SOHbefore>
<SOH>
<![CDATA[select a.article,convert(DOUBLE,a.store_soh) || ' ' ||  art_uom.meinh  as TotalUnits,round(convert(DOUBLE,a.store_soh_rand_wght),0) || ' EA' as  randWtOM,
ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND from saap.local_wow_soh a 
join ZWOWC_ARTICLE_UOM art_uom on (a.article=art_uom.matnr) join ZWOWO_PO_ITM PITM on (PITM.matnr=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) 
where PITM.EBELN = 'ordNo'  and ART_UOM.base_uom_ind = 'Y';]]>
</SOH>
<dispSOHbefore>
<![CDATA[select distinct a.MATNR, convert(DOUBLE,b.store_soh) as TUSOH , art_uom.meinh  as TotalUnits from ZWOWO_ORDER_COMPONENT a 
join ZWOWC_ARTICLE_UOM art_uom on (a.matnr=art_uom.matnr) join saap.local_wow_soh b on (b.ARTICLE=a.MATNR)
group by a.MATNR, a.ebeln, a.display_article, a.order_type,art_uom.meinh,b.store_soh,ART_UOM.base_uom_ind,a.MEINS having a.ebeln = 'ordNo' 
and a.display_article = 'artno' and a.order_type = 'PO' and ART_UOM.base_uom_ind = 'Y';]]>
</dispSOHbefore>
<dispSOH>
<![CDATA[select distinct a.MATNR, convert(DOUBLE,b.store_soh) || ' ' ||  art_uom.meinh  as TotalUnits from ZWOWO_ORDER_COMPONENT a 
join ZWOWC_ARTICLE_UOM art_uom on (a.matnr=art_uom.matnr) join saap.local_wow_soh b on (b.ARTICLE=a.MATNR)
group by a.MATNR, a.ebeln, a.display_article, a.order_type,art_uom.meinh,b.store_soh,ART_UOM.base_uom_ind,a.MEINS having a.ebeln = 'ordNo' 
and a.display_article ='artno' and a.order_type = 'PO' and ART_UOM.base_uom_ind = 'Y';]]>
</dispSOH>
<AddOrder>
<![CDATA[INSERT INTO "SAAP"."revert_received_order" ("order_no") VALUES('ordersNo')]]>
</AddOrder>
<revertOrder>
<![CDATA[call sp_wow_RevertReceiving('{iv_order_number:"ordno"}');]]>
</revertOrder>
<OrderList>
<![CDATA[select a.ebeln, convert(char(12), a.lfdat, 103), convert(char(12), a.on_show_date, 103), a.created_by, b.lifnr from zwowo_po_hdr a, ZWOWO_PO_HDR b 
where a.ebeln = b.ebeln and a.ebeln = 'ordno']]>
</OrderList>
<OrderList1>
<![CDATA[select NAME1 || ' (' || SUPPLIER || ')' as supplierDet from ZWOWC_SUPPLIER_DETAILS  where supplier = 'suppno']]>
</OrderList1>
<OrderList2>
<![CDATA[select convert(int,sum(menge)),count(*) from ZWOWO_PO_ITM where ebeln = 'ordno']]>
</OrderList2>
<Tempflag>
<![CDATA[select Temperature_ind from ZWOWO_PO_HDR where ebeln = 'ordno']]>
</Tempflag>
<OrderArtList>
<![CDATA[select PITM.MATNR, convert(DOUBLE,ZAL.ARTICLE_OM)|| ' ' ||  art_uom.meinh as OM ,convert(DOUBLE,ZAL.pi_om)|| ' ' ||  ZAL.pi_uom  as PIOMS, convert(DOUBLE,PITM.MENGE) || ' ' || PITM.MEINS as qty ,
convert(DOUBLE,ZAL.ARTICLE_OM)*convert(DOUBLE,PITM.MENGE) || ' ' ||  art_uom.meinh  as TotalUnits,
convert(DOUBLE,PITM.MENGE) * convert(DOUBLE,ZAL.PI_OM) || ' EA' as  randWtOM,'NA' as dispqty,'NA' as totalqty,'' as recqty,'' as recTU,
 ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND FROM ZWOWO_PO_ITM PITM 
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
WHERE PITM.EBELN = 'ordno' and ART_UOM.base_uom_ind = 'Y';]]>
</OrderArtList>
<OrderArtListTemp>
<![CDATA[select PITM.MATNR, convert(DOUBLE,ZAL.ARTICLE_OM)|| ' ' ||  art_uom.meinh as OM, convert(DOUBLE,PITM.MENGE) || ' ' || PITM.MEINS as qty ,
convert(DOUBLE,ZAL.ARTICLE_OM)*convert(DOUBLE,PITM.MENGE) || ' ' ||  art_uom.meinh  as TotalUnits,
convert(DOUBLE,PITM.MENGE) * convert(DOUBLE,ZAL.PI_OM) || ' EA' as  randWtOM,'NA' as dispqty,'NA' as totalqty,'' as recqty,'' as recTU,
 ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND, ZAM.TEMPERATURE_IND FROM ZWOWO_PO_ITM PITM 
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
WHERE PITM.EBELN = 'ordno' and ART_UOM.base_uom_ind = 'Y';]]>
</OrderArtListTemp>
<dispArtList>
<![CDATA[select distinct MATNR, convert(int,sum(ARTICLE_QTY)) || ' ' || MEINS as qty,convert(int,sum(ARTICLE_QTY)) || ' ' || MEINS as totalunits from ZWOWO_ORDER_COMPONENT 
group by MATNR, ebeln, display_article, order_type,MEINS having ebeln = 'ordno' and display_article = 'artno' and order_type = 'PO']]>
</dispArtList>
</TCName>

<TCName name = "ReceivingWHSellableinException">
<RMStatus>
<![CDATA[SELECT lfbnr,recv_method,sap_recv_method FROM ZWOWT_MDOCHD where lfbnr='ordNo']]>
</RMStatus>
<ONo>
8384129
</ONo>
<pilotstore>
8395718
</pilotstore>
<SITStore>
1951423
</SITStore>
<dispWTt>
<![CDATA[select distinct PITM.MATNR,art_uom.meinh as uom, 
case when art_uom.meinh='KG' and a.ZZDESPATCH_WEIGHT>0.000
THEN convert(double,a.ZZDESPATCH_WEIGHT)
ELSE convert(double, SUM(a.LFIMG) OVER (PARTITION BY PITM.MATNR, a.VBELN, a.VRKME, PITM.ARTICLE_OM)) * PITM.ARTICLE_OM END as disptotalqty,
ZAL.RANDOM_WEIGHT_FLG FROM LOCAL_NOTIF_INFO_HDR LONH JOIN ZWOWO_PO_ITM PITM ON (LONH.ORDER_NO = PITM.EBELN)
JOIN ZWOWO_PO_ITM OPTM ON (PITM.EBELN = OPTM.EBELN and PITM.EBELP=OPTM.EBELP) JOIN ZWOWO_PO_HDR PHDR ON (PITM.EBELN = PHDR.EBELN)
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) JOIN ZWOWO_ORDER_NOTIF_ITM a ON (PITM.EBELN=a.VGBEL AND PITM.MATNR=a.MATNR AND PITM.ebelp_trim=a.vgpos_trim) 
WHERE LONH.VBELN = 'ordno' and ART_UOM.base_uom_ind = 'Y' group by a.matnr,PITM.MATNR,art_uom.meinh,OPTM.ARTICLE_OM,ZAL.pi_uom,ZAL.pi_om,PITM.MEINS,PITM.MENGE,
a.VRKME,a.MEINS,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND,a.vbeln,a.ZZDESPATCH_WEIGHT,a.LFIMG,PITM.ARTICLE_OM 
having a.vbeln = 'ordno']]>
</dispWTt>
<randWt>
<![CDATA[select DISTINCT PITM.MATNR,convert(DOUBLE,SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR, PITM.MEINS)) * convert(DOUBLE,ZAL.PI_OM) || ' EA' as  randWtOM 
FROM LOCAL_NOTIF_INFO_HDR LONH JOIN ZWOWO_PO_ITM PITM ON (LONH.ORDER_NO = PITM.EBELN)
JOIN ZWOWO_PO_ITM OPTM ON (PITM.EBELN = OPTM.EBELN and PITM.EBELP=OPTM.EBELP) JOIN ZWOWO_PO_HDR PHDR ON (PITM.EBELN = PHDR.EBELN)
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) JOIN ZWOWO_ORDER_NOTIF_ITM a ON (ZAM.MATNR = a.MATNR) 
WHERE LONH.VBELN = 'ordno' and ART_UOM.base_uom_ind = 'Y' group by a.matnr,PITM.MATNR,art_uom.meinh,OPTM.ARTICLE_OM,ZAL.pi_uom,ZAL.pi_om,PITM.MEINS,PITM.MENGE,
a.VRKME,a.MEINS,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND,a.vbeln having a.vbeln = 'ordno']]>
</randWt>
<checkOrder>
<![CDATA[select * from revert_received_order where order_no='ordNo']]>
</checkOrder>
<cpbdArt>
<![CDATA[select distinct COMPLEX_PACK_BRK_ARTICLE from zwowc_article_listing where matnr = 'artno']]>
</cpbdArt>
<cpbd>
<![CDATA[select distinct matnr,complex_pack_brk_article,complex_pack_brk_om from ZWOWC_ARTICLE_LISTING where SAAP.ZWOWC_ARTICLE_LISTING.COMPLEX_PACK_BRK_ARTICLE = 'artno' 
order by complex_pack_brk_om desc]]>
</cpbd>
<cpbdSOH>
<![CDATA[select distinct a.article,convert(DOUBLE,a.store_soh) as TUSOH, b.meinh  as TotalUnits,convert(DOUBLE,a.store_soh_rand_wght) || ' EA' as  randWtO 
from saap.local_wow_soh a,ZWOWC_ARTICLE_UOM b where a.article = b.matnr and article = 'artno' and b.base_uom_ind = 'Y';]]>
</cpbdSOH>
<cpbdSOHafter>
<![CDATA[select distinct a.article,convert(DOUBLE,a.store_soh) || ' ' || b.meinh  as TotalUnits 
from saap.local_wow_soh a,ZWOWC_ARTICLE_UOM b where a.article = b.matnr and article = 'artno' and b.base_uom_ind = 'Y';]]>
</cpbdSOHafter>
<SOHbefore>
<![CDATA[select DISTINCT a.article,round(convert(DOUBLE,a.store_soh),3) as TUSOH, art_uom.meinh  as TotalUnits,round(convert(DOUBLE,a.store_soh_rand_wght),0) || ' EA' as  randWtOM,
ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND from saap.local_wow_soh a 
join ZWOWC_ARTICLE_UOM art_uom on (a.article=art_uom.matnr) join ZWOWO_PO_ITM PITM on (PITM.matnr=art_uom.matnr) JOIN LOCAL_NOTIF_INFO_HDR LONH ON (LONH.ORDER_NO = PITM.EBELN)
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR)  
WHERE LONH.VBELN = 'ordNo'  and ART_UOM.base_uom_ind = 'Y';]]>
</SOHbefore>
<SOH>
<![CDATA[select DISTINCT a.article,round(convert(DOUBLE,a.store_soh),3) || ' ' ||  art_uom.meinh  as TotalUnits,round(convert(DOUBLE,a.store_soh_rand_wght),0) || ' EA' as  randWtOM,
ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND from saap.local_wow_soh a 
join ZWOWC_ARTICLE_UOM art_uom on (a.article=art_uom.matnr) join ZWOWO_PO_ITM PITM on (PITM.matnr=art_uom.matnr) JOIN LOCAL_NOTIF_INFO_HDR LONH ON (LONH.ORDER_NO = PITM.EBELN)
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) 
where LONH.VBELN = 'ordNo'  and ART_UOM.base_uom_ind = 'Y';]]>
</SOH>
<dispSOHbefore>
<![CDATA[select distinct a.MATNR, convert(DOUBLE,b.store_soh) as TUSOH , art_uom.meinh  as TotalUnits from ZWOWO_ORDER_COMPONENT a 
join ZWOWC_ARTICLE_UOM art_uom on (a.matnr=art_uom.matnr) join saap.local_wow_soh b on (b.ARTICLE=a.MATNR)
group by a.MATNR, a.ebeln, a.display_article, a.order_type,art_uom.meinh,b.store_soh,ART_UOM.base_uom_ind,a.MEINS having a.ebeln = 'ordNo' 
and a.display_article = 'artno' and ART_UOM.base_uom_ind = 'Y';]]>
</dispSOHbefore>
<dispSOH>
<![CDATA[select distinct a.MATNR, convert(DOUBLE,b.store_soh) || ' ' ||  art_uom.meinh  as TotalUnits from ZWOWO_ORDER_COMPONENT a 
join ZWOWC_ARTICLE_UOM art_uom on (a.matnr=art_uom.matnr) join saap.local_wow_soh b on (b.ARTICLE=a.MATNR)
group by a.MATNR, a.ebeln, a.display_article, a.order_type,art_uom.meinh,b.store_soh,ART_UOM.base_uom_ind,a.MEINS having a.ebeln = 'ordNo' 
and a.display_article ='artno' and ART_UOM.base_uom_ind = 'Y';]]>
</dispSOH>
<AddOrder>
<![CDATA[INSERT INTO "SAAP"."revert_received_order" ("order_no") VALUES('ordersNo')]]>
</AddOrder>
<revertOrder>
<![CDATA[SELECT * FROM sp_wow_RevertReceiving(' { "iv_order_number": "ordno"}');]]>
</revertOrder>
<OrderList>
<![CDATA[SELECT DISTINCT A.DELIVERY AS "DELIVERY",
MAX(convert(char(12), A.LFDAT, 103)) OVER (PARTITION BY A.DELIVERY) AS "DELIVERY DATE",
MAX(convert(char(12), A.ON_SHOW_DATE, 103)) OVER (PARTITION BY A.DELIVERY) AS "ON SHOW DATE", A.created_by,A.lifnr
FROM 
(
  SELECT DISTINCT LONH.VBELN AS DELIVERY,  LONH.MSG_TYPE AS STATUS,   PITM.MATNR AS ARTICLE,   SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR, PITM.MEINS) AS ORDER_QUANTITY, 
  PITM.MEINS AS ARTICLE_UOM,  MAX(PHDR.ON_SHOW_DATE) OVER (PARTITION BY PHDR.EBELN) AS ON_SHOW_DATE,MAX(PHDR.LFDAT) OVER (PARTITION BY PHDR.EBELN) AS LFDAT,PTM.created_by,PTM.lifnr,
  ZAL.RANDOM_WEIGHT_FLG AS RANDOM_WEIGHT_FLAG  FROM LOCAL_NOTIF_INFO_HDR LONH  JOIN ZWOWO_PO_ITM PITM ON (LONH.ORDER_NO = PITM.EBELN) JOIN ZWOWO_ORDER_NOTIF_HDR PTM ON (LONH.VBELN = PTM.VBELN)
  JOIN ZWOWO_PO_HDR PHDR ON (PITM.EBELN = PHDR.EBELN)  JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR)  WHERE LONH.VBELN = 'ordno'
) A;]]>
</OrderList>
<displist>
<![CDATA[select convert(DOUBLE,sum(LFIMG)) as dispQty, sum(ZZDESPATCH_WEIGHT) as dispWt from ZWOWO_ORDER_NOTIF_ITM where vbeln = 'ordno']]>
</displist>
<OrderList1>
<![CDATA[select NAME1 || ' (' || SUPPLIER || ')' as supplierDet from ZWOWC_SUPPLIER_DETAILS  where supplier = 'suppno']]>
</OrderList1>
<OrderList2>
<![CDATA[select convert(double,b.ORDER_QTY),convert(double,count(distinct a.matnr)) as count, convert(double,sum(ZZDESPATCH_WEIGHT)) as disp 
from ZWOWO_ORDER_NOTIF_ITM a,LOCAL_WOW_ORDER_INFO_POST_PO b where a.vbeln = 'ordno' and b.po_no in (select vgbel from ZWOWO_ORDER_NOTIF_ITM where vbeln='ordno' )
group by b.ORDER_QTY]]>
</OrderList2>
<Tempflag>
<![CDATA[select Temperature_ind from ZWOWO_PO_HDR where ebeln = 'ordno']]>
</Tempflag>
<OrderArtList>
<![CDATA[select distinct PITM.MATNR, convert(DOUBLE,OPTM.ARTICLE_OM)|| ' ' ||  art_uom.meinh as OM ,convert(DOUBLE,ZAL.pi_om)|| ' ' ||  ZAL.pi_uom  as PIOMS, 
convert(double, SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR, a.VBELN, a.VRKME, PITM.ARTICLE_OM))||' '||a.VRKME as qty ,
convert(double, SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR, a.VBELN, a.VRKME, PITM.ARTICLE_OM)) * PITM.ARTICLE_OM||' '||a.MEINS  as TotalUnits,
convert(DOUBLE,SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR, PITM.MEINS)) * convert(DOUBLE,ZAL.PI_OM) || ' EA' as  randWtOM,
convert(double, SUM(a.LFIMG) OVER (PARTITION BY PITM.MATNR, a.VBELN, a.VRKME, PITM.ARTICLE_OM))||' '||a.VRKME as dispqty,
case when a.MEINS='KG' and a.ZZDESPATCH_WEIGHT>0.000
THEN convert(double,a.ZZDESPATCH_WEIGHT) || ' ' || a.MEINS
ELSE convert(double, SUM(a.LFIMG) OVER (PARTITION BY PITM.MATNR, a.VBELN, a.VRKME, PITM.ARTICLE_OM)) * PITM.ARTICLE_OM||' '||a.MEINS END as disptotalqty,
'' as recqty,'' as recTU,
ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND ,
convert(DOUBLE,ZAL.pi_om)*convert(double,sum(a.lfimg)) || ' EA' as disprandwt,ZAL.ALC_STATUS
FROM LOCAL_NOTIF_INFO_HDR LONH JOIN ZWOWO_PO_ITM PITM ON (LONH.ORDER_NO = PITM.EBELN)
JOIN ZWOWO_PO_ITM OPTM ON (PITM.EBELN = OPTM.EBELN and PITM.EBELP=OPTM.EBELP) JOIN ZWOWO_PO_HDR PHDR ON (PITM.EBELN = PHDR.EBELN)
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) JOIN ZWOWO_ORDER_NOTIF_ITM a ON (PITM.EBELN=a.VGBEL AND PITM.MATNR=a.MATNR AND PITM.ebelp_trim=a.vgpos_trim) 
WHERE LONH.VBELN = 'ordno' and ART_UOM.base_uom_ind = 'Y' group by a.matnr,PITM.MATNR,art_uom.meinh,OPTM.ARTICLE_OM,ZAL.pi_uom,ZAL.pi_om,PITM.MEINS,PITM.MENGE,
a.VRKME,a.MEINS,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND,a.vbeln,a.ZZDESPATCH_WEIGHT,ZAL.ALC_STATUS,PITM.ARTICLE_OM,a.LFIMG 
having a.vbeln = 'ordno']]>
</OrderArtList>
<OrderArtListTemp>
<![CDATA[select distinct PITM.MATNR, convert(DOUBLE,OPTM.ARTICLE_OM)|| ' ' ||  art_uom.meinh as OM ,convert(DOUBLE,ZAL.pi_om)|| ' ' ||  ZAL.pi_uom  as PIOMS, 
convert(double, SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR, a.VBELN, a.VRKME, PITM.ARTICLE_OM))||' '||a.VRKME as qty ,
convert(double, SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR, a.VBELN, a.VRKME, PITM.ARTICLE_OM)) * PITM.ARTICLE_OM||' '||a.MEINS  as TotalUnits,
convert(DOUBLE,SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR, PITM.MEINS)) * convert(DOUBLE,ZAL.PI_OM) || ' EA' as  randWtOM,
convert(double, SUM(a.LFIMG) OVER (PARTITION BY PITM.MATNR, a.VBELN, a.VRKME, PITM.ARTICLE_OM))||' '||a.VRKME as dispqty,
case when a.MEINS='KG' and a.ZZDESPATCH_WEIGHT>0.000
THEN convert(double,a.ZZDESPATCH_WEIGHT) || ' ' || a.MEINS
ELSE convert(double, SUM(a.LFIMG) OVER (PARTITION BY PITM.MATNR, a.VBELN, a.VRKME, PITM.ARTICLE_OM)) * PITM.ARTICLE_OM||' '||a.MEINS END as disptotalqty,
'' as recqty,'' as recTU,
ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND ,ZAM.TEMPERATURE_IND,
convert(DOUBLE,ZAL.pi_om)*convert(double,sum(a.lfimg)) || ' EA' as disprandwt 
FROM LOCAL_NOTIF_INFO_HDR LONH JOIN ZWOWO_PO_ITM PITM ON (LONH.ORDER_NO = PITM.EBELN)
JOIN ZWOWO_PO_ITM OPTM ON (PITM.EBELN = OPTM.EBELN and PITM.EBELP=OPTM.EBELP) JOIN ZWOWO_PO_HDR PHDR ON (PITM.EBELN = PHDR.EBELN)
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) JOIN ZWOWO_ORDER_NOTIF_ITM a ON (PITM.EBELN=a.VGBEL AND PITM.MATNR=a.MATNR AND PITM.ebelp_trim=a.vgpos_trim) 
WHERE LONH.VBELN = 'ordno' and ART_UOM.base_uom_ind = 'Y' group by a.matnr,PITM.MATNR,art_uom.meinh,OPTM.ARTICLE_OM,ZAL.pi_uom,ZAL.pi_om,PITM.MEINS,PITM.MENGE,
a.VRKME,a.MEINS,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND,a.vbeln,a.ZZDESPATCH_WEIGHT,ZAL.ALC_STATUS,PITM.ARTICLE_OM,a.LFIMG
,ZAM.TEMPERATURE_IND having a.vbeln = 'ordno']]>
</OrderArtListTemp>
<dispArtList>
<![CDATA[select distinct MATNR, convert(int,sum(ARTICLE_QTY)) || ' ' || MEINS as qty,convert(int,sum(ARTICLE_QTY)) || ' ' || MEINS as totalunits,
convert(int,sum(ARTICLE_QTY)) || ' ' || MEINS as dispQty,convert(int,sum(ARTICLE_QTY)) || ' ' || MEINS as totaldisp from ZWOWO_ORDER_COMPONENT 
group by MATNR, ebeln, display_article, order_type,MEINS having ebeln = 'ordno' and display_article = 'artno']]>
</dispArtList>
<dispArtfullList>
<![CDATA[select distinct a.MATNR, convert(int,sum(a.ARTICLE_QTY)) || ' ' || a.MEINS as qty,convert(int,sum(a.ARTICLE_QTY)) || ' ' || a.MEINS as totalunits,
convert(int,sum(a.ARTICLE_QTY)) || ' ' || a.MEINS as dispQty,convert(int,sum(a.ARTICLE_QTY)) || ' ' || a.MEINS as totaldisp,
convert(int,sum(a.ARTICLE_QTY)) || ' ' || a.MEINS as rcveQty,
convert(int,sum(a.ARTICLE_QTY)) || ' ' || a.MEINS as totalrcve  
from ZWOWO_ORDER_COMPONENT a JOIN ZWOWC_ARTICLE_MASTER ZAM ON (a.display_article = ZAM.MATNR)
group by a.MATNR, a.ebeln, a.display_article, a.order_type,a.MEINS,ZAM.TEMPERATURE_IND having ebeln = 'ordno' and display_article = 'artno']]>
</dispArtfullList>
</TCName>

<TCName name = "ReceivingVendorASNinFullMulPOtoSingleASNhavingDL">
<RMStatus>
<![CDATA[SELECT lfbnr,recv_method,sap_recv_method FROM ZWOWT_MDOCHD where lfbnr='ordNo']]>
</RMStatus>
<ONo>
ASN1462498651468
</ONo>
<pilotstore>
23457DERHBHH7642
</pilotstore>
<SITStore>
11223344
</SITStore>
<mulPO>
<![CDATA[select ebeln from ZWOWO_ORDER_NOTIF_HDR where lifex='ordno']]>
</mulPO>
<dispWTt>
<![CDATA[select distinct PITM.MATNR,art_uom.meinh as om,
case when a.MEINS='KG' and a.ZZDESPATCH_WEIGHT>0.000
THEN convert(double,a.ZZDESPATCH_WEIGHT) || ' ' || a.MEINS
ELSE convert(double, SUM(a.LFIMG)) * PITM.ARTICLE_OM||' '||a.MEINS END as disptotalqty,
ZAL.RANDOM_WEIGHT_FLG FROM LOCAL_NOTIF_INFO_HDR LONH JOIN ZWOWO_PO_ITM PITM ON (LONH.ORDER_NO = PITM.EBELN)
JOIN ZWOWO_PO_ITM OPTM ON (PITM.EBELN = OPTM.EBELN and PITM.EBELP=OPTM.EBELP) JOIN ZWOWO_PO_HDR PHDR ON (PITM.EBELN = PHDR.EBELN)
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) JOIN ZWOWO_ORDER_NOTIF_ITM a ON (PITM.EBELN=a.VGBEL AND PITM.MATNR=a.MATNR AND PITM.ebelp_trim=a.vgpos_trim) 
WHERE LONH.VBELN in ('ordno') and ART_UOM.base_uom_ind = 'Y' group by PITM.MATNR,pitm.cost_rate_uom,OPTM.ARTICLE_OM,ZAL.pi_uom,ZAL.pi_om,a.VRKME,PITM.ARTICLE_OM,PITM.MENGE,pitm.MEINS,a.MEINS,
a.ZZDESPATCH_WEIGHT,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND ,art_uom.meinh,a.LFIMG]]>
</dispWTt>
<getONo>
<![CDATA[select vbeln,ebeln from ZWOWO_ORDER_NOTIF_hdr where lifex = 'store']]>
</getONo>
<randWt>
<![CDATA[select DISTINCT PITM.MATNR,convert(DOUBLE,SUM(PITM.MENGE)) * convert(DOUBLE,ZAL.PI_OM) || ' EA' as  randWtOM 
FROM LOCAL_NOTIF_INFO_HDR LONH JOIN ZWOWO_PO_ITM PITM ON (LONH.ORDER_NO = PITM.EBELN)
JOIN ZWOWO_PO_ITM OPTM ON (PITM.EBELN = OPTM.EBELN and PITM.EBELP=OPTM.EBELP) JOIN ZWOWO_PO_HDR PHDR ON (PITM.EBELN = PHDR.EBELN)
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) JOIN ZWOWO_ORDER_NOTIF_ITM a ON (PITM.EBELN=a.VGBEL AND PITM.MATNR=a.MATNR AND PITM.ebelp_trim=a.vgpos_trim) 
WHERE LONH.VBELN in ('ordno') and ART_UOM.base_uom_ind = 'Y'  group by PITM.MATNR,pitm.cost_rate_uom,OPTM.ARTICLE_OM,ZAL.pi_uom,ZAL.pi_om,a.VRKME,PITM.ARTICLE_OM,PITM.MENGE,pitm.MEINS,a.MEINS,
a.ZZDESPATCH_WEIGHT,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND ,art_uom.meinh,a.LFIMG]]>
</randWt>
<checkOrder>
<![CDATA[select * from revert_received_order where order_no='ordNo']]>
</checkOrder>
<cpbdArt>
<![CDATA[select DISTINCT COMPLEX_PACK_BRK_ARTICLE from zwowc_article_listing where matnr = 'artno']]>
</cpbdArt>
<cpbd>
<![CDATA[select DISTINCT matnr,complex_pack_brk_article,complex_pack_brk_om from ZWOWC_ARTICLE_LISTING where SAAP.ZWOWC_ARTICLE_LISTING.COMPLEX_PACK_BRK_ARTICLE = 'artno' 
order by complex_pack_brk_om desc]]>
</cpbd>
<cpbdSOH>
<![CDATA[select DISTINCT a.article,convert(DOUBLE,a.store_soh) as TUSOH, b.meinh  as TotalUnits,convert(DOUBLE,a.store_soh_rand_wght) || ' EA' as  randWtO 
from saap.local_wow_soh a,ZWOWC_ARTICLE_UOM b where a.article = b.matnr and article = 'artno' and b.base_uom_ind = 'Y';]]>
</cpbdSOH>
<cpbdSOHafter>
<![CDATA[select DISTINCT a.article,convert(DOUBLE,a.store_soh) || ' ' || b.meinh  as TotalUnits 
from saap.local_wow_soh a,ZWOWC_ARTICLE_UOM b where a.article = b.matnr and article = 'artno' and b.base_uom_ind = 'Y';]]>
</cpbdSOHafter>
<SOHbefore>
<![CDATA[select DISTINCT a.article,convert(DOUBLE,a.store_soh) as TUSOH, art_uom.meinh  as TotalUnits,round(convert(DOUBLE,a.store_soh_rand_wght),0) || ' EA' as  randWtOM,
ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND from saap.local_wow_soh a 
join ZWOWC_ARTICLE_UOM art_uom on (a.article=art_uom.matnr) join ZWOWO_PO_ITM PITM on (PITM.matnr=art_uom.matnr) JOIN LOCAL_NOTIF_INFO_HDR LONH ON (LONH.ORDER_NO = PITM.EBELN)
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR)  JOIN ZWOWO_ORDER_NOTIF_ITM ab ON (ZAM.MATNR = ab.MATNR) 
WHERE LONH.VBELN in ('ordNo')  and ART_UOM.base_uom_ind = 'Y' group by ab.matnr,PITM.MATNR,art_uom.meinh,ZAL.pi_uom,ZAL.pi_om,PITM.MEINS,PITM.MENGE,
ab.VRKME,ab.MEINS,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND,ab.vbeln,ab.ZZDESPATCH_WEIGHT,a.article,a.store_soh,a.store_soh_rand_wght 
having ab.vbeln in ('ordNo')]]>
</SOHbefore>
<SOH>
<![CDATA[select DISTINCT a.article,convert(DOUBLE,a.store_soh) || ' ' ||  art_uom.meinh  as TotalUnits,round(convert(DOUBLE,a.store_soh_rand_wght),0) || ' EA' as  randWtOM,
ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND from saap.local_wow_soh a 
join ZWOWC_ARTICLE_UOM art_uom on (a.article=art_uom.matnr) join ZWOWO_PO_ITM PITM on (PITM.matnr=art_uom.matnr) JOIN LOCAL_NOTIF_INFO_HDR LONH ON (LONH.ORDER_NO = PITM.EBELN)
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) JOIN ZWOWO_ORDER_NOTIF_ITM ab ON (ZAM.MATNR = ab.MATNR)  
where LONH.VBELN in ('ordNo')  and ART_UOM.base_uom_ind = 'Y' group by ab.matnr,PITM.MATNR,art_uom.meinh,ZAL.pi_uom,ZAL.pi_om,PITM.MEINS,PITM.MENGE,
ab.VRKME,ab.MEINS,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND,ab.vbeln,ab.ZZDESPATCH_WEIGHT,a.article,a.store_soh,a.store_soh_rand_wght 
having ab.vbeln in ('ordNo')]]>
</SOH>
<dispSOHbefore>
<![CDATA[select distinct a.MATNR, convert(DOUBLE,b.store_soh) as TUSOH , art_uom.meinh  as TotalUnits from ZWOWO_ORDER_COMPONENT a 
join ZWOWC_ARTICLE_UOM art_uom on (a.matnr=art_uom.matnr) join saap.local_wow_soh b on (b.ARTICLE=a.MATNR)
group by a.MATNR, a.ebeln, a.display_article, a.order_type,art_uom.meinh,b.store_soh,ART_UOM.base_uom_ind,a.MEINS having a.ebeln = 'ordNo' 
and a.display_article = 'artno' and ART_UOM.base_uom_ind = 'Y';]]>
</dispSOHbefore>
<dispSOH>
<![CDATA[select distinct a.MATNR, convert(DOUBLE,b.store_soh) || ' ' ||  art_uom.meinh  as TotalUnits from ZWOWO_ORDER_COMPONENT a 
join ZWOWC_ARTICLE_UOM art_uom on (a.matnr=art_uom.matnr) join saap.local_wow_soh b on (b.ARTICLE=a.MATNR)
group by a.MATNR, a.ebeln, a.display_article, a.order_type,art_uom.meinh,b.store_soh,ART_UOM.base_uom_ind,a.MEINS having a.ebeln = 'ordNo' 
and a.display_article ='artno' and ART_UOM.base_uom_ind = 'Y';]]>
</dispSOH>
<AddOrder>
<![CDATA[INSERT INTO "SAAP"."revert_received_order" ("order_no") VALUES('ordersNo')]]>
</AddOrder>
<revertOrder>
<![CDATA[call sp_wow_RevertReceiving('{iv_order_number:"ordno"}');]]>
</revertOrder>
<OrderList>
<![CDATA[select a.lifex, convert(char(12), convert(date, a.lfdat), 103), convert(char(12), convert(date, b.on_show_date), 103), a.created_by, a.lifnr from ZWOWO_ORDER_NOTIF_HDR a,ZWOWO_PO_HDR b 
where a.vbeln ='ordno' and b.ebeln ='orderno']]>
</OrderList><!-- check -->
<displist>
<![CDATA[select convert(DOUBLE,sum(LFIMG)) as dispQty, sum(ZZDESPATCH_WEIGHT) as dispWt from ZWOWO_ORDER_NOTIF_ITM where vbeln in ('ordno')]]>
</displist><!-- check -->
<OrderList1>
<![CDATA[select NAME1 || ' (' || SUPPLIER || ')' as supplierDet from ZWOWC_SUPPLIER_DETAILS  where supplier = 'suppno']]>
</OrderList1><!-- check -->
<OrderList2>
<![CDATA[select convert(double,b.ORDER_QTY),convert(double,count(distinct a.matnr)) as count, convert(double,sum(ZZDESPATCH_WEIGHT)) as disp 
from ZWOWO_ORDER_NOTIF_ITM a,LOCAL_WOW_ORDER_INFO_POST_PO b where a.vbeln in ('ordno') and b.po_no in (select vgbel from ZWOWO_ORDER_NOTIF_ITM where 
vbeln in ('ordno')) group by b.ORDER_QTY]]>
</OrderList2>
<Tempflag>
<![CDATA[select Temperature_ind from ZWOWO_PO_HDR where ebeln = 'ordno']]>
</Tempflag>
<OrderArtList>
<![CDATA[select PITM.MATNR, convert(DOUBLE,OPTM.ARTICLE_OM)|| ' ' ||  art_uom.meinh as OM ,convert(DOUBLE,ZAL.pi_om)|| ' ' ||  ZAL.pi_uom  as PIOMS, 
convert(double, SUM(PITM.MENGE))||' '||a.VRKME as qty ,
convert(double, SUM(PITM.MENGE)) * PITM.ARTICLE_OM||' '||art_uom.meinh  as TotalUnits,
convert(DOUBLE,SUM(PITM.MENGE) OVER (PARTITION BY pitm.MATNR, pitm.MEINS)) * convert(DOUBLE,ZAL.PI_OM) || ' EA' as  randWtOM,
convert(double, SUM(a.LFIMG))||' '||a.VRKME as dispqty,
case when a.MEINS='KG' and a.ZZDESPATCH_WEIGHT>0.000
THEN convert(double,a.ZZDESPATCH_WEIGHT) || ' ' || a.MEINS
ELSE convert(double, SUM(a.LFIMG)) * PITM.ARTICLE_OM||' '||art_uom.meinh END as disptotalqty,
'' as recqty,'' as recTU,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND ,
convert(DOUBLE,ZAL.pi_om)*convert(double,sum(a.lfimg)) || ' EA' as disprandwt
FROM LOCAL_NOTIF_INFO_HDR LONH JOIN ZWOWO_PO_ITM PITM ON (LONH.ORDER_NO = PITM.EBELN) JOIN ZWOWO_PO_ITM OPTM ON (PITM.EBELN = OPTM.EBELN and PITM.EBELP=OPTM.EBELP)
 JOIN ZWOWO_PO_HDR PHDR ON (PITM.EBELN = PHDR.EBELN)
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) JOIN ZWOWO_ORDER_NOTIF_ITM a ON (PITM.EBELN=a.VGBEL AND PITM.MATNR=a.MATNR AND PITM.ebelp_trim=a.vgpos_trim) 
WHERE LONH.VBELN in ('ordno') and ART_UOM.base_uom_ind = 'Y'  group by PITM.MATNR,pitm.cost_rate_uom,OPTM.ARTICLE_OM,ZAL.pi_uom,ZAL.pi_om,a.VRKME,PITM.ARTICLE_OM,PITM.MENGE,pitm.MEINS,a.MEINS,
a.ZZDESPATCH_WEIGHT,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND ,art_uom.meinh]]>
</OrderArtList>
<fullArtList>
<![CDATA[select DISTINCT PITM.MATNR,convert(DOUBLE,OPTM.ARTICLE_OM)|| ' ' ||  art_uom.meinh as OM1, convert(DOUBLE,OPTM.ARTICLE_OM)|| ' ' ||  art_uom.meinh as OM,
convert(double, SUM(PITM.MENGE))||' '||a.VRKME as qty ,
convert(double, SUM(PITM.MENGE)) * PITM.ARTICLE_OM||' '||art_uom.meinh  as TotalUnits, ZAL.RANDOM_WEIGHT_FLG, 
ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND, ZAM.TEMPERATURE_IND,
case WHEN art_uom.meinh='KG' and ZAL.RANDOM_WEIGHT_FLG='Y' and a.ZZDESPATCH_WEIGHT>0.000
THEN convert(double,a.ZZDESPATCH_WEIGHT) || ' ' || art_uom.meinh  ||' ('||convert(DOUBLE,ZAL.pi_om)*convert(double,sum(a.lfimg)) || ' EA)'
when art_uom.meinh='KG' and ZAL.RANDOM_WEIGHT_FLG='N' and a.ZZDESPATCH_WEIGHT>0.000
THEN convert(double,a.ZZDESPATCH_WEIGHT) || ' ' || art_uom.meinh
WHEN art_uom.meinh='KG' and ZAL.RANDOM_WEIGHT_FLG='Y'
THEN convert(double, SUM(a.LFIMG)) * PITM.ARTICLE_OM||' '||art_uom.meinh ||' ('||convert(DOUBLE,ZAL.pi_om)*convert(double,sum(a.lfimg)) || ' EA)'
ELSE convert(double, SUM(a.LFIMG)) * PITM.ARTICLE_OM||' '||art_uom.meinh END as soh,
convert(double, SUM(a.LFIMG))||' '||a.VRKME AS recqty,
case when a.MEINS='KG' and a.ZZDESPATCH_WEIGHT>0.000
THEN convert(double,a.ZZDESPATCH_WEIGHT) || ' ' || a.MEINS
ELSE convert(double, SUM(a.LFIMG)) * PITM.ARTICLE_OM||' '||art_uom.meinh END as recTU,
convert(double, SUM(a.LFIMG))||' '||a.VRKME as dispqty,
case when a.MEINS='KG' and a.ZZDESPATCH_WEIGHT>0.000
THEN convert(double,a.ZZDESPATCH_WEIGHT) || ' ' || a.MEINS
ELSE convert(double, SUM(a.LFIMG)) * PITM.ARTICLE_OM||' '||art_uom.meinh END as disptotalqty,
convert(DOUBLE,ZAL.pi_om)*convert(double,sum(a.lfimg)) || ' EA' as disprandwt ,
convert(DOUBLE,SUM(PITM.MENGE)) * convert(DOUBLE,ZAL.PI_OM) || ' EA' as  orderrandWtOM,
case when convert(DOUBLE,SUM(PITM.MENGE))=0
THEN '' 
ELSE convert(DOUBLE,ZAL.pi_om)*convert(double,sum(a.lfimg)) || ' EA' END as  recrandWtOM,ZAL.ALC_STATUS,case when art_uom.meinh='KG'
then convert(DOUBLE,OPTM.ARTICLE_OM)*convert(DOUBLE,SUM(PITM.MENGE)) 
else '0' end as rw
FROM LOCAL_NOTIF_INFO_HDR LONH JOIN ZWOWO_PO_ITM PITM ON (LONH.ORDER_NO = PITM.EBELN)
JOIN ZWOWO_PO_ITM OPTM ON (PITM.EBELN = OPTM.EBELN and PITM.EBELP=OPTM.EBELP) JOIN ZWOWO_PO_HDR PHDR ON (PITM.EBELN = PHDR.EBELN)
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) JOIN ZWOWO_ORDER_NOTIF_ITM a ON (PITM.EBELN=a.VGBEL AND PITM.MATNR=a.MATNR AND PITM.ebelp_trim=a.vgpos_trim) 
WHERE LONH.VBELN in ('ordno') and ART_UOM.base_uom_ind = 'Y' group by PITM.MATNR,pitm.cost_rate_uom,OPTM.ARTICLE_OM,ZAL.pi_uom,ZAL.pi_om,a.VRKME,PITM.ARTICLE_OM,PITM.MENGE,pitm.MEINS,a.MEINS,
a.ZZDESPATCH_WEIGHT,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND ,art_uom.meinh,ZAM.TEMPERATURE_IND,a.LFIMG,ZAL.ALC_STATUS]]>
</fullArtList>
<OrderArtListTemp>
<![CDATA[select distinct PITM.MATNR, convert(DOUBLE,OPTM.ARTICLE_OM)|| ' ' ||  art_uom.meinh as OM ,convert(DOUBLE,ZAL.pi_om)|| ' ' ||  ZAL.pi_uom  as PIOMS, 
convert(double, SUM(PITM.MENGE))||' '||a.VRKME as qty ,
convert(double, SUM(PITM.MENGE)) * PITM.ARTICLE_OM||' '||art_uom.meinh  as TotalUnits,
convert(DOUBLE,SUM(PITM.MENGE)) * convert(DOUBLE,ZAL.PI_OM) || ' EA' as  randWtOM,
convert(double, SUM(a.LFIMG))||' '||a.VRKME as dispqty,
case when a.MEINS='KG' and a.ZZDESPATCH_WEIGHT>0.000
THEN convert(double,a.ZZDESPATCH_WEIGHT) || ' ' || a.MEINS
ELSE convert(double, SUM(a.LFIMG)) * PITM.ARTICLE_OM||' '||art_uom.meinh END as disptotalqty,
'' as recqty,'' as recTU,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND ,ZAM.TEMPERATURE_IND,
convert(DOUBLE,ZAL.pi_om)*convert(double,sum(a.lfimg)) || ' EA' as disprandwt
FROM LOCAL_NOTIF_INFO_HDR LONH JOIN ZWOWO_PO_ITM PITM ON (LONH.ORDER_NO = PITM.EBELN)
JOIN ZWOWO_PO_ITM OPTM ON (PITM.EBELN = OPTM.EBELN and PITM.EBELP=OPTM.EBELP) JOIN ZWOWO_PO_HDR PHDR ON (PITM.EBELN = PHDR.EBELN)
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) JOIN ZWOWO_ORDER_NOTIF_ITM a ON (PITM.EBELN=a.VGBEL AND PITM.MATNR=a.MATNR AND PITM.ebelp_trim=a.vgpos_trim)  
WHERE LONH.VBELN in ('ordno') and ART_UOM.base_uom_ind = 'Y' group by PITM.MATNR,pitm.cost_rate_uom,OPTM.ARTICLE_OM,ZAL.pi_uom,ZAL.pi_om,a.VRKME,PITM.ARTICLE_OM,PITM.MENGE,pitm.MEINS,a.MEINS,
a.ZZDESPATCH_WEIGHT,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND ,art_uom.meinh,ZAM.TEMPERATURE_IND,a.LFIMG]]>
</OrderArtListTemp>
<dispArtList>
<![CDATA[select distinct MATNR, convert(int,sum(ARTICLE_QTY)) || ' ' || MEINS as qty,convert(int,sum(ARTICLE_QTY)) || ' ' || MEINS as totalunits,
convert(int,sum(ARTICLE_QTY)) || ' ' || MEINS as dispQty,convert(int,sum(ARTICLE_QTY)) || ' ' || MEINS as totaldisp from ZWOWO_ORDER_COMPONENT 
group by MATNR, ebeln, display_article, order_type,MEINS having ebeln = 'ordno' and display_article = 'artno']]>
</dispArtList>
<dispArtfullList>
<![CDATA[select distinct a.MATNR, convert(int,sum(a.ARTICLE_QTY)) || ' ' || a.MEINS as qty,convert(int,sum(a.ARTICLE_QTY)) || ' ' || a.MEINS as totalunits,
convert(int,sum(a.ARTICLE_QTY)) || ' ' || a.MEINS as dispQty,convert(int,sum(a.ARTICLE_QTY)) || ' ' || a.MEINS as totaldisp,
convert(int,sum(a.ARTICLE_QTY)) || ' ' || a.MEINS as rcveQty,
convert(int,sum(a.ARTICLE_QTY)) || ' ' || a.MEINS as totalrcve  
from ZWOWO_ORDER_COMPONENT a JOIN ZWOWC_ARTICLE_MASTER ZAM ON (a.display_article = ZAM.MATNR)
group by a.MATNR, a.ebeln, a.display_article, a.order_type,a.MEINS,ZAM.TEMPERATURE_IND having ebeln = 'ordno' and display_article = 'artno']]>
</dispArtfullList>
</TCName>

<TCName name = "ReceivingVendorASNinExceptionMulPOtoSingleASN">
<RMStatus>
<![CDATA[SELECT lfbnr,recv_method,sap_recv_method FROM ZWOWT_MDOCHD where lfbnr='ordNo']]>
</RMStatus>
<pilotstore>
RSDSGD458965416L
</pilotstore>
<SITStore>
ADSBGAUIGASIUBVA
</SITStore>
<ONo>
ASNAUTOMATION
</ONo>
<mulPO>
<![CDATA[select ebeln from ZWOWO_ORDER_NOTIF_HDR where lifex='ordno']]>
</mulPO>
<dispWTt>
<![CDATA[select distinct PITM.MATNR,art_uom.meinh as om,
case when a.MEINS='KG' and a.ZZDESPATCH_WEIGHT>0.000
THEN convert(double,a.ZZDESPATCH_WEIGHT) || ' ' || a.MEINS
ELSE convert(double, SUM(a.LFIMG) OVER (PARTITION BY PITM.MATNR,  a.VRKME, PITM.ARTICLE_OM)) * PITM.ARTICLE_OM||' '||a.MEINS END as disptotalqty,
ZAL.RANDOM_WEIGHT_FLG FROM LOCAL_NOTIF_INFO_HDR LONH JOIN ZWOWO_PO_ITM PITM ON (LONH.ORDER_NO = PITM.EBELN)
JOIN ZWOWO_PO_ITM OPTM ON (PITM.EBELN = OPTM.EBELN and PITM.EBELP=OPTM.EBELP) JOIN ZWOWO_PO_HDR PHDR ON (PITM.EBELN = PHDR.EBELN)
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) JOIN ZWOWO_ORDER_NOTIF_ITM a ON (PITM.EBELN=a.VGBEL AND PITM.MATNR=a.MATNR AND PITM.ebelp_trim=a.vgpos_trim) 
WHERE LONH.VBELN in ('ordno') and ART_UOM.base_uom_ind = 'Y' group by a.matnr,PITM.MATNR,art_uom.meinh,OPTM.ARTICLE_OM,ZAL.pi_uom,ZAL.pi_om,PITM.MEINS,PITM.MENGE,
a.VRKME,a.MEINS,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND,a.vbeln,a.ZZDESPATCH_WEIGHT,PITM.ARTICLE_OM,a.LFIMG 
having a.vbeln in ('ordno')]]>
</dispWTt>
<getONo>
<![CDATA[select vbeln,ebeln from ZWOWO_ORDER_NOTIF_hdr where lifex = 'store']]>
</getONo>
<randWt>
<![CDATA[select DISTINCT PITM.MATNR,convert(DOUBLE,SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR, PITM.MEINS)) * convert(DOUBLE,ZAL.PI_OM) || ' EA' as  randWtOM 
FROM LOCAL_NOTIF_INFO_HDR LONH JOIN ZWOWO_PO_ITM PITM ON (LONH.ORDER_NO = PITM.EBELN)
JOIN ZWOWO_PO_ITM OPTM ON (PITM.EBELN = OPTM.EBELN and PITM.EBELP=OPTM.EBELP) JOIN ZWOWO_PO_HDR PHDR ON (PITM.EBELN = PHDR.EBELN)
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) JOIN ZWOWO_ORDER_NOTIF_ITM a ON (PITM.EBELN=a.VGBEL AND PITM.MATNR=a.MATNR AND PITM.ebelp_trim=a.vgpos_trim) 
WHERE LONH.VBELN in ('ordno') and ART_UOM.base_uom_ind = 'Y' group by a.matnr,PITM.MATNR,art_uom.meinh,OPTM.ARTICLE_OM,ZAL.pi_uom,ZAL.pi_om,PITM.MEINS,PITM.MENGE,
a.VRKME,a.MEINS,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND,a.vbeln,PITM.ARTICLE_OM,a.LFIMG having a.vbeln in ('ordno')]]>
</randWt>
<checkOrder>
<![CDATA[select * from revert_received_order where order_no='ordNo']]>
</checkOrder>
<cpbdArt>
<![CDATA[select DISTINCT COMPLEX_PACK_BRK_ARTICLE from zwowc_article_listing where matnr = 'artno']]>
</cpbdArt>
<cpbd>
<![CDATA[select DISTINCT matnr,complex_pack_brk_article,complex_pack_brk_om from ZWOWC_ARTICLE_LISTING where SAAP.ZWOWC_ARTICLE_LISTING.COMPLEX_PACK_BRK_ARTICLE = 'artno' 
order by complex_pack_brk_om desc]]>
</cpbd>
<cpbdSOH>
<![CDATA[select DISTINCT a.article,convert(DOUBLE,a.store_soh) as TUSOH, b.meinh  as TotalUnits,convert(DOUBLE,a.store_soh_rand_wght) || ' EA' as  randWtO 
from saap.local_wow_soh a,ZWOWC_ARTICLE_UOM b where a.article = b.matnr and article = 'artno' and b.base_uom_ind = 'Y';]]>
</cpbdSOH>
<cpbdSOHafter>
<![CDATA[select DISTINCT a.article,convert(DOUBLE,a.store_soh) || ' ' || b.meinh  as TotalUnits 
from saap.local_wow_soh a,ZWOWC_ARTICLE_UOM b where a.article = b.matnr and article = 'artno' and b.base_uom_ind = 'Y';]]>
</cpbdSOHafter>
<SOHbefore>
<![CDATA[select DISTINCT a.article,convert(DOUBLE,a.store_soh) as TUSOH, art_uom.meinh  as TotalUnits,round(convert(DOUBLE,a.store_soh_rand_wght),0) || ' EA' as  randWtOM,
ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND from saap.local_wow_soh a 
join ZWOWC_ARTICLE_UOM art_uom on (a.article=art_uom.matnr) join ZWOWO_PO_ITM PITM on (PITM.matnr=art_uom.matnr) JOIN LOCAL_NOTIF_INFO_HDR LONH ON (LONH.ORDER_NO = PITM.EBELN)
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR)  JOIN ZWOWO_ORDER_NOTIF_ITM ab ON (ZAM.MATNR = ab.MATNR) 
WHERE LONH.VBELN in ('ordNo')  and ART_UOM.base_uom_ind = 'Y' group by ab.matnr,PITM.MATNR,art_uom.meinh,ZAL.pi_uom,ZAL.pi_om,PITM.MEINS,PITM.MENGE,
ab.VRKME,ab.MEINS,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND,ab.vbeln,ab.ZZDESPATCH_WEIGHT,a.article,a.store_soh,a.store_soh_rand_wght 
having ab.vbeln in ('ordNo')]]>
</SOHbefore>
<SOH>
<![CDATA[select DISTINCT a.article,convert(DOUBLE,a.store_soh) || ' ' ||  art_uom.meinh  as TotalUnits,round(convert(DOUBLE,a.store_soh_rand_wght),0) || ' EA' as  randWtOM,
ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND from saap.local_wow_soh a 
join ZWOWC_ARTICLE_UOM art_uom on (a.article=art_uom.matnr) join ZWOWO_PO_ITM PITM on (PITM.matnr=art_uom.matnr) JOIN LOCAL_NOTIF_INFO_HDR LONH ON (LONH.ORDER_NO = PITM.EBELN)
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) JOIN ZWOWO_ORDER_NOTIF_ITM ab ON (ZAM.MATNR = ab.MATNR)  
where LONH.VBELN in ('ordNo')  and ART_UOM.base_uom_ind = 'Y' group by ab.matnr,PITM.MATNR,art_uom.meinh,ZAL.pi_uom,ZAL.pi_om,PITM.MEINS,PITM.MENGE,
ab.VRKME,ab.MEINS,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND,ab.vbeln,ab.ZZDESPATCH_WEIGHT,a.article,a.store_soh,a.store_soh_rand_wght 
having ab.vbeln in ('ordNo')]]>
</SOH>
<dispSOHbefore>
<![CDATA[select distinct a.MATNR, convert(DOUBLE,b.store_soh) as TUSOH , art_uom.meinh  as TotalUnits from ZWOWO_ORDER_COMPONENT a 
join ZWOWC_ARTICLE_UOM art_uom on (a.matnr=art_uom.matnr) join saap.local_wow_soh b on (b.ARTICLE=a.MATNR)
group by a.MATNR, a.ebeln, a.display_article, a.order_type,art_uom.meinh,b.store_soh,ART_UOM.base_uom_ind,a.MEINS having a.ebeln = 'ordNo' 
and a.display_article = 'artno' and ART_UOM.base_uom_ind = 'Y';]]>
</dispSOHbefore>
<dispSOH>
<![CDATA[select distinct a.MATNR, convert(DOUBLE,b.store_soh) || ' ' ||  art_uom.meinh  as TotalUnits from ZWOWO_ORDER_COMPONENT a 
join ZWOWC_ARTICLE_UOM art_uom on (a.matnr=art_uom.matnr) join saap.local_wow_soh b on (b.ARTICLE=a.MATNR)
group by a.MATNR, a.ebeln, a.display_article, a.order_type,art_uom.meinh,b.store_soh,ART_UOM.base_uom_ind,a.MEINS having a.ebeln = 'ordNo' 
and a.display_article ='artno' and ART_UOM.base_uom_ind = 'Y';]]>
</dispSOH>
<AddOrder>
<![CDATA[INSERT INTO "SAAP"."revert_received_order" ("order_no") VALUES('ordersNo')]]>
</AddOrder>
<revertOrder>
<![CDATA[call sp_wow_RevertReceiving('{iv_order_number:"ordno"}');]]>
</revertOrder>
<OrderList>
<![CDATA[select a.lifex, convert(char(12), convert(date, a.lfdat), 103), convert(char(12), convert(date, b.on_show_date), 103), a.created_by, a.lifnr from ZWOWO_ORDER_NOTIF_HDR a,ZWOWO_PO_HDR b 
where a.vbeln ='ordno' and b.ebeln ='orderno']]>
</OrderList><!-- check -->
<displist>
<![CDATA[select convert(DOUBLE,sum(LFIMG)) as dispQty, sum(ZZDESPATCH_WEIGHT) as dispWt from ZWOWO_ORDER_NOTIF_ITM where vbeln in ('ordno')]]>
</displist><!-- check -->
<OrderList1>
<![CDATA[select NAME1 || ' (' || SUPPLIER || ')' as supplierDet from ZWOWC_SUPPLIER_DETAILS  where supplier = 'suppno']]>
</OrderList1><!-- check -->
<OrderList2>
<![CDATA[select convert(double,b.ORDER_QTY),convert(double,count(distinct a.matnr)) as count, convert(double,sum(ZZDESPATCH_WEIGHT)) as disp 
from ZWOWO_ORDER_NOTIF_ITM a,LOCAL_WOW_ORDER_INFO_POST_PO b where a.vbeln in ('ordno') and b.po_no in (select vgbel from ZWOWO_ORDER_NOTIF_ITM where 
vbeln in ('ordno')) and b.DLVY_NO='OName' group by b.ORDER_QTY]]>
</OrderList2>
<Tempflag>
<![CDATA[select Temperature_ind from ZWOWO_PO_HDR where ebeln = 'ordno']]>
</Tempflag>
<OrderArtList>
<![CDATA[select distinct PITM.MATNR, convert(DOUBLE,OPTM.ARTICLE_OM)|| ' ' ||  art_uom.meinh as OM ,convert(DOUBLE,ZAL.pi_om)|| ' ' ||  ZAL.pi_uom  as PIOMS, 
convert(double, SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR,  a.VRKME, PITM.ARTICLE_OM))||' '||a.VRKME as qty ,
convert(double, SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR,  a.VRKME, PITM.ARTICLE_OM)) * PITM.ARTICLE_OM||' '||art_uom.meinh  as TotalUnits,
convert(DOUBLE,SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR, PITM.MEINS)) * convert(DOUBLE,ZAL.PI_OM) || ' EA' as  randWtOM,
convert(double, SUM(a.LFIMG) OVER (PARTITION BY PITM.MATNR,  a.VRKME, PITM.ARTICLE_OM))||' '||a.VRKME as dispqty,
case when a.MEINS='KG' and a.ZZDESPATCH_WEIGHT>0.000
THEN convert(double,a.ZZDESPATCH_WEIGHT) || ' ' || a.MEINS
ELSE convert(double, SUM(a.LFIMG) OVER (PARTITION BY PITM.MATNR,  a.VRKME, PITM.ARTICLE_OM)) * PITM.ARTICLE_OM||' '||art_uom.meinh END as disptotalqty,
'' as recqty,'' as recTU,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND ,
convert(DOUBLE,ZAL.pi_om)*convert(double,sum(a.lfimg)) || ' EA' as disprandwt,ZAL.ALC_STATUS
FROM LOCAL_NOTIF_INFO_HDR LONH JOIN ZWOWO_PO_ITM PITM ON (LONH.ORDER_NO = PITM.EBELN)
JOIN ZWOWO_PO_ITM OPTM ON (PITM.EBELN = OPTM.EBELN and PITM.EBELP=OPTM.EBELP) JOIN ZWOWO_PO_HDR PHDR ON (PITM.EBELN = PHDR.EBELN)
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) JOIN ZWOWO_ORDER_NOTIF_ITM a ON (PITM.EBELN=a.VGBEL AND PITM.MATNR=a.MATNR AND PITM.ebelp_trim=a.vgpos_trim) 
WHERE LONH.VBELN in ('ordno') and ART_UOM.base_uom_ind = 'Y' group by a.matnr,PITM.MATNR,art_uom.meinh,OPTM.ARTICLE_OM,ZAL.pi_uom,ZAL.pi_om,PITM.MEINS,PITM.MENGE,
a.VRKME,a.MEINS,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND,a.vbeln,a.ZZDESPATCH_WEIGHT,ZAL.ALC_STATUS,PITM.ARTICLE_OM,a.LFIMG 
having a.vbeln in ('ordno')]]>
</OrderArtList>
<OrderArtListTemp>
<![CDATA[select distinct PITM.MATNR, convert(DOUBLE,OPTM.ARTICLE_OM)|| ' ' ||  art_uom.meinh as OM ,convert(DOUBLE,ZAL.pi_om)|| ' ' ||  ZAL.pi_uom  as PIOMS, 
convert(double, SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR,  a.VRKME, PITM.ARTICLE_OM))||' '||a.VRKME as qty ,
convert(double, SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR,  a.VRKME, PITM.ARTICLE_OM)) * PITM.ARTICLE_OM||' '||art_uom.meinh  as TotalUnits,
convert(DOUBLE,SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR, PITM.MEINS)) * convert(DOUBLE,ZAL.PI_OM) || ' EA' as  randWtOM,
convert(double, SUM(a.LFIMG) OVER (PARTITION BY PITM.MATNR,  a.VRKME, PITM.ARTICLE_OM))||' '||a.VRKME as dispqty,
case when a.MEINS='KG' and a.ZZDESPATCH_WEIGHT>0.000
THEN convert(double,a.ZZDESPATCH_WEIGHT) || ' ' || a.MEINS
ELSE convert(double, SUM(a.LFIMG) OVER (PARTITION BY PITM.MATNR,  a.VRKME, PITM.ARTICLE_OM)) * PITM.ARTICLE_OM||' '||art_uom.meinh END as disptotalqty,
'' as recqty,'' as recTU,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND ,ZAM.TEMPERATURE_IND,
convert(DOUBLE,ZAL.pi_om)*convert(double,sum(a.lfimg)) || ' EA' as disprandwt
FROM LOCAL_NOTIF_INFO_HDR LONH JOIN ZWOWO_PO_ITM PITM ON (LONH.ORDER_NO = PITM.EBELN)
JOIN ZWOWO_PO_ITM OPTM ON (PITM.EBELN = OPTM.EBELN and PITM.EBELP=OPTM.EBELP) JOIN ZWOWO_PO_HDR PHDR ON (PITM.EBELN = PHDR.EBELN)
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) JOIN ZWOWO_ORDER_NOTIF_ITM a ON (PITM.EBELN=a.VGBEL AND PITM.MATNR=a.MATNR AND PITM.ebelp_trim=a.vgpos_trim)  
WHERE LONH.VBELN in ('ordno') and ART_UOM.base_uom_ind = 'Y' group by a.matnr,PITM.MATNR,art_uom.meinh,OPTM.ARTICLE_OM,ZAL.pi_uom,ZAL.pi_om,PITM.MEINS,PITM.MENGE,
a.VRKME,a.MEINS,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND,a.vbeln,ZAM.TEMPERATURE_IND,a.ZZDESPATCH_WEIGHT,PITM.ARTICLE_OM,a.LFIMG 
having a.vbeln in ('ordno')]]>
</OrderArtListTemp>
<dispArtList>
<![CDATA[select distinct MATNR, convert(int,sum(ARTICLE_QTY)) || ' ' || MEINS as qty,convert(int,sum(ARTICLE_QTY)) || ' ' || MEINS as totalunits,
convert(int,sum(ARTICLE_QTY)) || ' ' || MEINS as dispQty,convert(int,sum(ARTICLE_QTY)) || ' ' || MEINS as totaldisp from ZWOWO_ORDER_COMPONENT 
group by MATNR, ebeln, display_article, order_type,MEINS having ebeln = 'ordno' and display_article = 'artno']]>
</dispArtList>
<dispArtfullList>
<![CDATA[select distinct a.MATNR, convert(int,sum(a.ARTICLE_QTY)) || ' ' || a.MEINS as qty,convert(int,sum(a.ARTICLE_QTY)) || ' ' || a.MEINS as totalunits,
convert(int,sum(a.ARTICLE_QTY)) || ' ' || a.MEINS as dispQty,convert(int,sum(a.ARTICLE_QTY)) || ' ' || a.MEINS as totaldisp,
convert(int,sum(a.ARTICLE_QTY)) || ' ' || a.MEINS as rcveQty,
convert(int,sum(a.ARTICLE_QTY)) || ' ' || a.MEINS as totalrcve  
from ZWOWO_ORDER_COMPONENT a JOIN ZWOWC_ARTICLE_MASTER ZAM ON (a.display_article = ZAM.MATNR)
group by a.MATNR, a.ebeln, a.display_article, a.order_type,a.MEINS,ZAM.TEMPERATURE_IND having ebeln = 'ordno' and display_article = 'artno']]>
</dispArtfullList>
</TCName>

<TCName name = "ReceivingVendorASNinFullMulPOtoSingleASNOption">
<RMStatus>
<![CDATA[SELECT lfbnr,recv_method,sap_recv_method FROM ZWOWT_MDOCHD where lfbnr='ordNo']]>
</RMStatus>
<ONo>
ASNAUTOMATION
</ONo>
<pilotstore>
23457DERHBHH7642
</pilotstore>
<SITStore>
11223344
</SITStore>
<mulPO>
<![CDATA[select ebeln from ZWOWO_ORDER_NOTIF_HDR where lifex='ordno']]>
</mulPO>
<dispWTt>
<![CDATA[select distinct PITM.MATNR,art_uom.meinh as om,
case when a.MEINS='KG' and a.ZZDESPATCH_WEIGHT>0.000
THEN convert(double,a.ZZDESPATCH_WEIGHT) || ' ' || a.MEINS
ELSE convert(double, SUM(a.LFIMG) OVER (PARTITION BY PITM.MATNR,  a.VRKME, PITM.ARTICLE_OM)) * PITM.ARTICLE_OM||' '||a.MEINS END as disptotalqty,
ZAL.RANDOM_WEIGHT_FLG FROM LOCAL_NOTIF_INFO_HDR LONH JOIN ZWOWO_PO_ITM PITM ON (LONH.ORDER_NO = PITM.EBELN)
JOIN ZWOWO_PO_ITM OPTM ON (PITM.EBELN = OPTM.EBELN and PITM.EBELP=OPTM.EBELP) JOIN ZWOWO_PO_HDR PHDR ON (PITM.EBELN = PHDR.EBELN)
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) JOIN ZWOWO_ORDER_NOTIF_ITM a ON (PITM.EBELN=a.VGBEL AND PITM.MATNR=a.MATNR AND PITM.ebelp_trim=a.vgpos_trim) 
WHERE LONH.VBELN in ('ordno') and ART_UOM.base_uom_ind = 'Y' group by a.matnr,PITM.MATNR,art_uom.meinh,OPTM.ARTICLE_OM,ZAL.pi_uom,ZAL.pi_om,PITM.MEINS,PITM.MENGE,
a.VRKME,a.MEINS,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND,a.vbeln,a.ZZDESPATCH_WEIGHT,PITM.ARTICLE_OM,a.LFIMG 
having a.vbeln in ('ordno')]]>
</dispWTt>
<getONo>
<![CDATA[select vbeln,ebeln from ZWOWO_ORDER_NOTIF_hdr where lifex = 'store']]>
</getONo>
<randWt>
<![CDATA[select DISTINCT PITM.MATNR,convert(DOUBLE,SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR, PITM.MEINS)) * convert(DOUBLE,ZAL.PI_OM) || ' EA' as  randWtOM 
FROM LOCAL_NOTIF_INFO_HDR LONH JOIN ZWOWO_PO_ITM PITM ON (LONH.ORDER_NO = PITM.EBELN)
JOIN ZWOWO_PO_ITM OPTM ON (PITM.EBELN = OPTM.EBELN and PITM.EBELP=OPTM.EBELP) JOIN ZWOWO_PO_HDR PHDR ON (PITM.EBELN = PHDR.EBELN)
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) JOIN ZWOWO_ORDER_NOTIF_ITM a ON (PITM.EBELN=a.VGBEL AND PITM.MATNR=a.MATNR AND PITM.ebelp_trim=a.vgpos_trim) 
WHERE LONH.VBELN in ('ordno') and ART_UOM.base_uom_ind = 'Y' group by a.matnr,PITM.MATNR,art_uom.meinh,OPTM.ARTICLE_OM,ZAL.pi_uom,ZAL.pi_om,PITM.MEINS,PITM.MENGE,
a.VRKME,a.MEINS,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND,a.vbeln,PITM.ARTICLE_OM,a.LFIMG having a.vbeln in ('ordno')]]>
</randWt>
<checkOrder>
<![CDATA[select * from revert_received_order where order_no='ordNo']]>
</checkOrder>
<cpbdArt>
<![CDATA[select DISTINCT COMPLEX_PACK_BRK_ARTICLE from zwowc_article_listing where matnr = 'artno']]>
</cpbdArt>
<cpbd>
<![CDATA[select DISTINCT matnr,complex_pack_brk_article,complex_pack_brk_om from ZWOWC_ARTICLE_LISTING where SAAP.ZWOWC_ARTICLE_LISTING.COMPLEX_PACK_BRK_ARTICLE = 'artno' 
order by complex_pack_brk_om desc]]>
</cpbd>
<cpbdSOH>
<![CDATA[select DISTINCT a.article,convert(DOUBLE,a.store_soh) as TUSOH, b.meinh  as TotalUnits,convert(DOUBLE,a.store_soh_rand_wght) || ' EA' as  randWtO 
from saap.local_wow_soh a,ZWOWC_ARTICLE_UOM b where a.article = b.matnr and article = 'artno' and b.base_uom_ind = 'Y';]]>
</cpbdSOH>
<cpbdSOHafter>
<![CDATA[select DISTINCT a.article,convert(DOUBLE,a.store_soh) || ' ' || b.meinh  as TotalUnits 
from saap.local_wow_soh a,ZWOWC_ARTICLE_UOM b where a.article = b.matnr and article = 'artno' and b.base_uom_ind = 'Y';]]>
</cpbdSOHafter>
<SOHbefore>
<![CDATA[select DISTINCT a.article,convert(DOUBLE,a.store_soh) as TUSOH, art_uom.meinh  as TotalUnits,round(convert(DOUBLE,a.store_soh_rand_wght),0) || ' EA' as  randWtOM,
ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND from saap.local_wow_soh a 
join ZWOWC_ARTICLE_UOM art_uom on (a.article=art_uom.matnr) join ZWOWO_PO_ITM PITM on (PITM.matnr=art_uom.matnr) JOIN LOCAL_NOTIF_INFO_HDR LONH ON (LONH.ORDER_NO = PITM.EBELN)
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR)  JOIN ZWOWO_ORDER_NOTIF_ITM ab ON (ZAM.MATNR = ab.MATNR) 
WHERE LONH.VBELN in ('ordNo')  and ART_UOM.base_uom_ind = 'Y' group by ab.matnr,PITM.MATNR,art_uom.meinh,ZAL.pi_uom,ZAL.pi_om,PITM.MEINS,PITM.MENGE,
ab.VRKME,ab.MEINS,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND,ab.vbeln,ab.ZZDESPATCH_WEIGHT,a.article,a.store_soh,a.store_soh_rand_wght 
having ab.vbeln in ('ordNo')]]>
</SOHbefore>
<SOH>
<![CDATA[select DISTINCT a.article,convert(DOUBLE,a.store_soh) || ' ' ||  art_uom.meinh  as TotalUnits,round(convert(DOUBLE,a.store_soh_rand_wght),0) || ' EA' as  randWtOM,
ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND from saap.local_wow_soh a 
join ZWOWC_ARTICLE_UOM art_uom on (a.article=art_uom.matnr) join ZWOWO_PO_ITM PITM on (PITM.matnr=art_uom.matnr) JOIN LOCAL_NOTIF_INFO_HDR LONH ON (LONH.ORDER_NO = PITM.EBELN)
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) JOIN ZWOWO_ORDER_NOTIF_ITM ab ON (ZAM.MATNR = ab.MATNR)  
where LONH.VBELN in ('ordNo')  and ART_UOM.base_uom_ind = 'Y' group by ab.matnr,PITM.MATNR,art_uom.meinh,ZAL.pi_uom,ZAL.pi_om,PITM.MEINS,PITM.MENGE,
ab.VRKME,ab.MEINS,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND,ab.vbeln,ab.ZZDESPATCH_WEIGHT,a.article,a.store_soh,a.store_soh_rand_wght 
having ab.vbeln in ('ordNo')]]>
</SOH>
<dispSOHbefore>
<![CDATA[select distinct a.MATNR, convert(DOUBLE,b.store_soh) as TUSOH , art_uom.meinh  as TotalUnits from ZWOWO_ORDER_COMPONENT a 
join ZWOWC_ARTICLE_UOM art_uom on (a.matnr=art_uom.matnr) join saap.local_wow_soh b on (b.ARTICLE=a.MATNR)
group by a.MATNR, a.ebeln, a.display_article, a.order_type,art_uom.meinh,b.store_soh,ART_UOM.base_uom_ind,a.MEINS having a.ebeln = 'ordNo' 
and a.display_article = 'artno' and ART_UOM.base_uom_ind = 'Y';]]>
</dispSOHbefore>
<dispSOH>
<![CDATA[select distinct a.MATNR, convert(DOUBLE,b.store_soh) || ' ' ||  art_uom.meinh  as TotalUnits from ZWOWO_ORDER_COMPONENT a 
join ZWOWC_ARTICLE_UOM art_uom on (a.matnr=art_uom.matnr) join saap.local_wow_soh b on (b.ARTICLE=a.MATNR)
group by a.MATNR, a.ebeln, a.display_article, a.order_type,art_uom.meinh,b.store_soh,ART_UOM.base_uom_ind,a.MEINS having a.ebeln = 'ordNo' 
and a.display_article ='artno' and ART_UOM.base_uom_ind = 'Y';]]>
</dispSOH>
<AddOrder>
<![CDATA[INSERT INTO "SAAP"."revert_received_order" ("order_no") VALUES('ordersNo')]]>
</AddOrder>
<revertOrder>
<![CDATA[call sp_wow_RevertReceiving('{iv_order_number:"ordno"}');]]>
</revertOrder>
<OrderList>
<![CDATA[select a.lifex, convert(char(12), convert(date, a.lfdat), 103), convert(char(12), convert(date, b.on_show_date), 103), a.created_by, a.lifnr from ZWOWO_ORDER_NOTIF_HDR a,ZWOWO_PO_HDR b 
where a.vbeln ='ordno' and b.ebeln ='orderno']]>
</OrderList><!-- check -->
<displist>
<![CDATA[select convert(DOUBLE,sum(LFIMG)) as dispQty, sum(ZZDESPATCH_WEIGHT) as dispWt from ZWOWO_ORDER_NOTIF_ITM where vbeln in ('ordno')]]>
</displist><!-- check -->
<OrderList1>
<![CDATA[select NAME1 || ' (' || SUPPLIER || ')' as supplierDet from ZWOWC_SUPPLIER_DETAILS  where supplier = 'suppno']]>
</OrderList1><!-- check -->
<OrderList2>
<![CDATA[select convert(double,b.ORDER_QTY),convert(double,count(distinct a.matnr)) as count, convert(double,sum(ZZDESPATCH_WEIGHT)) as disp 
from ZWOWO_ORDER_NOTIF_ITM a,LOCAL_WOW_ORDER_INFO_POST_PO b where a.vbeln in ('ordno') and b.po_no in (select vgbel from ZWOWO_ORDER_NOTIF_ITM where 
vbeln in ('ordno'))  and b.DLVY_NO='OName' group by b.ORDER_QTY]]>
</OrderList2>
<Tempflag>
<![CDATA[select Temperature_ind from ZWOWO_PO_HDR where ebeln = 'ordno']]>
</Tempflag>
<OrderArtList>
<![CDATA[select distinct PITM.MATNR, convert(DOUBLE,OPTM.ARTICLE_OM)|| ' ' ||  art_uom.meinh as OM ,convert(DOUBLE,ZAL.pi_om)|| ' ' ||  ZAL.pi_uom  as PIOMS, 
convert(double, SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR,  a.VRKME, PITM.ARTICLE_OM))||' '||a.VRKME as qty ,
convert(double, SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR,  a.VRKME, PITM.ARTICLE_OM)) * PITM.ARTICLE_OM||' '||art_uom.meinh  as TotalUnits,
convert(DOUBLE,SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR, PITM.MEINS)) * convert(DOUBLE,ZAL.PI_OM) || ' EA' as  randWtOM,
convert(double, SUM(a.LFIMG) OVER (PARTITION BY PITM.MATNR,  a.VRKME, PITM.ARTICLE_OM))||' '||a.VRKME as dispqty,
case when a.MEINS='KG' and a.ZZDESPATCH_WEIGHT>0.000
THEN convert(double,a.ZZDESPATCH_WEIGHT) || ' ' || a.MEINS
ELSE convert(double, SUM(a.LFIMG) OVER (PARTITION BY PITM.MATNR,  a.VRKME, PITM.ARTICLE_OM)) * PITM.ARTICLE_OM||' '||art_uom.meinh END as disptotalqty,
'' as recqty,'' as recTU,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND ,
convert(DOUBLE,ZAL.pi_om)*convert(double,sum(a.lfimg)) || ' EA' as disprandwt
FROM LOCAL_NOTIF_INFO_HDR LONH JOIN ZWOWO_PO_ITM PITM ON (LONH.ORDER_NO = PITM.EBELN)
JOIN ZWOWO_PO_ITM OPTM ON (PITM.EBELN = OPTM.EBELN and PITM.EBELP=OPTM.EBELP) JOIN ZWOWO_PO_HDR PHDR ON (PITM.EBELN = PHDR.EBELN)
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) JOIN ZWOWO_ORDER_NOTIF_ITM a ON (PITM.EBELN=a.VGBEL AND PITM.MATNR=a.MATNR AND PITM.ebelp_trim=a.vgpos_trim) 
WHERE LONH.VBELN in ('ordno') and ART_UOM.base_uom_ind = 'Y' group by a.matnr,PITM.MATNR,art_uom.meinh,OPTM.ARTICLE_OM,ZAL.pi_uom,ZAL.pi_om,PITM.MEINS,PITM.MENGE,
a.VRKME,a.MEINS,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND,a.vbeln,a.ZZDESPATCH_WEIGHT,PITM.ARTICLE_OM,a.LFIMG 
having a.vbeln in ('ordno')]]>
</OrderArtList>
<fullArtList>
<![CDATA[select DISTINCT PITM.MATNR,convert(DOUBLE,OPTM.ARTICLE_OM)|| ' ' ||  art_uom.meinh as OM1, convert(DOUBLE,OPTM.ARTICLE_OM)|| ' ' ||  art_uom.meinh as OM,
convert(double, SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR,  a.VRKME, PITM.ARTICLE_OM))||' '||a.VRKME as qty ,
convert(double, SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR,  a.VRKME, PITM.ARTICLE_OM)) * PITM.ARTICLE_OM||' '||art_uom.meinh  as TotalUnits, ZAL.RANDOM_WEIGHT_FLG, 
ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND, ZAM.TEMPERATURE_IND,
case WHEN art_uom.meinh='KG' and ZAL.RANDOM_WEIGHT_FLG='Y' and a.ZZDESPATCH_WEIGHT>0.000
THEN convert(double,a.ZZDESPATCH_WEIGHT) || ' ' || art_uom.meinh  ||' ('||convert(DOUBLE,ZAL.pi_om)*convert(double,sum(a.lfimg)) || ' EA)'
when art_uom.meinh='KG' and ZAL.RANDOM_WEIGHT_FLG='N' and a.ZZDESPATCH_WEIGHT>0.000
THEN convert(double,a.ZZDESPATCH_WEIGHT) || ' ' || art_uom.meinh
WHEN art_uom.meinh='KG' and ZAL.RANDOM_WEIGHT_FLG='Y'
THEN convert(double, SUM(a.LFIMG) OVER (PARTITION BY PITM.MATNR,  a.VRKME, PITM.ARTICLE_OM)) * PITM.ARTICLE_OM||' '||art_uom.meinh ||' ('||convert(DOUBLE,ZAL.pi_om)*convert(double,sum(a.lfimg)) || ' EA)'
ELSE convert(double, SUM(a.LFIMG) OVER (PARTITION BY PITM.MATNR,  a.VRKME, PITM.ARTICLE_OM)) * PITM.ARTICLE_OM||' '||art_uom.meinh END as soh,
convert(double, SUM(a.LFIMG) OVER (PARTITION BY PITM.MATNR,  a.VRKME, PITM.ARTICLE_OM))||' '||a.VRKME AS recqty,
case when a.MEINS='KG' and a.ZZDESPATCH_WEIGHT>0.000
THEN convert(double,a.ZZDESPATCH_WEIGHT) || ' ' || a.MEINS
ELSE convert(double, SUM(a.LFIMG) OVER (PARTITION BY PITM.MATNR,  a.VRKME, PITM.ARTICLE_OM)) * PITM.ARTICLE_OM||' '||art_uom.meinh END as recTU,
convert(double, SUM(a.LFIMG) OVER (PARTITION BY PITM.MATNR,  a.VRKME, PITM.ARTICLE_OM))||' '||a.VRKME as dispqty,
case when a.MEINS='KG' and a.ZZDESPATCH_WEIGHT>0.000
THEN convert(double,a.ZZDESPATCH_WEIGHT) || ' ' || a.MEINS
ELSE convert(double, SUM(a.LFIMG) OVER (PARTITION BY PITM.MATNR,  a.VRKME, PITM.ARTICLE_OM)) * PITM.ARTICLE_OM||' '||art_uom.meinh END as disptotalqty,
convert(DOUBLE,ZAL.pi_om)*convert(double,sum(a.lfimg)) || ' EA' as disprandwt ,
convert(DOUBLE,SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR, PITM.MEINS)) * convert(DOUBLE,ZAL.PI_OM) || ' EA' as  orderrandWtOM,
case when convert(DOUBLE,SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR, PITM.MEINS))=0
THEN '' 
ELSE convert(DOUBLE,ZAL.pi_om)*convert(double,sum(a.lfimg)) || ' EA' END as  recrandWtOM,ZAL.ALC_STATUS,case when art_uom.meinh='KG'
then convert(DOUBLE,OPTM.ARTICLE_OM)*convert(DOUBLE,SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR, PITM.MEINS)) 
else '0' end as rw
FROM LOCAL_NOTIF_INFO_HDR LONH JOIN ZWOWO_PO_ITM PITM ON (LONH.ORDER_NO = PITM.EBELN)
JOIN ZWOWO_PO_ITM OPTM ON (PITM.EBELN = OPTM.EBELN and PITM.EBELP=OPTM.EBELP) JOIN ZWOWO_PO_HDR PHDR ON (PITM.EBELN = PHDR.EBELN)
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) JOIN ZWOWO_ORDER_NOTIF_ITM a ON (PITM.EBELN=a.VGBEL AND PITM.MATNR=a.MATNR AND PITM.ebelp_trim=a.vgpos_trim) 
WHERE LONH.VBELN in ('ordno') and ART_UOM.base_uom_ind = 'Y' group by a.matnr,PITM.MATNR,art_uom.meinh,OPTM.ARTICLE_OM,ZAL.pi_uom,ZAL.pi_om,PITM.MEINS,PITM.MENGE,
a.VRKME,a.MEINS,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND,a.vbeln,ZAM.TEMPERATURE_IND,ZAL.ALC_STATUS,
a.ZZDESPATCH_WEIGHT,PITM.ARTICLE_OM,a.LFIMG having a.vbeln in ('ordno')]]>
</fullArtList>
<OrderArtListTemp>
<![CDATA[select distinct PITM.MATNR, convert(DOUBLE,OPTM.ARTICLE_OM)|| ' ' ||  art_uom.meinh as OM ,convert(DOUBLE,ZAL.pi_om)|| ' ' ||  ZAL.pi_uom  as PIOMS, 
convert(double, SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR,  a.VRKME, PITM.ARTICLE_OM))||' '||a.VRKME as qty ,
convert(double, SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR,  a.VRKME, PITM.ARTICLE_OM)) * PITM.ARTICLE_OM||' '||art_uom.meinh  as TotalUnits,
convert(DOUBLE,SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR, PITM.MEINS)) * convert(DOUBLE,ZAL.PI_OM) || ' EA' as  randWtOM,
convert(double, SUM(a.LFIMG) OVER (PARTITION BY PITM.MATNR,  a.VRKME, PITM.ARTICLE_OM))||' '||a.VRKME as dispqty,
case when a.MEINS='KG' and a.ZZDESPATCH_WEIGHT>0.000
THEN convert(double,a.ZZDESPATCH_WEIGHT) || ' ' || a.MEINS
ELSE convert(double, SUM(a.LFIMG) OVER (PARTITION BY PITM.MATNR,  a.VRKME, PITM.ARTICLE_OM)) * PITM.ARTICLE_OM||' '||art_uom.meinh END as disptotalqty,
'' as recqty,'' as recTU,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND ,ZAM.TEMPERATURE_IND,
convert(DOUBLE,ZAL.pi_om)*convert(double,sum(a.lfimg)) || ' EA' as disprandwt
FROM LOCAL_NOTIF_INFO_HDR LONH JOIN ZWOWO_PO_ITM PITM ON (LONH.ORDER_NO = PITM.EBELN)
JOIN ZWOWO_PO_ITM OPTM ON (PITM.EBELN = OPTM.EBELN and PITM.EBELP=OPTM.EBELP) JOIN ZWOWO_PO_HDR PHDR ON (PITM.EBELN = PHDR.EBELN)
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) JOIN ZWOWO_ORDER_NOTIF_ITM a ON (PITM.EBELN=a.VGBEL AND PITM.MATNR=a.MATNR AND PITM.ebelp_trim=a.vgpos_trim)  
WHERE LONH.VBELN in ('ordno') and ART_UOM.base_uom_ind = 'Y' group by a.matnr,PITM.MATNR,art_uom.meinh,OPTM.ARTICLE_OM,ZAL.pi_uom,ZAL.pi_om,PITM.MEINS,PITM.MENGE,
a.VRKME,a.MEINS,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND,a.vbeln,ZAM.TEMPERATURE_IND,a.ZZDESPATCH_WEIGHT,PITM.ARTICLE_OM,a.LFIMG 
having a.vbeln in ('ordno')]]>
</OrderArtListTemp>
<dispArtList>
<![CDATA[select distinct MATNR, convert(int,sum(ARTICLE_QTY)) || ' ' || MEINS as qty,convert(int,sum(ARTICLE_QTY)) || ' ' || MEINS as totalunits,
convert(int,sum(ARTICLE_QTY)) || ' ' || MEINS as dispQty,convert(int,sum(ARTICLE_QTY)) || ' ' || MEINS as totaldisp from ZWOWO_ORDER_COMPONENT 
group by MATNR, ebeln, display_article, order_type,MEINS having ebeln = 'ordno' and display_article = 'artno']]>
</dispArtList>
<dispArtfullList>
<![CDATA[select distinct a.MATNR, convert(int,sum(a.ARTICLE_QTY)) || ' ' || a.MEINS as qty,convert(int,sum(a.ARTICLE_QTY)) || ' ' || a.MEINS as totalunits,
convert(int,sum(a.ARTICLE_QTY)) || ' ' || a.MEINS as dispQty,convert(int,sum(a.ARTICLE_QTY)) || ' ' || a.MEINS as totaldisp,
convert(int,sum(a.ARTICLE_QTY)) || ' ' || a.MEINS as rcveQty,
convert(int,sum(a.ARTICLE_QTY)) || ' ' || a.MEINS as totalrcve  
from ZWOWO_ORDER_COMPONENT a JOIN ZWOWC_ARTICLE_MASTER ZAM ON (a.display_article = ZAM.MATNR)
group by a.MATNR, a.ebeln, a.display_article, a.order_type,a.MEINS,ZAM.TEMPERATURE_IND having ebeln = 'ordno' and display_article = 'artno']]>
</dispArtfullList>
</TCName>

<TCName name = "ReceivingVendorASNinExceptionSinglePOhavingDL">
<RMStatus>
<![CDATA[SELECT lfbnr,recv_method,sap_recv_method FROM ZWOWT_MDOCHD where lfbnr='ordNo']]>
</RMStatus>
<pilotstore>
RSDSGD458965416L
</pilotstore>
<SITStore>
ADSBGAUIGASIUBVA
</SITStore>
<ONo>
ASN66684657654
</ONo>
<mulPO>
<![CDATA[select ebeln from ZWOWO_ORDER_NOTIF_HDR where lifex='ordno']]>
</mulPO>
<dispWTt>
<![CDATA[select distinct PITM.MATNR,art_uom.meinh as om,
case when a.MEINS='KG' and a.ZZDESPATCH_WEIGHT>0.000
THEN convert(double,a.ZZDESPATCH_WEIGHT) || ' ' || a.MEINS
ELSE convert(double, SUM(a.LFIMG)) * PITM.ARTICLE_OM||' '||a.MEINS END as disptotalqty,
ZAL.RANDOM_WEIGHT_FLG FROM LOCAL_NOTIF_INFO_HDR LONH JOIN ZWOWO_PO_ITM PITM ON (LONH.ORDER_NO = PITM.EBELN)
JOIN ZWOWO_PO_ITM OPTM ON (PITM.EBELN = OPTM.EBELN and PITM.EBELP=OPTM.EBELP) JOIN ZWOWO_PO_HDR PHDR ON (PITM.EBELN = PHDR.EBELN)
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) JOIN ZWOWO_ORDER_NOTIF_ITM a ON (PITM.EBELN=a.VGBEL AND PITM.MATNR=a.MATNR AND PITM.ebelp_trim=a.vgpos_trim) 
WHERE LONH.VBELN in ('ordno') and ART_UOM.base_uom_ind = 'Y' group by a.matnr,PITM.MATNR,art_uom.meinh,OPTM.ARTICLE_OM,ZAL.pi_uom,ZAL.pi_om,PITM.MEINS,PITM.MENGE,
a.VRKME,a.MEINS,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND,a.vbeln,a.ZZDESPATCH_WEIGHT,PITM.ARTICLE_OM,a.LFIMG 
having a.vbeln in ('ordno')]]>
</dispWTt>
<getONo>
<![CDATA[select vbeln,ebeln from ZWOWO_ORDER_NOTIF_hdr where lifex = 'store']]>
</getONo>
<randWt>
<![CDATA[select DISTINCT PITM.MATNR,convert(DOUBLE,SUM(PITM.MENGE)) * convert(DOUBLE,ZAL.PI_OM) || ' EA' as  randWtOM 
FROM LOCAL_NOTIF_INFO_HDR LONH JOIN ZWOWO_PO_ITM PITM ON (LONH.ORDER_NO = PITM.EBELN)
JOIN ZWOWO_PO_ITM OPTM ON (PITM.EBELN = OPTM.EBELN and PITM.EBELP=OPTM.EBELP) JOIN ZWOWO_PO_HDR PHDR ON (PITM.EBELN = PHDR.EBELN)
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) JOIN ZWOWO_ORDER_NOTIF_ITM a ON (PITM.EBELN=a.VGBEL AND PITM.MATNR=a.MATNR AND PITM.ebelp_trim=a.vgpos_trim) 
WHERE LONH.VBELN in ('ordno') and ART_UOM.base_uom_ind = 'Y' group by a.matnr,PITM.MATNR,art_uom.meinh,OPTM.ARTICLE_OM,ZAL.pi_uom,ZAL.pi_om,PITM.MEINS,PITM.MENGE,
a.VRKME,a.MEINS,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND,a.vbeln,PITM.ARTICLE_OM,a.LFIMG having a.vbeln in ('ordno')]]>
</randWt>
<checkOrder>
<![CDATA[select * from revert_received_order where order_no='ordNo']]>
</checkOrder>
<cpbdArt>
<![CDATA[select DISTINCT COMPLEX_PACK_BRK_ARTICLE from zwowc_article_listing where matnr = 'artno']]>
</cpbdArt>
<cpbd>
<![CDATA[select DISTINCT matnr,complex_pack_brk_article,complex_pack_brk_om from ZWOWC_ARTICLE_LISTING where SAAP.ZWOWC_ARTICLE_LISTING.COMPLEX_PACK_BRK_ARTICLE = 'artno' 
order by complex_pack_brk_om desc]]>
</cpbd>
<cpbdSOH>
<![CDATA[select DISTINCT a.article,convert(DOUBLE,a.store_soh) as TUSOH, b.meinh  as TotalUnits,convert(DOUBLE,a.store_soh_rand_wght) || ' EA' as  randWtO 
from saap.local_wow_soh a,ZWOWC_ARTICLE_UOM b where a.article = b.matnr and article = 'artno' and b.base_uom_ind = 'Y';]]>
</cpbdSOH>
<cpbdSOHafter>
<![CDATA[select DISTINCT a.article,convert(DOUBLE,a.store_soh) || ' ' || b.meinh  as TotalUnits 
from saap.local_wow_soh a,ZWOWC_ARTICLE_UOM b where a.article = b.matnr and article = 'artno' and b.base_uom_ind = 'Y';]]>
</cpbdSOHafter>
<SOHbefore>
<![CDATA[select DISTINCT a.article,convert(DOUBLE,a.store_soh) as TUSOH, art_uom.meinh  as TotalUnits,round(convert(DOUBLE,a.store_soh_rand_wght),0) || ' EA' as  randWtOM,
ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND from saap.local_wow_soh a 
join ZWOWC_ARTICLE_UOM art_uom on (a.article=art_uom.matnr) join ZWOWO_PO_ITM PITM on (PITM.matnr=art_uom.matnr) JOIN LOCAL_NOTIF_INFO_HDR LONH ON (LONH.ORDER_NO = PITM.EBELN)
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR)  JOIN ZWOWO_ORDER_NOTIF_ITM ab ON (ZAM.MATNR = ab.MATNR) 
WHERE LONH.VBELN = 'ordNo'  and ART_UOM.base_uom_ind = 'Y' group by ab.matnr,PITM.MATNR,art_uom.meinh,ZAL.pi_uom,ZAL.pi_om,PITM.MEINS,PITM.MENGE,
ab.VRKME,ab.MEINS,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND,ab.vbeln,ab.ZZDESPATCH_WEIGHT,a.article,a.store_soh,a.store_soh_rand_wght 
having ab.vbeln = 'ordNo']]>
</SOHbefore>
<SOH>
<![CDATA[select DISTINCT a.article,convert(DOUBLE,a.store_soh) || ' ' ||  art_uom.meinh  as TotalUnits,round(convert(DOUBLE,a.store_soh_rand_wght),0) || ' EA' as  randWtOM,
ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND from saap.local_wow_soh a 
join ZWOWC_ARTICLE_UOM art_uom on (a.article=art_uom.matnr) join ZWOWO_PO_ITM PITM on (PITM.matnr=art_uom.matnr) JOIN LOCAL_NOTIF_INFO_HDR LONH ON (LONH.ORDER_NO = PITM.EBELN)
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) JOIN ZWOWO_ORDER_NOTIF_ITM ab ON (ZAM.MATNR = ab.MATNR)  
where LONH.VBELN = 'ordNo'  and ART_UOM.base_uom_ind = 'Y' group by ab.matnr,PITM.MATNR,art_uom.meinh,ZAL.pi_uom,ZAL.pi_om,PITM.MEINS,PITM.MENGE,
ab.VRKME,ab.MEINS,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND,ab.vbeln,ab.ZZDESPATCH_WEIGHT,a.article,a.store_soh,a.store_soh_rand_wght 
having ab.vbeln = 'ordNo']]>
</SOH>
<dispSOHbefore>
<![CDATA[select distinct a.MATNR, convert(DOUBLE,b.store_soh) as TUSOH , art_uom.meinh  as TotalUnits from ZWOWO_ORDER_COMPONENT a 
join ZWOWC_ARTICLE_UOM art_uom on (a.matnr=art_uom.matnr) join saap.local_wow_soh b on (b.ARTICLE=a.MATNR)
group by a.MATNR, a.ebeln, a.display_article, a.order_type,art_uom.meinh,b.store_soh,ART_UOM.base_uom_ind,a.MEINS having a.ebeln = 'ordNo' 
and a.display_article = 'artno' and ART_UOM.base_uom_ind = 'Y';]]>
</dispSOHbefore>
<dispSOH>
<![CDATA[select distinct a.MATNR, convert(DOUBLE,b.store_soh) || ' ' ||  art_uom.meinh  as TotalUnits from ZWOWO_ORDER_COMPONENT a 
join ZWOWC_ARTICLE_UOM art_uom on (a.matnr=art_uom.matnr) join saap.local_wow_soh b on (b.ARTICLE=a.MATNR)
group by a.MATNR, a.ebeln, a.display_article, a.order_type,art_uom.meinh,b.store_soh,ART_UOM.base_uom_ind,a.MEINS having a.ebeln = 'ordNo' 
and a.display_article ='artno' and ART_UOM.base_uom_ind = 'Y';]]>
</dispSOH>
<AddOrder>
<![CDATA[INSERT INTO "SAAP"."revert_received_order" ("order_no") VALUES('ordersNo')]]>
</AddOrder>
<revertOrder>
<![CDATA[call sp_wow_RevertReceiving('{iv_order_number:"ordno"}');]]>
</revertOrder>
<OrderList>
<![CDATA[select a.lifex, convert(char(12), convert(date, a.lfdat), 103), convert(char(12), convert(date, b.on_show_date), 103), a.created_by, a.lifnr from ZWOWO_ORDER_NOTIF_HDR a,ZWOWO_PO_HDR b 
where a.vbeln ='ordno' and b.ebeln ='orderno']]>
</OrderList><!-- check -->
<displist>
<![CDATA[select convert(DOUBLE,sum(LFIMG)) as dispQty, sum(ZZDESPATCH_WEIGHT) as dispWt from ZWOWO_ORDER_NOTIF_ITM where vbeln in ('ordno')]]>
</displist><!-- check -->
<OrderList1>
<![CDATA[select NAME1 || ' (' || SUPPLIER || ')' as supplierDet from ZWOWC_SUPPLIER_DETAILS  where supplier = 'suppno']]>
</OrderList1><!-- check -->
<OrderList2>
<![CDATA[select convert(double,b.ORDER_QTY),convert(double,count(distinct a.matnr)) as count, convert(double,sum(ZZDESPATCH_WEIGHT)) as disp 
from ZWOWO_ORDER_NOTIF_ITM a,LOCAL_WOW_ORDER_INFO_POST_PO b where a.vbeln in ('ordno') and b.po_no in (select vgbel from ZWOWO_ORDER_NOTIF_ITM where 
vbeln in ('ordno')) group by b.ORDER_QTY]]>
</OrderList2>
<Tempflag>
<![CDATA[select Temperature_ind from ZWOWO_PO_HDR where ebeln = 'ordno']]>
</Tempflag>
<OrderArtList>
<![CDATA[select distinct PITM.MATNR, convert(DOUBLE,OPTM.ARTICLE_OM)|| ' ' ||  art_uom.meinh as OM ,convert(DOUBLE,ZAL.pi_om)|| ' ' ||  ZAL.pi_uom  as PIOMS, 
convert(double, SUM(PITM.MENGE))||' '||a.VRKME as qty ,
convert(double, SUM(PITM.MENGE)) * PITM.ARTICLE_OM||' '||art_uom.meinh  as TotalUnits,
convert(DOUBLE,SUM(PITM.MENGE) OVER (PARTITION BY PITM.MEINS)) * convert(DOUBLE,ZAL.PI_OM) || ' EA' as  randWtOM,
convert(double, SUM(a.LFIMG))||' '||a.VRKME as dispqty,
case when a.MEINS='KG' and a.ZZDESPATCH_WEIGHT>0.000
THEN convert(double,a.ZZDESPATCH_WEIGHT) || ' ' || a.MEINS
ELSE convert(double, SUM(a.LFIMG)) * PITM.ARTICLE_OM||' '||art_uom.meinh END as disptotalqty,
'' as recqty,'' as recTU,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND ,
convert(DOUBLE,ZAL.pi_om)*convert(double,sum(a.lfimg)) || ' EA' as disprandwt,ZAL.ALC_STATUS
FROM LOCAL_NOTIF_INFO_HDR LONH JOIN ZWOWO_PO_ITM PITM ON (LONH.ORDER_NO = PITM.EBELN)
JOIN ZWOWO_PO_ITM OPTM ON (PITM.EBELN = OPTM.EBELN and PITM.EBELP=OPTM.EBELP) JOIN ZWOWO_PO_HDR PHDR ON (PITM.EBELN = PHDR.EBELN)
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) JOIN ZWOWO_ORDER_NOTIF_ITM a ON (PITM.EBELN=a.VGBEL AND PITM.MATNR=a.MATNR AND PITM.ebelp_trim=a.vgpos_trim) 
WHERE LONH.VBELN in ('ordno') and ART_UOM.base_uom_ind = 'Y' group by a.matnr,PITM.MATNR,art_uom.meinh,OPTM.ARTICLE_OM,ZAL.pi_uom,ZAL.pi_om,PITM.MEINS,PITM.MENGE,
a.VRKME,a.MEINS,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND,a.vbeln,a.ZZDESPATCH_WEIGHT,PITM.ARTICLE_OM,a.LFIMG,ZAL.ALC_STATUS 
having a.vbeln in ('ordno')]]>
</OrderArtList>
<OrderArtListTemp>
<![CDATA[select distinct PITM.MATNR, convert(DOUBLE,OPTM.ARTICLE_OM)|| ' ' ||  art_uom.meinh as OM ,convert(DOUBLE,ZAL.pi_om)|| ' ' ||  ZAL.pi_uom  as PIOMS, 
convert(double, SUM(PITM.MENGE))||' '||a.VRKME as qty ,
convert(double, SUM(PITM.MENGE)) * PITM.ARTICLE_OM||' '||art_uom.meinh  as TotalUnits,
convert(DOUBLE,SUM(PITM.MENGE)) * convert(DOUBLE,ZAL.PI_OM) || ' EA' as  randWtOM,
convert(double, SUM(a.LFIMG))||' '||a.VRKME as dispqty,
case when a.MEINS='KG' and a.ZZDESPATCH_WEIGHT>0.000
THEN convert(double,a.ZZDESPATCH_WEIGHT) || ' ' || a.MEINS
ELSE convert(double, SUM(a.LFIMG) ) * PITM.ARTICLE_OM||' '||art_uom.meinh END as disptotalqty,
'' as recqty,'' as recTU,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND ,ZAM.TEMPERATURE_IND,
convert(DOUBLE,ZAL.pi_om)*convert(double,sum(a.lfimg)) || ' EA' as disprandwt
FROM LOCAL_NOTIF_INFO_HDR LONH JOIN ZWOWO_PO_ITM PITM ON (LONH.ORDER_NO = PITM.EBELN)
JOIN ZWOWO_PO_ITM OPTM ON (PITM.EBELN = OPTM.EBELN and PITM.EBELP=OPTM.EBELP) JOIN ZWOWO_PO_HDR PHDR ON (PITM.EBELN = PHDR.EBELN)
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) JOIN ZWOWO_ORDER_NOTIF_ITM a ON (PITM.EBELN=a.VGBEL AND PITM.MATNR=a.MATNR AND PITM.ebelp_trim=a.vgpos_trim)  
WHERE LONH.VBELN in ('ordno') and ART_UOM.base_uom_ind = 'Y' group by a.matnr,PITM.MATNR,art_uom.meinh,OPTM.ARTICLE_OM,ZAL.pi_uom,ZAL.pi_om,PITM.MEINS,PITM.MENGE,
a.VRKME,a.MEINS,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND,a.vbeln,ZAM.TEMPERATURE_IND,a.ZZDESPATCH_WEIGHT,PITM.ARTICLE_OM,a.LFIMG 
having a.vbeln in ('ordno')]]>
</OrderArtListTemp>
<dispArtList>
<![CDATA[select distinct MATNR, convert(int,sum(ARTICLE_QTY)) || ' ' || MEINS as qty,convert(int,sum(ARTICLE_QTY)) || ' ' || MEINS as totalunits,
convert(int,sum(ARTICLE_QTY)) || ' ' || MEINS as dispQty,convert(int,sum(ARTICLE_QTY)) || ' ' || MEINS as totaldisp from ZWOWO_ORDER_COMPONENT 
group by MATNR, ebeln, display_article, order_type,MEINS having ebeln = 'ordno' and display_article = 'artno']]>
</dispArtList>
<dispArtfullList>
<![CDATA[select distinct a.MATNR, convert(int,sum(a.ARTICLE_QTY)) || ' ' || a.MEINS as qty,convert(int,sum(a.ARTICLE_QTY)) || ' ' || a.MEINS as totalunits,
convert(int,sum(a.ARTICLE_QTY)) || ' ' || a.MEINS as dispQty,convert(int,sum(a.ARTICLE_QTY)) || ' ' || a.MEINS as totaldisp,
convert(int,sum(a.ARTICLE_QTY)) || ' ' || a.MEINS as rcveQty,
convert(int,sum(a.ARTICLE_QTY)) || ' ' || a.MEINS as totalrcve  
from ZWOWO_ORDER_COMPONENT a JOIN ZWOWC_ARTICLE_MASTER ZAM ON (a.display_article = ZAM.MATNR)
group by a.MATNR, a.ebeln, a.display_article, a.order_type,a.MEINS,ZAM.TEMPERATURE_IND having ebeln = 'ordno' and display_article = 'artno']]>
</dispArtfullList>
</TCName>

<TCName name = "ReceivingVendorASNinFullSinglePOhavingDL">
<RMStatus>
<![CDATA[SELECT lfbnr,recv_method,sap_recv_method FROM ZWOWT_MDOCHD where lfbnr='ordNo']]>
</RMStatus>
<ONo>
ASN66684657654
</ONo>
<pilotstore>
23457DERHBHH7642
</pilotstore>
<SITStore>
11223344
</SITStore>
<mulPO>
<![CDATA[select ebeln from ZWOWO_ORDER_NOTIF_HDR where lifex='ordno']]>
</mulPO>
<dispWTt>
<![CDATA[select distinct PITM.MATNR,art_uom.meinh as om,
case when a.MEINS='KG' and a.ZZDESPATCH_WEIGHT>0.000
THEN convert(double,a.ZZDESPATCH_WEIGHT) || ' ' || a.MEINS
ELSE convert(double, SUM(a.LFIMG)) * PITM.ARTICLE_OM||' '||a.MEINS END as disptotalqty,
ZAL.RANDOM_WEIGHT_FLG FROM LOCAL_NOTIF_INFO_HDR LONH JOIN ZWOWO_PO_ITM PITM ON (LONH.ORDER_NO = PITM.EBELN)
JOIN ZWOWO_PO_ITM OPTM ON (PITM.EBELN = OPTM.EBELN and PITM.EBELP=OPTM.EBELP) JOIN ZWOWO_PO_HDR PHDR ON (PITM.EBELN = PHDR.EBELN)
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) JOIN ZWOWO_ORDER_NOTIF_ITM a ON (PITM.EBELN=a.VGBEL AND PITM.MATNR=a.MATNR AND PITM.ebelp_trim=a.vgpos_trim) 
WHERE LONH.VBELN in ('ordno') and ART_UOM.base_uom_ind = 'Y' group by a.matnr,PITM.MATNR,art_uom.meinh,OPTM.ARTICLE_OM,ZAL.pi_uom,ZAL.pi_om,PITM.MEINS,PITM.MENGE,
a.VRKME,a.MEINS,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND,a.vbeln,a.ZZDESPATCH_WEIGHT,PITM.ARTICLE_OM,a.LFIMG 
having a.vbeln in ('ordno')]]>
</dispWTt>
<getONo>
<![CDATA[select vbeln,ebeln from ZWOWO_ORDER_NOTIF_hdr where lifex = 'store']]>
</getONo>
<randWt>
<![CDATA[select DISTINCT PITM.MATNR,convert(DOUBLE,SUM(PITM.MENGE)) * convert(DOUBLE,ZAL.PI_OM) || ' EA' as  randWtOM 
FROM LOCAL_NOTIF_INFO_HDR LONH JOIN ZWOWO_PO_ITM PITM ON (LONH.ORDER_NO = PITM.EBELN)
JOIN ZWOWO_PO_ITM OPTM ON (PITM.EBELN = OPTM.EBELN and PITM.EBELP=OPTM.EBELP) JOIN ZWOWO_PO_HDR PHDR ON (PITM.EBELN = PHDR.EBELN)
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) JOIN ZWOWO_ORDER_NOTIF_ITM a ON (PITM.EBELN=a.VGBEL AND PITM.MATNR=a.MATNR AND PITM.ebelp_trim=a.vgpos_trim) 
WHERE LONH.VBELN in ('ordno') and ART_UOM.base_uom_ind = 'Y' group by a.matnr,PITM.MATNR,art_uom.meinh,OPTM.ARTICLE_OM,ZAL.pi_uom,ZAL.pi_om,PITM.MEINS,PITM.MENGE,
a.VRKME,a.MEINS,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND,a.vbeln,PITM.ARTICLE_OM,a.LFIMG having a.vbeln in ('ordno')]]>
</randWt>
<checkOrder>
<![CDATA[select * from revert_received_order where order_no='ordNo']]>
</checkOrder>
<cpbdArt>
<![CDATA[select DISTINCT COMPLEX_PACK_BRK_ARTICLE from zwowc_article_listing where matnr = 'artno']]>
</cpbdArt>
<cpbd>
<![CDATA[select DISTINCT matnr,complex_pack_brk_article,complex_pack_brk_om from ZWOWC_ARTICLE_LISTING where SAAP.ZWOWC_ARTICLE_LISTING.COMPLEX_PACK_BRK_ARTICLE = 'artno' 
order by complex_pack_brk_om desc]]>
</cpbd>
<cpbdSOH>
<![CDATA[select DISTINCT a.article,convert(DOUBLE,a.store_soh) as TUSOH, b.meinh  as TotalUnits,convert(DOUBLE,a.store_soh_rand_wght) || ' EA' as  randWtO 
from saap.local_wow_soh a,ZWOWC_ARTICLE_UOM b where a.article = b.matnr and article = 'artno' and b.base_uom_ind = 'Y';]]>
</cpbdSOH>
<cpbdSOHafter>
<![CDATA[select DISTINCT a.article,convert(DOUBLE,a.store_soh) || ' ' || b.meinh  as TotalUnits 
from saap.local_wow_soh a,ZWOWC_ARTICLE_UOM b where a.article = b.matnr and article = 'artno' and b.base_uom_ind = 'Y';]]>
</cpbdSOHafter>
<SOHbefore>
<![CDATA[select DISTINCT a.article,convert(DOUBLE,a.store_soh) as TUSOH, art_uom.meinh  as TotalUnits,round(convert(DOUBLE,a.store_soh_rand_wght),0) || ' EA' as  randWtOM,
ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND from saap.local_wow_soh a 
join ZWOWC_ARTICLE_UOM art_uom on (a.article=art_uom.matnr) join ZWOWO_PO_ITM PITM on (PITM.matnr=art_uom.matnr) JOIN LOCAL_NOTIF_INFO_HDR LONH ON (LONH.ORDER_NO = PITM.EBELN)
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR)  JOIN ZWOWO_ORDER_NOTIF_ITM ab ON (ZAM.MATNR = ab.MATNR) 
WHERE LONH.VBELN = 'ordNo'  and ART_UOM.base_uom_ind = 'Y' group by ab.matnr,PITM.MATNR,art_uom.meinh,ZAL.pi_uom,ZAL.pi_om,PITM.MEINS,PITM.MENGE,
ab.VRKME,ab.MEINS,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND,ab.vbeln,ab.ZZDESPATCH_WEIGHT,a.article,a.store_soh,a.store_soh_rand_wght 
having ab.vbeln = 'ordNo']]>
</SOHbefore>
<SOH>
<![CDATA[select DISTINCT a.article,convert(DOUBLE,a.store_soh) || ' ' ||  art_uom.meinh  as TotalUnits,round(convert(DOUBLE,a.store_soh_rand_wght),0) || ' EA' as  randWtOM,
ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND from saap.local_wow_soh a 
join ZWOWC_ARTICLE_UOM art_uom on (a.article=art_uom.matnr) join ZWOWO_PO_ITM PITM on (PITM.matnr=art_uom.matnr) JOIN LOCAL_NOTIF_INFO_HDR LONH ON (LONH.ORDER_NO = PITM.EBELN)
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) JOIN ZWOWO_ORDER_NOTIF_ITM ab ON (ZAM.MATNR = ab.MATNR)  
where LONH.VBELN = 'ordNo'  and ART_UOM.base_uom_ind = 'Y' group by ab.matnr,PITM.MATNR,art_uom.meinh,ZAL.pi_uom,ZAL.pi_om,PITM.MEINS,PITM.MENGE,
ab.VRKME,ab.MEINS,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND,ab.vbeln,ab.ZZDESPATCH_WEIGHT,a.article,a.store_soh,a.store_soh_rand_wght 
having ab.vbeln = 'ordNo']]>
</SOH>
<dispSOHbefore>
<![CDATA[select distinct a.MATNR, convert(DOUBLE,b.store_soh) as TUSOH , art_uom.meinh  as TotalUnits from ZWOWO_ORDER_COMPONENT a 
join ZWOWC_ARTICLE_UOM art_uom on (a.matnr=art_uom.matnr) join saap.local_wow_soh b on (b.ARTICLE=a.MATNR)
group by a.MATNR, a.ebeln, a.display_article, a.order_type,art_uom.meinh,b.store_soh,ART_UOM.base_uom_ind,a.MEINS having a.ebeln = 'ordNo' 
and a.display_article = 'artno' and ART_UOM.base_uom_ind = 'Y';]]>
</dispSOHbefore>
<dispSOH>
<![CDATA[select distinct a.MATNR, convert(DOUBLE,b.store_soh) || ' ' ||  art_uom.meinh  as TotalUnits from ZWOWO_ORDER_COMPONENT a 
join ZWOWC_ARTICLE_UOM art_uom on (a.matnr=art_uom.matnr) join saap.local_wow_soh b on (b.ARTICLE=a.MATNR)
group by a.MATNR, a.ebeln, a.display_article, a.order_type,art_uom.meinh,b.store_soh,ART_UOM.base_uom_ind,a.MEINS having a.ebeln = 'ordNo' 
and a.display_article ='artno' and ART_UOM.base_uom_ind = 'Y';]]>
</dispSOH>
<AddOrder>
<![CDATA[INSERT INTO "SAAP"."revert_received_order" ("order_no") VALUES('ordersNo')]]>
</AddOrder>
<revertOrder>
<![CDATA[call sp_wow_RevertReceiving('{iv_order_number:"ordno"}');]]>
</revertOrder>
<OrderList>
<![CDATA[select a.lifex, convert(char(12), convert(date, a.lfdat), 103), convert(char(12), convert(date, b.on_show_date), 103), a.created_by, a.lifnr from ZWOWO_ORDER_NOTIF_HDR a,ZWOWO_PO_HDR b 
where a.vbeln ='ordno' and b.ebeln ='orderno']]>
</OrderList><!-- check -->
<displist>
<![CDATA[select convert(DOUBLE,sum(LFIMG)) as dispQty, sum(ZZDESPATCH_WEIGHT) as dispWt from ZWOWO_ORDER_NOTIF_ITM where vbeln in ('ordno')]]>
</displist><!-- check -->
<OrderList1>
<![CDATA[select NAME1 || ' (' || SUPPLIER || ')' as supplierDet from ZWOWC_SUPPLIER_DETAILS  where supplier = 'suppno']]>
</OrderList1><!-- check -->
<OrderList2>
<![CDATA[select convert(double,b.ORDER_QTY),convert(double,count(distinct a.matnr)) as count, convert(double,sum(ZZDESPATCH_WEIGHT)) as disp 
from ZWOWO_ORDER_NOTIF_ITM a,LOCAL_WOW_ORDER_INFO_POST_PO b where a.vbeln in ('ordno') and b.po_no in (select vgbel from ZWOWO_ORDER_NOTIF_ITM where 
vbeln in ('ordno')) group by b.ORDER_QTY]]>
</OrderList2>
<Tempflag>
<![CDATA[select Temperature_ind from ZWOWO_PO_HDR where ebeln = 'ordno']]>
</Tempflag>
<OrderArtList>
<![CDATA[select distinct PITM.MATNR, convert(DOUBLE,OPTM.ARTICLE_OM)|| ' ' ||  art_uom.meinh as OM ,convert(DOUBLE,ZAL.pi_om)|| ' ' ||  ZAL.pi_uom  as PIOMS, 
convert(double, SUM(PITM.MENGE))||' '||a.VRKME as qty ,
convert(double, SUM(PITM.MENGE)) * PITM.ARTICLE_OM||' '||art_uom.meinh  as TotalUnits,
convert(DOUBLE,SUM(PITM.MENGE) OVER (PARTITION BY PITM.MEINS)) * convert(DOUBLE,ZAL.PI_OM) || ' EA' as  randWtOM,
convert(double, SUM(a.LFIMG))||' '||a.VRKME as dispqty,
case when a.MEINS='KG' and a.ZZDESPATCH_WEIGHT>0.000
THEN convert(double,a.ZZDESPATCH_WEIGHT) || ' ' || a.MEINS
ELSE convert(double, SUM(a.LFIMG)) * PITM.ARTICLE_OM||' '||art_uom.meinh END as disptotalqty,
'' as recqty,'' as recTU,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND ,
convert(DOUBLE,ZAL.pi_om)*convert(double,sum(a.lfimg)) || ' EA' as disprandwt
FROM LOCAL_NOTIF_INFO_HDR LONH JOIN ZWOWO_PO_ITM PITM ON (LONH.ORDER_NO = PITM.EBELN)
JOIN ZWOWO_PO_ITM OPTM ON (PITM.EBELN = OPTM.EBELN and PITM.EBELP=OPTM.EBELP) JOIN ZWOWO_PO_HDR PHDR ON (PITM.EBELN = PHDR.EBELN)
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) JOIN ZWOWO_ORDER_NOTIF_ITM a ON (PITM.EBELN=a.VGBEL AND PITM.MATNR=a.MATNR AND PITM.ebelp_trim=a.vgpos_trim) 
WHERE LONH.VBELN in ('ordno') and ART_UOM.base_uom_ind = 'Y' group by a.matnr,PITM.MATNR,art_uom.meinh,OPTM.ARTICLE_OM,ZAL.pi_uom,ZAL.pi_om,PITM.MEINS,PITM.MENGE,
a.VRKME,a.MEINS,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND,a.vbeln,a.ZZDESPATCH_WEIGHT,PITM.ARTICLE_OM,a.LFIMG 
having a.vbeln in ('ordno')]]>
</OrderArtList>
<fullArtList>
<![CDATA[select DISTINCT PITM.MATNR,convert(DOUBLE,OPTM.ARTICLE_OM)|| ' ' ||  art_uom.meinh as OM1, convert(DOUBLE,OPTM.ARTICLE_OM)|| ' ' ||  art_uom.meinh as OM,
convert(double, SUM(PITM.MENGE))||' '||a.VRKME as qty ,
convert(double, SUM(PITM.MENGE)) * PITM.ARTICLE_OM||' '||art_uom.meinh  as TotalUnits, ZAL.RANDOM_WEIGHT_FLG, 
ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND, ZAM.TEMPERATURE_IND,
case WHEN art_uom.meinh='KG' and ZAL.RANDOM_WEIGHT_FLG='Y' and a.ZZDESPATCH_WEIGHT>0.000
THEN convert(double,a.ZZDESPATCH_WEIGHT) || ' ' || art_uom.meinh  ||' ('||convert(DOUBLE,ZAL.pi_om)*convert(double,sum(a.lfimg)) || ' EA)'
when art_uom.meinh='KG' and ZAL.RANDOM_WEIGHT_FLG='N' and a.ZZDESPATCH_WEIGHT>0.000
THEN convert(double,a.ZZDESPATCH_WEIGHT) || ' ' || art_uom.meinh
WHEN art_uom.meinh='KG' and ZAL.RANDOM_WEIGHT_FLG='Y'
THEN convert(double, SUM(a.LFIMG)) * PITM.ARTICLE_OM||' '||art_uom.meinh ||' ('||convert(DOUBLE,ZAL.pi_om)*convert(double,sum(a.lfimg)) || ' EA)'
ELSE convert(double, SUM(a.LFIMG)) * PITM.ARTICLE_OM||' '||art_uom.meinh END as soh,
convert(double, SUM(a.LFIMG) )||' '||a.VRKME AS recqty,
case when a.MEINS='KG' and a.ZZDESPATCH_WEIGHT>0.000
THEN convert(double,a.ZZDESPATCH_WEIGHT) || ' ' || a.MEINS
ELSE convert(double, SUM(a.LFIMG)) * PITM.ARTICLE_OM||' '||art_uom.meinh END as recTU,
convert(double, SUM(a.LFIMG))||' '||a.VRKME as dispqty,
case when a.MEINS='KG' and a.ZZDESPATCH_WEIGHT>0.000
THEN convert(double,a.ZZDESPATCH_WEIGHT) || ' ' || a.MEINS
ELSE convert(double, SUM(a.LFIMG)) * PITM.ARTICLE_OM||' '||art_uom.meinh END as disptotalqty,
convert(DOUBLE,ZAL.pi_om)*convert(double,sum(a.lfimg)) || ' EA' as disprandwt ,
convert(DOUBLE,SUM(PITM.MENGE)) * convert(DOUBLE,ZAL.PI_OM) || ' EA' as  orderrandWtOM,
case when convert(DOUBLE,SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR, PITM.MEINS))=0
THEN '' 
ELSE convert(DOUBLE,ZAL.pi_om)*convert(double,sum(a.lfimg)) || ' EA' END as  recrandWtOM,ZAL.ALC_STATUS,case when art_uom.meinh='KG'
then convert(DOUBLE,OPTM.ARTICLE_OM)*convert(DOUBLE,SUM(PITM.MENGE)) 
else '0' end as rw
FROM LOCAL_NOTIF_INFO_HDR LONH JOIN ZWOWO_PO_ITM PITM ON (LONH.ORDER_NO = PITM.EBELN)
JOIN ZWOWO_PO_ITM OPTM ON (PITM.EBELN = OPTM.EBELN and PITM.EBELP=OPTM.EBELP) JOIN ZWOWO_PO_HDR PHDR ON (PITM.EBELN = PHDR.EBELN)
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) JOIN ZWOWO_ORDER_NOTIF_ITM a ON (PITM.EBELN=a.VGBEL AND PITM.MATNR=a.MATNR AND PITM.ebelp_trim=a.vgpos_trim) 
WHERE LONH.VBELN in ('ordno') and ART_UOM.base_uom_ind = 'Y' group by a.matnr,PITM.MATNR,art_uom.meinh,OPTM.ARTICLE_OM,ZAL.pi_uom,ZAL.pi_om,PITM.MEINS,PITM.MENGE,
a.VRKME,a.MEINS,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND,a.vbeln,ZAM.TEMPERATURE_IND,ZAL.ALC_STATUS,
a.ZZDESPATCH_WEIGHT,PITM.ARTICLE_OM,a.LFIMG having a.vbeln in ('ordno')]]>
</fullArtList>
<OrderArtListTemp>
<![CDATA[select distinct PITM.MATNR, convert(DOUBLE,OPTM.ARTICLE_OM)|| ' ' ||  art_uom.meinh as OM ,convert(DOUBLE,ZAL.pi_om)|| ' ' ||  ZAL.pi_uom  as PIOMS, 
convert(double, SUM(PITM.MENGE))||' '||a.VRKME as qty ,
convert(double, SUM(PITM.MENGE)) * PITM.ARTICLE_OM||' '||art_uom.meinh  as TotalUnits,
convert(DOUBLE,SUM(PITM.MENGE)) * convert(DOUBLE,ZAL.PI_OM) || ' EA' as  randWtOM,
convert(double, SUM(a.LFIMG))||' '||a.VRKME as dispqty,
case when a.MEINS='KG' and a.ZZDESPATCH_WEIGHT>0.000
THEN convert(double,a.ZZDESPATCH_WEIGHT) || ' ' || a.MEINS
ELSE convert(double, SUM(a.LFIMG) ) * PITM.ARTICLE_OM||' '||art_uom.meinh END as disptotalqty,
'' as recqty,'' as recTU,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND ,ZAM.TEMPERATURE_IND,
convert(DOUBLE,ZAL.pi_om)*convert(double,sum(a.lfimg)) || ' EA' as disprandwt
FROM LOCAL_NOTIF_INFO_HDR LONH JOIN ZWOWO_PO_ITM PITM ON (LONH.ORDER_NO = PITM.EBELN)
JOIN ZWOWO_PO_ITM OPTM ON (PITM.EBELN = OPTM.EBELN and PITM.EBELP=OPTM.EBELP) JOIN ZWOWO_PO_HDR PHDR ON (PITM.EBELN = PHDR.EBELN)
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) JOIN ZWOWO_ORDER_NOTIF_ITM a ON (PITM.EBELN=a.VGBEL AND PITM.MATNR=a.MATNR AND PITM.ebelp_trim=a.vgpos_trim)  
WHERE LONH.VBELN in ('ordno') and ART_UOM.base_uom_ind = 'Y' group by a.matnr,PITM.MATNR,art_uom.meinh,OPTM.ARTICLE_OM,ZAL.pi_uom,ZAL.pi_om,PITM.MEINS,PITM.MENGE,
a.VRKME,a.MEINS,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND,a.vbeln,ZAM.TEMPERATURE_IND,a.ZZDESPATCH_WEIGHT,PITM.ARTICLE_OM,a.LFIMG 
having a.vbeln in ('ordno')]]>
</OrderArtListTemp>
<dispArtList>
<![CDATA[select distinct MATNR, convert(int,sum(ARTICLE_QTY)) || ' ' || MEINS as qty,convert(int,sum(ARTICLE_QTY)) || ' ' || MEINS as totalunits,
convert(int,sum(ARTICLE_QTY)) || ' ' || MEINS as dispQty,convert(int,sum(ARTICLE_QTY)) || ' ' || MEINS as totaldisp from ZWOWO_ORDER_COMPONENT 
group by MATNR, ebeln, display_article, order_type,MEINS having ebeln = 'ordno' and display_article = 'artno']]>
</dispArtList>
<dispArtfullList>
<![CDATA[select distinct a.MATNR, convert(int,sum(a.ARTICLE_QTY)) || ' ' || a.MEINS as qty,convert(int,sum(a.ARTICLE_QTY)) || ' ' || a.MEINS as totalunits,
convert(int,sum(a.ARTICLE_QTY)) || ' ' || a.MEINS as dispQty,convert(int,sum(a.ARTICLE_QTY)) || ' ' || a.MEINS as totaldisp,
convert(int,sum(a.ARTICLE_QTY)) || ' ' || a.MEINS as rcveQty,
convert(int,sum(a.ARTICLE_QTY)) || ' ' || a.MEINS as totalrcve  
from ZWOWO_ORDER_COMPONENT a JOIN ZWOWC_ARTICLE_MASTER ZAM ON (a.display_article = ZAM.MATNR)
group by a.MATNR, a.ebeln, a.display_article, a.order_type,a.MEINS,ZAM.TEMPERATURE_IND having ebeln = 'ordno' and display_article = 'artno']]>
</dispArtfullList>
</TCName>

<TCName name = "ReceiveVendorinExceptionByNewArt">
<ONo>
54215116
</ONo>
<SITStore>
50007110
</SITStore>
<AddMisArtno>
473588
</AddMisArtno>
<AddMisArtnoSIT>
110580
</AddMisArtnoSIT>
<ONo1>
50283832
</ONo1>
<artbefore>
<![CDATA[select distinct a.article,round(convert(DOUBLE,a.store_soh),3) as TUSOH, art_uom.meinh  as TotalUnits,round(convert(DOUBLE,a.store_soh_rand_wght),0) || ' EA' as  randWtOM,
convert(DOUBLE,ZAL.ARTICLE_OM) from saap.local_wow_soh a join ZWOWC_ARTICLE_UOM art_uom on (a.article=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (art_uom.matnr = ZAL.MATNR) Where a.article = 'ordNo'  and ART_UOM.base_uom_ind = 'Y';]]>
</artbefore>
<art>
<![CDATA[select distinct a.article,round(convert(DOUBLE,a.store_soh),3) || ' ' ||  art_uom.meinh  as TotalUnits,round(convert(DOUBLE,a.store_soh_rand_wght),0) || ' EA' as  randWtOM 
from saap.local_wow_soh a join ZWOWC_ARTICLE_UOM art_uom on (a.article=art_uom.matnr) JOIN ZWOWC_ARTICLE_LISTING ZAL ON (art_uom.matnr = ZAL.MATNR) 
where a.article = 'ordNo'  and ART_UOM.base_uom_ind = 'Y';]]>
</art>
<checkOrder>
<![CDATA[select * from revert_received_order where order_no='ordNo']]>
</checkOrder>
<cpbdArt>
<![CDATA[select COMPLEX_PACK_BRK_ARTICLE from zwowc_article_listing where matnr = 'artno']]>
</cpbdArt>
<cpbd>
<![CDATA[select matnr,complex_pack_brk_article,complex_pack_brk_om from ZWOWC_ARTICLE_LISTING where SAAP.ZWOWC_ARTICLE_LISTING.COMPLEX_PACK_BRK_ARTICLE = 'artno' 
order by complex_pack_brk_om desc]]>
</cpbd>
<cpbdSOH>
<![CDATA[select a.article,convert(DOUBLE,a.store_soh) as TUSOH, b.meinh  as TotalUnits,convert(DOUBLE,a.store_soh_rand_wght) || ' EA' as  randWtO 
from saap.local_wow_soh a,ZWOWC_ARTICLE_UOM b where a.article = b.matnr and article = 'artno' and b.base_uom_ind = 'Y';]]>
</cpbdSOH>
<cpbdSOHafter>
<![CDATA[select a.article,convert(DOUBLE,a.store_soh) || ' ' || b.meinh  as TotalUnits 
from saap.local_wow_soh a,ZWOWC_ARTICLE_UOM b where a.article = b.matnr and article = 'artno' and b.base_uom_ind = 'Y';]]>
</cpbdSOHafter>
<SOHbefore>
<![CDATA[select a.article,convert(DOUBLE,a.store_soh) as TUSOH, art_uom.meinh  as TotalUnits,round(convert(DOUBLE,a.store_soh_rand_wght),0) || ' EA' as  randWtOM,
ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND from saap.local_wow_soh a 
join ZWOWC_ARTICLE_UOM art_uom on (a.article=art_uom.matnr) join ZWOWO_PO_ITM PITM on (PITM.matnr=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) 
where PITM.EBELN = 'ordNo'  and ART_UOM.base_uom_ind = 'Y';]]>
</SOHbefore>
<SOH>
<![CDATA[select a.article,convert(DOUBLE,a.store_soh) || ' ' ||  art_uom.meinh  as TotalUnits,round(convert(DOUBLE,a.store_soh_rand_wght),0) || ' EA' as  randWtOM,
ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND from saap.local_wow_soh a 
join ZWOWC_ARTICLE_UOM art_uom on (a.article=art_uom.matnr) join ZWOWO_PO_ITM PITM on (PITM.matnr=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) 
where PITM.EBELN = 'ordNo'  and ART_UOM.base_uom_ind = 'Y';]]>
</SOH>
<dispSOHbefore>
<![CDATA[select distinct a.MATNR, convert(DOUBLE,b.store_soh) as TUSOH , art_uom.meinh  as TotalUnits from ZWOWO_ORDER_COMPONENT a 
join ZWOWC_ARTICLE_UOM art_uom on (a.matnr=art_uom.matnr) join saap.local_wow_soh b on (b.ARTICLE=a.MATNR)
group by a.MATNR, a.ebeln, a.display_article, a.order_type,art_uom.meinh,b.store_soh,ART_UOM.base_uom_ind,a.MEINS having a.ebeln = 'ordNo' 
and a.display_article = 'artno' and a.order_type = 'PO' and ART_UOM.base_uom_ind = 'Y';]]>
</dispSOHbefore>
<dispSOH>
<![CDATA[select distinct a.MATNR, convert(DOUBLE,b.store_soh) || ' ' ||  art_uom.meinh  as TotalUnits from ZWOWO_ORDER_COMPONENT a 
join ZWOWC_ARTICLE_UOM art_uom on (a.matnr=art_uom.matnr) join saap.local_wow_soh b on (b.ARTICLE=a.MATNR)
group by a.MATNR, a.ebeln, a.display_article, a.order_type,art_uom.meinh,b.store_soh,ART_UOM.base_uom_ind,a.MEINS having a.ebeln = 'ordNo' 
and a.display_article ='artno' and a.order_type = 'PO' and ART_UOM.base_uom_ind = 'Y';]]>
</dispSOH>
<AddOrder>
<![CDATA[INSERT INTO "SAAP"."revert_received_order" ("order_no") VALUES('ordersNo')]]>
</AddOrder>
<revertOrder>
<![CDATA[call sp_wow_RevertReceiving('{iv_order_number:"ordno"}');]]>
</revertOrder>
<OrderList>
<![CDATA[select a.ebeln, convert(char(12), a.lfdat, 103), convert(char(12), a.on_show_date, 103), a.created_by, b.lifnr from zwowo_po_hdr a, ZWOWO_PO_HDR b 
where a.ebeln = b.ebeln and a.ebeln = 'ordno']]>
</OrderList>
<OrderList1>
<![CDATA[select NAME1 || ' (' || SUPPLIER || ')' as supplierDet from ZWOWC_SUPPLIER_DETAILS  where supplier = 'suppno']]>
</OrderList1>
<OrderList2>
<![CDATA[select convert(int,sum(menge)),count(*) from ZWOWO_PO_ITM where ebeln = 'ordno']]>
</OrderList2>
<Tempflag>
<![CDATA[select Temperature_ind from ZWOWO_PO_HDR where ebeln = 'ordno']]>
</Tempflag>
<OrderArtList>
<![CDATA[select PITM.MATNR, convert(DOUBLE,ZAL.ARTICLE_OM)|| ' ' ||  art_uom.meinh as OM ,convert(DOUBLE,ZAL.pi_om)|| ' ' ||  ZAL.pi_uom  as PIOMS, convert(DOUBLE,PITM.MENGE) || ' ' || PITM.MEINS as qty ,
convert(DOUBLE,ZAL.ARTICLE_OM)*convert(DOUBLE,PITM.MENGE) || ' ' ||  art_uom.meinh  as TotalUnits,
convert(DOUBLE,PITM.MENGE) * convert(DOUBLE,ZAL.PI_OM) || ' EA' as  randWtOM,'NA' as dispqty,'NA' as totalqty,'' as recqty,'' as recTU,
 ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND FROM ZWOWO_PO_ITM PITM 
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
WHERE PITM.EBELN = 'ordno' and ART_UOM.base_uom_ind = 'Y';]]>
</OrderArtList>
<OrderArtListTemp>
<![CDATA[select PITM.MATNR, convert(DOUBLE,ZAL.ARTICLE_OM)|| ' ' ||  art_uom.meinh as OM, convert(DOUBLE,PITM.MENGE) || ' ' || PITM.MEINS as qty ,
convert(DOUBLE,ZAL.ARTICLE_OM)*convert(DOUBLE,PITM.MENGE) || ' ' ||  art_uom.meinh  as TotalUnits,
convert(DOUBLE,PITM.MENGE) * convert(DOUBLE,ZAL.PI_OM) || ' EA' as  randWtOM,'NA' as dispqty,'NA' as totalqty,'' as recqty,'' as recTU,
 ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND, ZAM.TEMPERATURE_IND FROM ZWOWO_PO_ITM PITM 
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
WHERE PITM.EBELN = 'ordno' and ART_UOM.base_uom_ind = 'Y';]]>
</OrderArtListTemp>
<dispArtList>
<![CDATA[select distinct MATNR, convert(int,sum(ARTICLE_QTY)) || ' ' || MEINS as qty,convert(int,sum(ARTICLE_QTY)) || ' ' || MEINS as totalunits from ZWOWO_ORDER_COMPONENT 
group by MATNR, ebeln, display_article, order_type,MEINS having ebeln = 'ordno' and display_article = 'artno' and order_type = 'PO']]>
</dispArtList>
</TCName>

<TCName name = "ReceivingVirtualDCOrderByException">
<randWt>
<![CDATA[select PITM.MATNR,convert(DOUBLE,SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR, PITM.MEINS)) * convert(DOUBLE,ZAL.PI_OM) || ' EA' as  randWtOM FROM LOCAL_NOTIF_INFO_HDR LONH 
JOIN ZWOWO_PO_ITM PITM ON (LONH.ORDER_NO = PITM.EBELN) JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) 
join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) WHERE LONH.VBELN = 'ordno' and ART_UOM.base_uom_ind = 'Y';]]>
</randWt>
<SITStore>
1943909
</SITStore>
<ONo>
8387267
</ONo>
<getONo>
<![CDATA[select vbeln,ebeln from ZWOWO_ORDER_NOTIF_hdr where lifex = 'store']]>
</getONo>
<randWt>
<![CDATA[select DISTINCT PITM.MATNR,convert(DOUBLE,SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR, PITM.MEINS)) * convert(DOUBLE,ZAL.PI_OM) || ' EA' as  randWtOM 
FROM LOCAL_NOTIF_INFO_HDR LONH JOIN ZWOWO_PO_ITM PITM ON (LONH.ORDER_NO = PITM.EBELN)
JOIN ZWOWO_PO_ITM OPTM ON (PITM.EBELN = OPTM.EBELN and PITM.EBELP=OPTM.EBELP) JOIN ZWOWO_PO_HDR PHDR ON (PITM.EBELN = PHDR.EBELN)
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) JOIN ZWOWO_ORDER_NOTIF_ITM a ON (ZAM.MATNR = a.MATNR) 
WHERE LONH.VBELN = 'ordno' and ART_UOM.base_uom_ind = 'Y' group by a.matnr,PITM.MATNR,art_uom.meinh,OPTM.ARTICLE_OM,ZAL.pi_uom,ZAL.pi_om,PITM.MEINS,PITM.MENGE,
a.VRKME,a.MEINS,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND,a.vbeln having a.vbeln = 'ordno']]>
</randWt>
<checkOrder>
<![CDATA[select * from revert_received_order where order_no='ordNo']]>
</checkOrder>
<cpbdArt>
<![CDATA[select DISTINCT COMPLEX_PACK_BRK_ARTICLE from zwowc_article_listing where matnr = 'artno']]>
</cpbdArt>
<cpbd>
<![CDATA[select DISTINCT matnr,complex_pack_brk_article,complex_pack_brk_om from ZWOWC_ARTICLE_LISTING where SAAP.ZWOWC_ARTICLE_LISTING.COMPLEX_PACK_BRK_ARTICLE = 'artno' 
order by complex_pack_brk_om desc]]>
</cpbd>
<cpbdSOH>
<![CDATA[select DISTINCT a.article,convert(DOUBLE,a.store_soh) as TUSOH, b.meinh  as TotalUnits,convert(DOUBLE,a.store_soh_rand_wght) || ' EA' as  randWtO 
from saap.local_wow_soh a,ZWOWC_ARTICLE_UOM b where a.article = b.matnr and article = 'artno' and b.base_uom_ind = 'Y';]]>
</cpbdSOH>
<cpbdSOHafter>
<![CDATA[select DISTINCT a.article,convert(DOUBLE,a.store_soh) || ' ' || b.meinh  as TotalUnits 
from saap.local_wow_soh a,ZWOWC_ARTICLE_UOM b where a.article = b.matnr and article = 'artno' and b.base_uom_ind = 'Y';]]>
</cpbdSOHafter>
<SOHbefore>
<![CDATA[select DISTINCT a.article,convert(DOUBLE,a.store_soh) as TUSOH, art_uom.meinh  as TotalUnits,round(convert(DOUBLE,a.store_soh_rand_wght),0) || ' EA' as  randWtOM,
ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND from saap.local_wow_soh a 
join ZWOWC_ARTICLE_UOM art_uom on (a.article=art_uom.matnr) join ZWOWO_PO_ITM PITM on (PITM.matnr=art_uom.matnr) JOIN LOCAL_NOTIF_INFO_HDR LONH ON (LONH.ORDER_NO = PITM.EBELN)
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR)  JOIN ZWOWO_ORDER_NOTIF_ITM ab ON (ZAM.MATNR = ab.MATNR) 
WHERE LONH.VBELN = 'ordNo'  and ART_UOM.base_uom_ind = 'Y' group by ab.matnr,PITM.MATNR,art_uom.meinh,ZAL.pi_uom,ZAL.pi_om,PITM.MEINS,PITM.MENGE,
ab.VRKME,ab.MEINS,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND,ab.vbeln,ab.ZZDESPATCH_WEIGHT,a.article,a.store_soh,a.store_soh_rand_wght 
having ab.vbeln = 'ordNo']]>
</SOHbefore>
<SOH>
<![CDATA[select DISTINCT a.article,convert(DOUBLE,a.store_soh) || ' ' ||  art_uom.meinh  as TotalUnits,round(convert(DOUBLE,a.store_soh_rand_wght),0) || ' EA' as  randWtOM,
ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND from saap.local_wow_soh a 
join ZWOWC_ARTICLE_UOM art_uom on (a.article=art_uom.matnr) join ZWOWO_PO_ITM PITM on (PITM.matnr=art_uom.matnr) JOIN LOCAL_NOTIF_INFO_HDR LONH ON (LONH.ORDER_NO = PITM.EBELN)
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) JOIN ZWOWO_ORDER_NOTIF_ITM ab ON (ZAM.MATNR = ab.MATNR)  
where LONH.VBELN = 'ordNo'  and ART_UOM.base_uom_ind = 'Y' group by ab.matnr,PITM.MATNR,art_uom.meinh,ZAL.pi_uom,ZAL.pi_om,PITM.MEINS,PITM.MENGE,
ab.VRKME,ab.MEINS,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND,ab.vbeln,ab.ZZDESPATCH_WEIGHT,a.article,a.store_soh,a.store_soh_rand_wght 
having ab.vbeln = 'ordNo']]>
</SOH>
<dispSOHbefore>
<![CDATA[select distinct a.MATNR, convert(DOUBLE,b.store_soh) as TUSOH , art_uom.meinh  as TotalUnits from ZWOWO_ORDER_COMPONENT a 
join ZWOWC_ARTICLE_UOM art_uom on (a.matnr=art_uom.matnr) join saap.local_wow_soh b on (b.ARTICLE=a.MATNR)
group by a.MATNR, a.ebeln, a.display_article, a.order_type,art_uom.meinh,b.store_soh,ART_UOM.base_uom_ind,a.MEINS having a.ebeln = 'ordNo' 
and a.display_article = 'artno' and ART_UOM.base_uom_ind = 'Y';]]>
</dispSOHbefore>
<dispSOH>
<![CDATA[select distinct a.MATNR, convert(DOUBLE,b.store_soh) || ' ' ||  art_uom.meinh  as TotalUnits from ZWOWO_ORDER_COMPONENT a 
join ZWOWC_ARTICLE_UOM art_uom on (a.matnr=art_uom.matnr) join saap.local_wow_soh b on (b.ARTICLE=a.MATNR)
group by a.MATNR, a.ebeln, a.display_article, a.order_type,art_uom.meinh,b.store_soh,ART_UOM.base_uom_ind,a.MEINS having a.ebeln = 'ordNo' 
and a.display_article ='artno' and ART_UOM.base_uom_ind = 'Y';]]>
</dispSOH>
<AddOrder>
<![CDATA[INSERT INTO "SAAP"."revert_received_order" ("order_no") VALUES('ordersNo')]]>
</AddOrder>
<revertOrder>
<![CDATA[call sp_wow_RevertReceiving('{iv_order_number:"ordno"}');]]>
</revertOrder>
<OrderList>
<![CDATA[SELECT DISTINCT A.DELIVERY AS "DELIVERY",
MAX(convert(char(12), A.LFDAT, 103)) OVER (PARTITION BY A.DELIVERY) AS "DELIVERY DATE",
MAX(convert(char(12), A.ON_SHOW_DATE, 103)) OVER (PARTITION BY A.DELIVERY) AS "ON SHOW DATE", A.created_by,A.lifnr
FROM 
(
  SELECT DISTINCT LONH.VBELN AS DELIVERY,  LONH.MSG_TYPE AS STATUS,   PITM.MATNR AS ARTICLE,   SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR, PITM.MEINS) AS ORDER_QUANTITY, 
  PITM.MEINS AS ARTICLE_UOM,  MAX(PHDR.ON_SHOW_DATE) OVER (PARTITION BY PHDR.EBELN) AS ON_SHOW_DATE,MAX(PHDR.LFDAT) OVER (PARTITION BY PHDR.EBELN) AS LFDAT,PTM.created_by,PTM.lifnr,
  ZAL.RANDOM_WEIGHT_FLG AS RANDOM_WEIGHT_FLAG  FROM LOCAL_NOTIF_INFO_HDR LONH  JOIN ZWOWO_PO_ITM PITM ON (LONH.ORDER_NO = PITM.EBELN) JOIN ZWOWO_ORDER_NOTIF_HDR PTM ON (LONH.VBELN = PTM.VBELN)
  JOIN ZWOWO_PO_HDR PHDR ON (PITM.EBELN = PHDR.EBELN)  JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR)  WHERE LONH.VBELN = 'ordno'
) A;]]>
</OrderList><!-- check -->
<displist>
<![CDATA[select convert(DOUBLE,sum(LFIMG)) as dispQty, sum(ZZDESPATCH_WEIGHT) as dispWt from ZWOWO_ORDER_NOTIF_ITM where vbeln = 'ordno']]>
</displist><!-- check -->
<OrderList1>
<![CDATA[select NAME1 || ' (' || SUPPLIER || ')' as supplierDet from ZWOWC_SUPPLIER_DETAILS  where supplier = 'suppno']]>
</OrderList1><!-- check -->
<OrderList2>
<![CDATA[select convert(double,b.ORDER_QTY),convert(double,count(distinct a.matnr)) as count, convert(double,sum(ZZDESPATCH_WEIGHT)) as disp 
from ZWOWO_ORDER_NOTIF_ITM a,LOCAL_WOW_ORDER_INFO_POST_PO b where a.vbeln = 'ordno' and b.po_no in (select vgbel from ZWOWO_ORDER_NOTIF_ITM where vbeln='ordno' )
group by b.ORDER_QTY]]>
</OrderList2>
<Tempflag>
<![CDATA[select Temperature_ind from ZWOWO_PO_HDR where ebeln = 'ordno']]>
</Tempflag>
<OrderArtList>
<![CDATA[select distinct PITM.MATNR, convert(DOUBLE,OPTM.ARTICLE_OM)|| ' ' ||  art_uom.meinh as OM ,convert(DOUBLE,ZAL.pi_om)|| ' ' ||  ZAL.pi_uom  as PIOMS, 
convert(DOUBLE,SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR, PITM.MEINS)) || ' ' || PITM.MEINS as qty ,
convert(DOUBLE,OPTM.ARTICLE_OM)*convert(DOUBLE,SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR, PITM.MEINS)) || ' ' ||  art_uom.meinh  as TotalUnits,
convert(DOUBLE,SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR, PITM.MEINS)) * convert(DOUBLE,ZAL.PI_OM) || ' EA' as  randWtOM,
'NA' as dispqty,'NA' as disptotalqty,'' as recqty,'' as recTU,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND ,
convert(DOUBLE,ZAL.pi_om)*convert(DOUBLE,SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR, PITM.MEINS)) || ' EA' as disprandwt,ZAL.ALC_STATUS
FROM LOCAL_NOTIF_INFO_HDR LONH JOIN ZWOWO_PO_ITM PITM ON (LONH.ORDER_NO = PITM.EBELN)
JOIN ZWOWO_PO_ITM OPTM ON (PITM.EBELN = OPTM.EBELN and PITM.EBELP=OPTM.EBELP) JOIN ZWOWO_PO_HDR PHDR ON (PITM.EBELN = PHDR.EBELN)
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) JOIN ZWOWO_ORDER_NOTIF_ITM a ON (ZAM.MATNR = a.MATNR) 
WHERE LONH.VBELN = 'ordno' and ART_UOM.base_uom_ind = 'Y' group by a.matnr,PITM.MATNR,art_uom.meinh,OPTM.ARTICLE_OM,ZAL.pi_uom,ZAL.pi_om,PITM.MEINS,PITM.MENGE,
a.VRKME,a.MEINS,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND,a.vbeln,a.ZZDESPATCH_WEIGHT,ZAL.ALC_STATUS having a.vbeln = 'ordno']]>
</OrderArtList>
<OrderArtListTemp>
<![CDATA[select distinct PITM.MATNR, convert(DOUBLE,OPTM.ARTICLE_OM)|| ' ' ||  art_uom.meinh as OM ,convert(DOUBLE,ZAL.pi_om)|| ' ' ||  ZAL.pi_uom  as PIOMS, 
convert(DOUBLE,SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR, PITM.MEINS)) || ' ' || PITM.MEINS as qty ,
convert(DOUBLE,OPTM.ARTICLE_OM)*convert(DOUBLE,SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR, PITM.MEINS)) || ' ' ||  art_uom.meinh  as TotalUnits,
convert(DOUBLE,SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR, PITM.MEINS)) * convert(DOUBLE,ZAL.PI_OM) || ' EA' as  randWtOM,
convert(double,sum(a.lfimg)) || ' ' || a.VRKME as dispqty,
case when a.MEINS='KG' and ZAL.RANDOM_WEIGHT_FLG='N' and a.ZZDESPATCH_WEIGHT>0.000
THEN convert(double,a.ZZDESPATCH_WEIGHT) || ' ' || a.MEINS
when ZAL.RANDOM_WEIGHT_FLG='Y'
THEN convert(double,a.ZZDESPATCH_WEIGHT) || ' ' || art_uom.meinh
ELSE convert(double,sum(a.lfimg))*convert(DOUBLE,OPTM.ARTICLE_OM) || ' ' || art_uom.meinh END as disptotalqty,
'' as recqty,'' as recTU,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND ,ZAM.TEMPERATURE_IND,
convert(DOUBLE,ZAL.pi_om)*convert(DOUBLE,SUM(PITM.MENGE) OVER (PARTITION BY PITM.MATNR, PITM.MEINS)) || ' EA' as disprandwt
FROM LOCAL_NOTIF_INFO_HDR LONH JOIN ZWOWO_PO_ITM PITM ON (LONH.ORDER_NO = PITM.EBELN)
JOIN ZWOWO_PO_ITM OPTM ON (PITM.EBELN = OPTM.EBELN and PITM.EBELP=OPTM.EBELP) JOIN ZWOWO_PO_HDR PHDR ON (PITM.EBELN = PHDR.EBELN)
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) JOIN ZWOWO_ORDER_NOTIF_ITM a ON (ZAM.MATNR = a.MATNR) 
WHERE LONH.VBELN = 'ordno' and ART_UOM.base_uom_ind = 'Y' group by a.matnr,PITM.MATNR,art_uom.meinh,OPTM.ARTICLE_OM,ZAL.pi_uom,ZAL.pi_om,PITM.MEINS,PITM.MENGE,
a.VRKME,a.MEINS,ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND,a.vbeln,ZAM.TEMPERATURE_IND,a.ZZDESPATCH_WEIGHT having a.vbeln = 'ordno']]>
</OrderArtListTemp>
<dispArtList>
<![CDATA[select distinct MATNR, convert(int,sum(ARTICLE_QTY)) || ' ' || MEINS as qty,convert(int,sum(ARTICLE_QTY)) || ' ' || MEINS as totalunits,
convert(int,sum(ARTICLE_QTY)) || ' ' || MEINS as dispQty,convert(int,sum(ARTICLE_QTY)) || ' ' || MEINS as totaldisp from ZWOWO_ORDER_COMPONENT 
group by MATNR, ebeln, display_article, order_type,MEINS having ebeln = 'ordno' and display_article = 'artno']]>
</dispArtList>
<dispArtfullList>
<![CDATA[select distinct a.MATNR, convert(int,sum(a.ARTICLE_QTY)) || ' ' || a.MEINS as qty,convert(int,sum(a.ARTICLE_QTY)) || ' ' || a.MEINS as totalunits,
convert(int,sum(a.ARTICLE_QTY)) || ' ' || a.MEINS as dispQty,convert(int,sum(a.ARTICLE_QTY)) || ' ' || a.MEINS as totaldisp,
convert(int,sum(a.ARTICLE_QTY)) || ' ' || a.MEINS as rcveQty,
convert(int,sum(a.ARTICLE_QTY)) || ' ' || a.MEINS as totalrcve  
from ZWOWO_ORDER_COMPONENT a JOIN ZWOWC_ARTICLE_MASTER ZAM ON (a.display_article = ZAM.MATNR)
group by a.MATNR, a.ebeln, a.display_article, a.order_type,a.MEINS,ZAM.TEMPERATURE_IND having ebeln = 'ordno' and display_article = 'artno']]>
</dispArtfullList>
</TCName>

<TCName name = "ReceiveLineByLineNewOM">
<ONo>
54215116
</ONo>
<SITStore>
50007881
</SITStore>
<ONo1>
54215116
</ONo1>
<checkOrder>
<![CDATA[select * from revert_received_order where order_no='ordNo']]>
</checkOrder>
<cpbdArt>
<![CDATA[select COMPLEX_PACK_BRK_ARTICLE from zwowc_article_listing where matnr = 'artno']]>
</cpbdArt>
<cpbd>
<![CDATA[select matnr,complex_pack_brk_article,complex_pack_brk_om from ZWOWC_ARTICLE_LISTING where SAAP.ZWOWC_ARTICLE_LISTING.COMPLEX_PACK_BRK_ARTICLE = 'artno' 
order by complex_pack_brk_om desc]]>
</cpbd>
<cpbdSOH>
<![CDATA[select a.article,convert(DOUBLE,a.store_soh) as TUSOH, b.meinh  as TotalUnits,convert(DOUBLE,a.store_soh_rand_wght) || ' EA' as  randWtO 
from saap.local_wow_soh a,ZWOWC_ARTICLE_UOM b where a.article = b.matnr and article = 'artno' and b.base_uom_ind = 'Y';]]>
</cpbdSOH>
<cpbdSOHafter>
<![CDATA[select a.article,convert(DOUBLE,a.store_soh) || ' ' || b.meinh  as TotalUnits 
from saap.local_wow_soh a,ZWOWC_ARTICLE_UOM b where a.article = b.matnr and article = 'artno' and b.base_uom_ind = 'Y';]]>
</cpbdSOHafter>
<SOHbefore>
<![CDATA[select a.article,convert(DOUBLE,a.store_soh) as TUSOH, art_uom.meinh  as TotalUnits,round(convert(DOUBLE,a.store_soh_rand_wght),0) || ' EA' as  randWtOM,
ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND from saap.local_wow_soh a 
join ZWOWC_ARTICLE_UOM art_uom on (a.article=art_uom.matnr) join ZWOWO_PO_ITM PITM on (PITM.matnr=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) 
where PITM.EBELN = 'ordNo'  and ART_UOM.base_uom_ind = 'Y';]]>
</SOHbefore>
<SOH>
<![CDATA[select a.article,convert(DOUBLE,a.store_soh) || ' ' ||  art_uom.meinh  as TotalUnits,round(convert(DOUBLE,a.store_soh_rand_wght),0) || ' EA' as  randWtOM,
ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND from saap.local_wow_soh a 
join ZWOWC_ARTICLE_UOM art_uom on (a.article=art_uom.matnr) join ZWOWO_PO_ITM PITM on (PITM.matnr=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) 
where PITM.EBELN = 'ordNo'  and ART_UOM.base_uom_ind = 'Y';]]>
</SOH>
<dispSOHbefore>
<![CDATA[select distinct a.MATNR,convert(DOUBLE,b.store_soh) as TUSOH , art_uom.meinh  as TotalUnits from ZWOWO_ORDER_COMPONENT a 
join ZWOWC_ARTICLE_UOM art_uom on (a.matnr=art_uom.matnr) join saap.local_wow_soh b on (b.ARTICLE=a.MATNR)
group by a.MATNR, a.ebeln, a.display_article, a.order_type,art_uom.meinh,b.store_soh,ART_UOM.base_uom_ind,a.MEINS having a.ebeln = 'ordNo' 
and a.display_article = 'artno' and a.order_type = 'PO' and ART_UOM.base_uom_ind = 'Y';]]>
</dispSOHbefore>
<dispSOH>
<![CDATA[select distinct a.MATNR,convert(DOUBLE,b.store_soh) || ' ' ||  art_uom.meinh  as TotalUnits from ZWOWO_ORDER_COMPONENT a 
join ZWOWC_ARTICLE_UOM art_uom on (a.matnr=art_uom.matnr) join saap.local_wow_soh b on (b.ARTICLE=a.MATNR)
group by a.MATNR, a.ebeln, a.display_article, a.order_type,art_uom.meinh,b.store_soh,ART_UOM.base_uom_ind,a.MEINS having a.ebeln = 'ordNo' 
and a.display_article ='artno' and a.order_type = 'PO' and ART_UOM.base_uom_ind = 'Y';]]>
</dispSOH>
<AddOrder>
<![CDATA[INSERT INTO "SAAP"."revert_received_order" ("order_no") VALUES('ordersNo')]]>
</AddOrder>
<revertOrder>
<![CDATA[call sp_wow_RevertReceiving('{iv_order_number:"ordno"}');]]>
</revertOrder>
<OrderList>
<![CDATA[select a.ebeln, convert(char(12), a.lfdat, 103), convert(char(12), a.on_show_date, 103), a.created_by, b.lifnr from zwowo_po_hdr a, ZWOWO_PO_HDR b 
where a.ebeln = b.ebeln and a.ebeln = 'ordno']]>
</OrderList>
<OrderList1>
<![CDATA[select NAME1 || ' (' || SUPPLIER || ')' as supplierDet from ZWOWC_SUPPLIER_DETAILS  where supplier = 'suppno']]>
</OrderList1>
<OrderList2>
<![CDATA[select convert(int,sum(menge)),count(*) from ZWOWO_PO_ITM where ebeln = 'ordno']]>
</OrderList2>
<Tempflag>
<![CDATA[select Temperature_ind from ZWOWO_PO_HDR where ebeln = 'ordno']]>
</Tempflag>
<OrderArtList>
<![CDATA[select PITM.MATNR, convert(DOUBLE,ZAL.ARTICLE_OM)|| ' ' ||  art_uom.meinh as OM ,convert(DOUBLE,ZAL.pi_om)|| ' ' ||  ZAL.pi_uom  as PIOMS, convert(DOUBLE,PITM.MENGE) || ' ' || PITM.MEINS as qty ,
convert(DOUBLE,ZAL.ARTICLE_OM)*convert(DOUBLE,PITM.MENGE) || ' ' ||  art_uom.meinh  as TotalUnits,
convert(DOUBLE,PITM.MENGE) * convert(DOUBLE,ZAL.PI_OM) || ' EA' as  randWtOM,'NA' as dispqty,'NA' as totalqty,'' as recqty,'' as recTU,
 ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND FROM ZWOWO_PO_ITM PITM 
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
WHERE PITM.EBELN = 'ordno' and ART_UOM.base_uom_ind = 'Y';]]>
</OrderArtList>
<OrderArtListTemp>
<![CDATA[select PITM.MATNR, convert(DOUBLE,ZAL.ARTICLE_OM)|| ' ' ||  art_uom.meinh as OM,convert(DOUBLE,ZAL.pi_om)|| ' ' ||  ZAL.pi_uom  as PIOMS, convert(DOUBLE,PITM.MENGE) || ' ' || PITM.MEINS as qty ,
convert(DOUBLE,ZAL.ARTICLE_OM)*convert(DOUBLE,PITM.MENGE) || ' ' ||  art_uom.meinh  as TotalUnits,
convert(DOUBLE,PITM.MENGE) * convert(DOUBLE,ZAL.PI_OM) || ' EA' as  randWtOM,'NA' as dispqty,'NA' as totalqty,'' as recqty,'' as recTU,
 ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND, ZAM.TEMPERATURE_IND FROM ZWOWO_PO_ITM PITM 
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
WHERE PITM.EBELN = 'ordno' and ART_UOM.base_uom_ind = 'Y';]]>
</OrderArtListTemp>
<dispArtList>
<![CDATA[select distinct MATNR, convert(int,sum(ARTICLE_QTY)) || ' ' || MEINS as qty,convert(int,sum(ARTICLE_QTY)) || ' ' || MEINS as totalunits from ZWOWO_ORDER_COMPONENT 
group by MATNR, ebeln, display_article, order_type,MEINS having ebeln = 'ordno' and display_article = 'artno' and order_type = 'PO']]>
</dispArtList>
</TCName>

<TCName name = "ReceiveLineByLines">
<ONo>
54215116
</ONo>
<SITStore>
50007881
</SITStore>
<ONo1>
54215116
</ONo1>
<checkOrder>
<![CDATA[select * from revert_received_order where order_no='ordNo']]>
</checkOrder>
<cpbdArt>
<![CDATA[select COMPLEX_PACK_BRK_ARTICLE from zwowc_article_listing where matnr = 'artno']]>
</cpbdArt>
<cpbd>
<![CDATA[select matnr,complex_pack_brk_article,complex_pack_brk_om from ZWOWC_ARTICLE_LISTING where SAAP.ZWOWC_ARTICLE_LISTING.COMPLEX_PACK_BRK_ARTICLE = 'artno' 
order by complex_pack_brk_om desc]]>
</cpbd>
<cpbdSOH>
<![CDATA[select a.article,convert(DOUBLE,a.store_soh) as TUSOH, b.meinh  as TotalUnits,convert(DOUBLE,a.store_soh_rand_wght) || ' EA' as  randWtO 
from saap.local_wow_soh a,ZWOWC_ARTICLE_UOM b where a.article = b.matnr and article = 'artno' and b.base_uom_ind = 'Y';]]>
</cpbdSOH>
<cpbdSOHafter>
<![CDATA[select a.article,convert(DOUBLE,a.store_soh) || ' ' || b.meinh  as TotalUnits 
from saap.local_wow_soh a,ZWOWC_ARTICLE_UOM b where a.article = b.matnr and article = 'artno' and b.base_uom_ind = 'Y';]]>
</cpbdSOHafter>
<SOHbefore>
<![CDATA[select a.article,convert(DOUBLE,a.store_soh) as TUSOH, art_uom.meinh  as TotalUnits,round(convert(DOUBLE,a.store_soh_rand_wght),0) || ' EA' as  randWtOM,
ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND from saap.local_wow_soh a 
join ZWOWC_ARTICLE_UOM art_uom on (a.article=art_uom.matnr) join ZWOWO_PO_ITM PITM on (PITM.matnr=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) 
where PITM.EBELN = 'ordNo'  and ART_UOM.base_uom_ind = 'Y';]]>
</SOHbefore>
<SOH>
<![CDATA[select a.article,convert(DOUBLE,a.store_soh) || ' ' ||  art_uom.meinh  as TotalUnits,round(convert(DOUBLE,a.store_soh_rand_wght),0) || ' EA' as  randWtOM,
ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND from saap.local_wow_soh a 
join ZWOWC_ARTICLE_UOM art_uom on (a.article=art_uom.matnr) join ZWOWO_PO_ITM PITM on (PITM.matnr=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) 
where PITM.EBELN = 'ordNo'  and ART_UOM.base_uom_ind = 'Y';]]>
</SOH>
<dispSOHbefore>
<![CDATA[select distinct a.MATNR,convert(DOUBLE,b.store_soh) as TUSOH , art_uom.meinh  as TotalUnits from ZWOWO_ORDER_COMPONENT a 
join ZWOWC_ARTICLE_UOM art_uom on (a.matnr=art_uom.matnr) join saap.local_wow_soh b on (b.ARTICLE=a.MATNR)
group by a.MATNR, a.ebeln, a.display_article, a.order_type,art_uom.meinh,b.store_soh,ART_UOM.base_uom_ind,a.MEINS having a.ebeln = 'ordNo' 
and a.display_article = 'artno' and a.order_type = 'PO' and ART_UOM.base_uom_ind = 'Y';]]>
</dispSOHbefore>
<dispSOH>
<![CDATA[select distinct a.MATNR, convert(DOUBLE,b.store_soh) || ' ' ||  art_uom.meinh  as TotalUnits from ZWOWO_ORDER_COMPONENT a 
join ZWOWC_ARTICLE_UOM art_uom on (a.matnr=art_uom.matnr) join saap.local_wow_soh b on (b.ARTICLE=a.MATNR)
group by a.MATNR, a.ebeln, a.display_article, a.order_type,art_uom.meinh,b.store_soh,ART_UOM.base_uom_ind,a.MEINS having a.ebeln = 'ordNo' 
and a.display_article ='artno' and a.order_type = 'PO' and ART_UOM.base_uom_ind = 'Y';]]>
</dispSOH>
<AddOrder>
<![CDATA[INSERT INTO "SAAP"."revert_received_order" ("order_no") VALUES('ordersNo')]]>
</AddOrder>
<revertOrder>
<![CDATA[call sp_wow_RevertReceiving('{iv_order_number:"ordno"}');]]>
</revertOrder>
<OrderList>
<![CDATA[select a.ebeln, convert(char(12), a.lfdat, 103), convert(char(12), a.on_show_date, 103), a.created_by, b.lifnr from zwowo_po_hdr a, ZWOWO_PO_HDR b 
where a.ebeln = b.ebeln and a.ebeln = 'ordno']]>
</OrderList>
<OrderList1>
<![CDATA[select NAME1 || ' (' || SUPPLIER || ')' as supplierDet from ZWOWC_SUPPLIER_DETAILS  where supplier = 'suppno']]>
</OrderList1>
<OrderList2>
<![CDATA[select convert(int,sum(menge)),count(*) from ZWOWO_PO_ITM where ebeln = 'ordno']]>
</OrderList2>
<Tempflag>
<![CDATA[select Temperature_ind from ZWOWO_PO_HDR where ebeln = 'ordno']]>
</Tempflag>
<OrderArtList>
<![CDATA[select PITM.MATNR, convert(DOUBLE,ZAL.ARTICLE_OM)|| ' ' ||  art_uom.meinh as OM ,convert(DOUBLE,ZAL.pi_om)|| ' ' ||  ZAL.pi_uom  as PIOMS, convert(DOUBLE,PITM.MENGE) || ' ' || PITM.MEINS as qty ,
convert(DOUBLE,ZAL.ARTICLE_OM)*convert(DOUBLE,PITM.MENGE) || ' ' ||  art_uom.meinh  as TotalUnits,
convert(DOUBLE,PITM.MENGE) * convert(DOUBLE,ZAL.PI_OM) || ' EA' as  randWtOM,'NA' as dispqty,'NA' as totalqty,'' as recqty,'' as recTU,
 ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND FROM ZWOWO_PO_ITM PITM 
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
WHERE PITM.EBELN = 'ordno' and ART_UOM.base_uom_ind = 'Y';]]>
</OrderArtList>
<OrderArtListTemp>
<![CDATA[select PITM.MATNR, convert(DOUBLE,ZAL.ARTICLE_OM)|| ' ' ||  art_uom.meinh as OM,convert(DOUBLE,ZAL.pi_om)|| ' ' ||  ZAL.pi_uom  as PIOMS, convert(DOUBLE,PITM.MENGE) || ' ' || PITM.MEINS as qty ,
convert(DOUBLE,ZAL.ARTICLE_OM)*convert(DOUBLE,PITM.MENGE) || ' ' ||  art_uom.meinh  as TotalUnits,
convert(DOUBLE,PITM.MENGE) * convert(DOUBLE,ZAL.PI_OM) || ' EA' as  randWtOM,'NA' as dispqty,'NA' as totalqty,'' as recqty,'' as recTU,
 ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND, ZAM.TEMPERATURE_IND FROM ZWOWO_PO_ITM PITM 
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
WHERE PITM.EBELN = 'ordno' and ART_UOM.base_uom_ind = 'Y';]]>
</OrderArtListTemp>
<dispArtList>
<![CDATA[select distinct MATNR, convert(int,sum(ARTICLE_QTY)) || ' ' || MEINS as qty,convert(int,sum(ARTICLE_QTY)) || ' ' || MEINS as totalunits from ZWOWO_ORDER_COMPONENT 
group by MATNR, ebeln, display_article, order_type,MEINS having ebeln = 'ordno' and display_article = 'artno' and order_type = 'PO']]>
</dispArtList>
</TCName>

<TCName name = "ReceiveLineByExceptionIBT">
<ONo>
7010576851
</ONo>
<SITStore>
7041513042
</SITStore>
<ONo1>
7010576851
</ONo1>
<checkOrder>
<![CDATA[select * from revert_received_order where order_no='ordNo']]>
</checkOrder>
<cpbdArt>
<![CDATA[select COMPLEX_PACK_BRK_ARTICLE from zwowc_article_listing where matnr = 'artno']]>
</cpbdArt>
<cpbd>
<![CDATA[select matnr,complex_pack_brk_article,complex_pack_brk_om from ZWOWC_ARTICLE_LISTING where SAAP.ZWOWC_ARTICLE_LISTING.COMPLEX_PACK_BRK_ARTICLE = 'artno' 
order by complex_pack_brk_om desc]]>
</cpbd>
<cpbdSOH>
<![CDATA[select a.article,convert(DOUBLE,a.store_soh) as TUSOH, b.meinh  as TotalUnits,convert(DOUBLE,a.store_soh_rand_wght) || ' EA' as  randWtO 
from saap.local_wow_soh a,ZWOWC_ARTICLE_UOM b where a.article = b.matnr and article = 'artno' and b.base_uom_ind = 'Y';]]>
</cpbdSOH>
<cpbdSOHafter>
<![CDATA[select a.article,convert(DOUBLE,a.store_soh) || ' ' || b.meinh  as TotalUnits 
from saap.local_wow_soh a,ZWOWC_ARTICLE_UOM b where a.article = b.matnr and article = 'artno' and b.base_uom_ind = 'Y';]]>
</cpbdSOHafter>
<SOHbefore>
<![CDATA[select a.article,convert(DOUBLE,a.store_soh) as TUSOH, art_uom.meinh  as TotalUnits,round(convert(DOUBLE,a.store_soh_rand_wght),0) || ' EA' as  randWtOM,
ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND from saap.local_wow_soh a 
join ZWOWC_ARTICLE_UOM art_uom on (a.article=art_uom.matnr) join ZWOWO_PO_ITM PITM on (PITM.matnr=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) 
where PITM.EBELN = 'ordNo'  and ART_UOM.base_uom_ind = 'Y';]]>
</SOHbefore>
<SOH>
<![CDATA[select a.article,convert(DOUBLE,a.store_soh) || ' ' ||  art_uom.meinh  as TotalUnits,round(convert(DOUBLE,a.store_soh_rand_wght),0) || ' EA' as  randWtOM,
ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND from saap.local_wow_soh a 
join ZWOWC_ARTICLE_UOM art_uom on (a.article=art_uom.matnr) join ZWOWO_PO_ITM PITM on (PITM.matnr=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) 
where PITM.EBELN = 'ordNo'  and ART_UOM.base_uom_ind = 'Y';]]>
</SOH>
<dispSOHbefore>
<![CDATA[select distinct a.MATNR, convert(DOUBLE,b.store_soh) as TUSOH , art_uom.meinh  as TotalUnits from ZWOWO_ORDER_COMPONENT a 
join ZWOWC_ARTICLE_UOM art_uom on (a.matnr=art_uom.matnr) join saap.local_wow_soh b on (b.ARTICLE=a.MATNR)
group by a.MATNR, a.ebeln, a.display_article, a.order_type,art_uom.meinh,b.store_soh,ART_UOM.base_uom_ind,a.MEINS having a.ebeln = 'ordNo' 
and a.display_article = 'artno' and a.order_type = 'PO' and ART_UOM.base_uom_ind = 'Y';]]>
</dispSOHbefore>
<dispSOH>
<![CDATA[select distinct a.MATNR, convert(DOUBLE,b.store_soh) || ' ' ||  art_uom.meinh  as TotalUnits from ZWOWO_ORDER_COMPONENT a 
join ZWOWC_ARTICLE_UOM art_uom on (a.matnr=art_uom.matnr) join saap.local_wow_soh b on (b.ARTICLE=a.MATNR)
group by a.MATNR, a.ebeln, a.display_article, a.order_type,art_uom.meinh,b.store_soh,ART_UOM.base_uom_ind,a.MEINS having a.ebeln = 'ordNo' 
and a.display_article ='artno' and a.order_type = 'PO' and ART_UOM.base_uom_ind = 'Y';]]>
</dispSOH>
<AddOrder>
<![CDATA[INSERT INTO "SAAP"."revert_received_order" ("order_no") VALUES('ordersNo')]]>
</AddOrder>
<revertOrder>
<![CDATA[call sp_wow_RevertReceiving('{iv_order_number:"ordno"}');]]>
</revertOrder>
<OrderList>
<![CDATA[select a.ebeln, convert(char(12), a.lfdat, 103), convert(char(12), a.on_show_date, 103), a.created_by, b.RESWK from zwowo_po_hdr a, ZWOWO_PO_HDR b 
where a.ebeln = b.ebeln and a.ebeln = 'ordno']]>
</OrderList>
<OrderList1>
<![CDATA[select NAME1 || ' (' || SUPPLIER || ')' as supplierDet from ZWOWC_SUPPLIER_DETAILS  where supplier = 'suppno']]>
</OrderList1>
<OrderList2>
<![CDATA[select convert(double,sum(menge)),count(*) from ZWOWO_PO_ITM where ebeln = 'ordno']]>
</OrderList2>
<Tempflag>
<![CDATA[select Temperature_ind from ZWOWO_PO_HDR where ebeln = 'ordno']]>
</Tempflag>
<OrderArtList>
<![CDATA[select PITM.MATNR, convert(DOUBLE,n.pack_size)|| ' ' ||  art_uom.meinh as OM ,convert(DOUBLE,n.pi_qty)|| ' ' ||  ZAL.pi_uom  as PIOMS, convert(DOUBLE,PITM.MENGE) || ' ' || PITM.MEINS as qty ,
convert(DOUBLE,n.pack_size)*convert(DOUBLE,PITM.MENGE) || ' ' ||  art_uom.meinh  as TotalUnits,
convert(DOUBLE,n.pi_qty) || ' EA' as  randWtOM,'NA' as dispqty,'NA' as totalqty,'' as recqty,'' as recTU,
 ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND FROM ZWOWO_PO_ITM PITM 
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
JOIN zwowo_po_itm n on (PITM.EBELN=n.EBELN) WHERE PITM.EBELN = 'ordno' and PITM.EBELP = n.ebelp and ART_UOM.base_uom_ind = 'Y';]]>
</OrderArtList>
<OrderArtListTemp>
<![CDATA[select PITM.MATNR, convert(DOUBLE,n.pack_size)|| ' ' ||  art_uom.meinh as OM, convert(DOUBLE,PITM.MENGE) || ' ' || PITM.MEINS as qty ,
convert(DOUBLE,n.pack_size)*convert(DOUBLE,PITM.MENGE) || ' ' ||  art_uom.meinh  as TotalUnits,
convert(DOUBLE,n.pi_qty) || ' EA' as  randWtOM,'NA' as dispqty,'NA' as totalqty,'' as recqty,'' as recTU,
 ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND, ZAM.TEMPERATURE_IND FROM ZWOWO_PO_ITM PITM 
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
JOIN zwowo_po_itm n on (PITM.EBELN=n.EBELN) WHERE PITM.EBELN = 'ordno' and PITM.EBELP = n.ebelp and ART_UOM.base_uom_ind = 'Y';]]>
</OrderArtListTemp>
<dispArtList>
<![CDATA[select distinct MATNR, convert(int,sum(ARTICLE_QTY)) || ' ' || MEINS as qty,convert(int,sum(ARTICLE_QTY)) || ' ' || MEINS as totalunits from ZWOWO_ORDER_COMPONENT 
group by MATNR, ebeln, display_article, order_type,MEINS having ebeln = 'ordno' and display_article = 'artno' and order_type = 'PO']]>
</dispArtList>
</TCName>

<TCName name = "ReceiveLineByExceptionIBTTempCheck">
<ONo>
7010576851
</ONo>
<SITStore>
7041513042
</SITStore>
<ONo1>
7010576851
</ONo1>
<checkOrder>
<![CDATA[select * from revert_received_order where order_no='ordNo']]>
</checkOrder>
<cpbdArt>
<![CDATA[select COMPLEX_PACK_BRK_ARTICLE from zwowc_article_listing where matnr = 'artno']]>
</cpbdArt>
<cpbd>
<![CDATA[select matnr,complex_pack_brk_article,complex_pack_brk_om from ZWOWC_ARTICLE_LISTING where SAAP.ZWOWC_ARTICLE_LISTING.COMPLEX_PACK_BRK_ARTICLE = 'artno' 
order by complex_pack_brk_om desc]]>
</cpbd>
<cpbdSOH>
<![CDATA[select a.article,convert(DOUBLE,a.store_soh) as TUSOH, b.meinh  as TotalUnits,convert(DOUBLE,a.store_soh_rand_wght) || ' EA' as  randWtO 
from saap.local_wow_soh a,ZWOWC_ARTICLE_UOM b where a.article = b.matnr and article = 'artno' and b.base_uom_ind = 'Y';]]>
</cpbdSOH>
<cpbdSOHafter>
<![CDATA[select a.article,convert(DOUBLE,a.store_soh) || ' ' || b.meinh  as TotalUnits 
from saap.local_wow_soh a,ZWOWC_ARTICLE_UOM b where a.article = b.matnr and article = 'artno' and b.base_uom_ind = 'Y';]]>
</cpbdSOHafter>
<SOHbefore>
<![CDATA[select a.article,convert(DOUBLE,a.store_soh) as TUSOH, art_uom.meinh  as TotalUnits,round(convert(DOUBLE,a.store_soh_rand_wght),0) || ' EA' as  randWtOM,
ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND from saap.local_wow_soh a 
join ZWOWC_ARTICLE_UOM art_uom on (a.article=art_uom.matnr) join ZWOWO_PO_ITM PITM on (PITM.matnr=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) 
where PITM.EBELN = 'ordNo'  and ART_UOM.base_uom_ind = 'Y';]]>
</SOHbefore>
<SOH>
<![CDATA[select a.article,convert(DOUBLE,a.store_soh) || ' ' ||  art_uom.meinh  as TotalUnits,round(convert(DOUBLE,a.store_soh_rand_wght),0) || ' EA' as  randWtOM,
ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND from saap.local_wow_soh a 
join ZWOWC_ARTICLE_UOM art_uom on (a.article=art_uom.matnr) join ZWOWO_PO_ITM PITM on (PITM.matnr=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) 
where PITM.EBELN = 'ordNo'  and ART_UOM.base_uom_ind = 'Y';]]>
</SOH>
<dispSOHbefore>
<![CDATA[select distinct a.MATNR, convert(DOUBLE,b.store_soh) as TUSOH , art_uom.meinh  as TotalUnits from ZWOWO_ORDER_COMPONENT a 
join ZWOWC_ARTICLE_UOM art_uom on (a.matnr=art_uom.matnr) join saap.local_wow_soh b on (b.ARTICLE=a.MATNR)
group by a.MATNR, a.ebeln, a.display_article, a.order_type,art_uom.meinh,b.store_soh,ART_UOM.base_uom_ind,a.MEINS having a.ebeln = 'ordNo' 
and a.display_article = 'artno' and a.order_type = 'PO' and ART_UOM.base_uom_ind = 'Y';]]>
</dispSOHbefore>
<dispSOH>
<![CDATA[select distinct a.MATNR, convert(DOUBLE,b.store_soh) || ' ' ||  art_uom.meinh  as TotalUnits from ZWOWO_ORDER_COMPONENT a 
join ZWOWC_ARTICLE_UOM art_uom on (a.matnr=art_uom.matnr) join saap.local_wow_soh b on (b.ARTICLE=a.MATNR)
group by a.MATNR, a.ebeln, a.display_article, a.order_type,art_uom.meinh,b.store_soh,ART_UOM.base_uom_ind,a.MEINS having a.ebeln = 'ordNo' 
and a.display_article ='artno' and a.order_type = 'PO' and ART_UOM.base_uom_ind = 'Y';]]>
</dispSOH>
<AddOrder>
<![CDATA[INSERT INTO "SAAP"."revert_received_order" ("order_no") VALUES('ordersNo')]]>
</AddOrder>
<revertOrder>
<![CDATA[call sp_wow_RevertReceiving('{iv_order_number:"ordno"}');]]>
</revertOrder>
<OrderList>
<![CDATA[select a.ebeln, convert(char(12), a.lfdat, 103), convert(char(12), a.on_show_date, 103), a.created_by, b.RESWK from zwowo_po_hdr a, ZWOWO_PO_HDR b 
where a.ebeln = b.ebeln and a.ebeln = 'ordno']]>
</OrderList>
<OrderList1>
<![CDATA[select NAME1 || ' (' || SUPPLIER || ')' as supplierDet from ZWOWC_SUPPLIER_DETAILS  where supplier = 'suppno']]>
</OrderList1>
<OrderList2>
<![CDATA[select convert(double,sum(menge)),count(*) from ZWOWO_PO_ITM where ebeln = 'ordno']]>
</OrderList2>
<Tempflag>
<![CDATA[select Temperature_ind from ZWOWO_PO_HDR where ebeln = 'ordno']]>
</Tempflag>
<OrderArtList>
<![CDATA[select PITM.MATNR, convert(DOUBLE,n.pack_size)|| ' ' ||  art_uom.meinh as OM ,convert(DOUBLE,n.pi_qty)|| ' ' ||  ZAL.pi_uom  as PIOMS, convert(DOUBLE,PITM.MENGE) || ' ' || PITM.MEINS as qty ,
convert(DOUBLE,n.pack_size)*convert(DOUBLE,PITM.MENGE) || ' ' ||  art_uom.meinh  as TotalUnits,
convert(DOUBLE,n.pi_qty) || ' EA' as  randWtOM,'NA' as dispqty,'NA' as totalqty,'' as recqty,'' as recTU,
 ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND FROM ZWOWO_PO_ITM PITM 
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
JOIN zwowo_po_itm n on (PITM.EBELN=n.EBELN) WHERE PITM.EBELN = 'ordno' and PITM.EBELP = n.ebelp and ART_UOM.base_uom_ind = 'Y';]]>
</OrderArtList>
<OrderArtListTemp>
<![CDATA[select PITM.MATNR, convert(DOUBLE,n.pack_size)|| ' ' ||  art_uom.meinh as OM, convert(DOUBLE,PITM.MENGE) || ' ' || PITM.MEINS as qty ,
convert(DOUBLE,n.pack_size)*convert(DOUBLE,PITM.MENGE) || ' ' ||  art_uom.meinh  as TotalUnits,
convert(DOUBLE,n.pi_qty) || ' EA' as  randWtOM,'NA' as dispqty,'NA' as totalqty,'' as recqty,'' as recTU,
 ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND, ZAM.TEMPERATURE_IND FROM O_PO_ITM PITM 
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
JOIN zwowo_po_itm n on (PITM.EBELN=n.EBELN) WHERE PITM.EBELN = 'ordno' and PITM.EBELP = n.ebelp and ART_UOM.base_uom_ind = 'Y';]]>
</OrderArtListTemp>
<dispArtList>
<![CDATA[select distinct MATNR, convert(int,sum(ARTICLE_QTY)) || ' ' || MEINS as qty,convert(int,sum(ARTICLE_QTY)) || ' ' || MEINS as totalunits from ZWOWO_ORDER_COMPONENT 
group by MATNR, ebeln, display_article, order_type,MEINS having ebeln = 'ordno' and display_article = 'artno' and order_type = 'PO']]>
</dispArtList>
</TCName>


<TCName name = "ReceiveLineByLineTempCheck">
<ONo>
54215116
</ONo>
<SITStore>
50007881
</SITStore>
<ONo1>
54215116
</ONo1>
<checkOrder>
<![CDATA[select * from revert_received_order where order_no='ordNo']]>
</checkOrder>
<cpbdArt>
<![CDATA[select COMPLEX_PACK_BRK_ARTICLE from zwowc_article_listing where matnr = 'artno']]>
</cpbdArt>
<cpbd>
<![CDATA[select matnr,complex_pack_brk_article,complex_pack_brk_om from ZWOWC_ARTICLE_LISTING where SAAP.ZWOWC_ARTICLE_LISTING.COMPLEX_PACK_BRK_ARTICLE = 'artno' 
order by complex_pack_brk_om desc]]>
</cpbd>
<cpbdSOH>
<![CDATA[select a.article,convert(DOUBLE,a.store_soh) as TUSOH, b.meinh  as TotalUnits,convert(DOUBLE,a.store_soh_rand_wght) || ' EA' as  randWtO 
from saap.local_wow_soh a,ZWOWC_ARTICLE_UOM b where a.article = b.matnr and article = 'artno' and b.base_uom_ind = 'Y';]]>
</cpbdSOH>
<cpbdSOHafter>
<![CDATA[select a.article,convert(DOUBLE,a.store_soh) || ' ' || b.meinh  as TotalUnits 
from saap.local_wow_soh a,ZWOWC_ARTICLE_UOM b where a.article = b.matnr and article = 'artno' and b.base_uom_ind = 'Y';]]>
</cpbdSOHafter>
<SOHbefore>
<![CDATA[select a.article,convert(DOUBLE,a.store_soh) as TUSOH, art_uom.meinh  as TotalUnits,round(convert(DOUBLE,a.store_soh_rand_wght),0) || ' EA' as  randWtOM,
ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND from saap.local_wow_soh a 
join ZWOWC_ARTICLE_UOM art_uom on (a.article=art_uom.matnr) join ZWOWO_PO_ITM PITM on (PITM.matnr=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) 
where PITM.EBELN = 'ordNo'  and ART_UOM.base_uom_ind = 'Y';]]>
</SOHbefore>
<SOH>
<![CDATA[select a.article,convert(DOUBLE,a.store_soh) || ' ' ||  art_uom.meinh  as TotalUnits,round(convert(DOUBLE,a.store_soh_rand_wght),0) || ' EA' as  randWtOM,
ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND from saap.local_wow_soh a 
join ZWOWC_ARTICLE_UOM art_uom on (a.article=art_uom.matnr) join ZWOWO_PO_ITM PITM on (PITM.matnr=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) 
where PITM.EBELN = 'ordNo'  and ART_UOM.base_uom_ind = 'Y';]]>
</SOH>
<dispSOHbefore>
<![CDATA[select distinct a.MATNR, convert(DOUBLE,b.store_soh) as TUSOH , art_uom.meinh  as TotalUnits from ZWOWO_ORDER_COMPONENT a 
join ZWOWC_ARTICLE_UOM art_uom on (a.matnr=art_uom.matnr) join saap.local_wow_soh b on (b.ARTICLE=a.MATNR)
group by a.MATNR, a.ebeln, a.display_article, a.order_type,art_uom.meinh,b.store_soh,ART_UOM.base_uom_ind,a.MEINS having a.ebeln = 'ordNo' 
and a.display_article = 'artno' and a.order_type = 'PO' and ART_UOM.base_uom_ind = 'Y';]]>
</dispSOHbefore>
<dispSOH>
<![CDATA[select distinct a.MATNR, convert(DOUBLE,b.store_soh) || ' ' ||  art_uom.meinh  as TotalUnits from ZWOWO_ORDER_COMPONENT a 
join ZWOWC_ARTICLE_UOM art_uom on (a.matnr=art_uom.matnr) join saap.local_wow_soh b on (b.ARTICLE=a.MATNR)
group by a.MATNR, a.ebeln, a.display_article, a.order_type,art_uom.meinh,b.store_soh,ART_UOM.base_uom_ind,a.MEINS having a.ebeln = 'ordNo' 
and a.display_article ='artno' and a.order_type = 'PO' and ART_UOM.base_uom_ind = 'Y';]]>
</dispSOH>
<AddOrder>
<![CDATA[INSERT INTO "SAAP"."revert_received_order" ("order_no") VALUES('ordersNo')]]>
</AddOrder>
<revertOrder>
<![CDATA[call sp_wow_RevertReceiving('{iv_order_number:"ordno"}');]]>
</revertOrder>
<OrderList>
<![CDATA[select a.ebeln, convert(char(12), a.lfdat, 103), convert(char(12), a.on_show_date, 103), a.created_by, b.lifnr from zwowo_po_hdr a, ZWOWO_PO_HDR b 
where a.ebeln = b.ebeln and a.ebeln = 'ordno']]>
</OrderList>
<OrderList1>
<![CDATA[select NAME1 || ' (' || SUPPLIER || ')' as supplierDet from ZWOWC_SUPPLIER_DETAILS  where supplier = 'suppno']]>
</OrderList1>
<OrderList2>
<![CDATA[select convert(int,sum(menge)),count(*) from ZWOWO_PO_ITM where ebeln = 'ordno']]>
</OrderList2>
<Tempflag>
<![CDATA[select Temperature_ind from ZWOWO_PO_HDR where ebeln = 'ordno']]>
</Tempflag>
<OrderArtList>
<![CDATA[select PITM.MATNR, convert(DOUBLE,ZAL.ARTICLE_OM)|| ' ' ||  art_uom.meinh as OM ,convert(DOUBLE,ZAL.pi_om)|| ' ' ||  ZAL.pi_uom  as PIOMS, convert(DOUBLE,PITM.MENGE) || ' ' || PITM.MEINS as qty ,
convert(DOUBLE,ZAL.ARTICLE_OM)*convert(DOUBLE,PITM.MENGE) || ' ' ||  art_uom.meinh  as TotalUnits,
convert(DOUBLE,PITM.MENGE) * convert(DOUBLE,ZAL.PI_OM) || ' EA' as  randWtOM,'NA' as dispqty,'NA' as totalqty,'' as recqty,'' as recTU,
 ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND FROM ZWOWO_PO_ITM PITM 
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
WHERE PITM.EBELN = 'ordno' and ART_UOM.base_uom_ind = 'Y';]]>
</OrderArtList>
<OrderArtListTemp>
<![CDATA[select PITM.MATNR, convert(DOUBLE,ZAL.ARTICLE_OM)|| ' ' ||  art_uom.meinh as OM, convert(DOUBLE,PITM.MENGE) || ' ' || PITM.MEINS as qty ,
convert(DOUBLE,ZAL.ARTICLE_OM)*convert(DOUBLE,PITM.MENGE) || ' ' ||  art_uom.meinh  as TotalUnits,
convert(DOUBLE,PITM.MENGE) * convert(DOUBLE,ZAL.PI_OM) || ' EA' as  randWtOM,'NA' as dispqty,'NA' as totalqty,'' as recqty,'' as recTU,
 ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND, ZAM.TEMPERATURE_IND FROM ZWOWO_PO_ITM PITM 
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
WHERE PITM.EBELN = 'ordno' and ART_UOM.base_uom_ind = 'Y';]]>
</OrderArtListTemp>
<dispArtList>
<![CDATA[select distinct MATNR, convert(int,sum(ARTICLE_QTY)) || ' ' || MEINS as qty,convert(int,sum(ARTICLE_QTY)) || ' ' || MEINS as totalunits from ZWOWO_ORDER_COMPONENT 
group by MATNR, ebeln, display_article, order_type,MEINS having ebeln = 'ordno' and display_article = 'artno' and order_type = 'PO']]>
</dispArtList>
</TCName>

<TCName name = "ReceiveLineByExceptions">
<ONo>
54215116
</ONo>
<SITStore>
50008483
</SITStore>
<ONo1>
54215116
</ONo1>
<checkOrder>
<![CDATA[select * from revert_received_order where order_no='ordNo']]>
</checkOrder>
<cpbdArt>
<![CDATA[select COMPLEX_PACK_BRK_ARTICLE from zwowc_article_listing where matnr = 'artno']]>
</cpbdArt>
<cpbd>
<![CDATA[select matnr,complex_pack_brk_article,complex_pack_brk_om from ZWOWC_ARTICLE_LISTING where SAAP.ZWOWC_ARTICLE_LISTING.COMPLEX_PACK_BRK_ARTICLE = 'artno' 
order by complex_pack_brk_om desc]]>
</cpbd>
<cpbdSOH>
<![CDATA[select a.article,convert(DOUBLE,a.store_soh) as TUSOH, b.meinh  as TotalUnits,convert(DOUBLE,a.store_soh_rand_wght) || ' EA' as  randWtO 
from saap.local_wow_soh a,ZWOWC_ARTICLE_UOM b where a.article = b.matnr and article = 'artno' and b.base_uom_ind = 'Y';]]>
</cpbdSOH>
<cpbdSOHafter>
<![CDATA[select a.article,convert(DOUBLE,a.store_soh) || ' ' || b.meinh  as TotalUnits 
from saap.local_wow_soh a,ZWOWC_ARTICLE_UOM b where a.article = b.matnr and article = 'artno' and b.base_uom_ind = 'Y';]]>
</cpbdSOHafter>
<SOHbefore>
<![CDATA[select a.article,convert(DOUBLE,a.store_soh) as TUSOH, art_uom.meinh  as TotalUnits,round(convert(DOUBLE,a.store_soh_rand_wght),0) || ' EA' as  randWtOM,
ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND from saap.local_wow_soh a 
join ZWOWC_ARTICLE_UOM art_uom on (a.article=art_uom.matnr) join ZWOWO_PO_ITM PITM on (PITM.matnr=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) 
where PITM.EBELN = 'ordNo'  and ART_UOM.base_uom_ind = 'Y';]]>
</SOHbefore>
<SOH>
<![CDATA[select a.article,convert(DOUBLE,a.store_soh) || ' ' ||  art_uom.meinh  as TotalUnits,round(convert(DOUBLE,a.store_soh_rand_wght),0) || ' EA' as  randWtOM,
ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND from saap.local_wow_soh a 
join ZWOWC_ARTICLE_UOM art_uom on (a.article=art_uom.matnr) join ZWOWO_PO_ITM PITM on (PITM.matnr=art_uom.matnr) 
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) 
where PITM.EBELN = 'ordNo'  and ART_UOM.base_uom_ind = 'Y';]]>
</SOH>
<dispSOHbefore>
<![CDATA[select distinct a.MATNR, convert(DOUBLE,b.store_soh) as TUSOH , art_uom.meinh  as TotalUnits from ZWOWO_ORDER_COMPONENT a 
join ZWOWC_ARTICLE_UOM art_uom on (a.matnr=art_uom.matnr) join saap.local_wow_soh b on (b.ARTICLE=a.MATNR)
group by a.MATNR, a.ebeln, a.display_article, a.order_type,art_uom.meinh,b.store_soh,ART_UOM.base_uom_ind,a.MEINS having a.ebeln = 'ordNo' 
and a.display_article = 'artno' and a.order_type = 'PO' and ART_UOM.base_uom_ind = 'Y';]]>
</dispSOHbefore>
<dispSOH>
<![CDATA[select distinct a.MATNR, convert(DOUBLE,b.store_soh) || ' ' ||  art_uom.meinh  as TotalUnits from ZWOWO_ORDER_COMPONENT a 
join ZWOWC_ARTICLE_UOM art_uom on (a.matnr=art_uom.matnr) join saap.local_wow_soh b on (b.ARTICLE=a.MATNR)
group by a.MATNR, a.ebeln, a.display_article, a.order_type,art_uom.meinh,b.store_soh,ART_UOM.base_uom_ind,a.MEINS having a.ebeln = 'ordNo' 
and a.display_article ='artno' and a.order_type = 'PO' and ART_UOM.base_uom_ind = 'Y';]]>
</dispSOH>
<AddOrder>
<![CDATA[INSERT INTO "SAAP"."revert_received_order" ("order_no") VALUES('ordersNo')]]>
</AddOrder>
<revertOrder>
<![CDATA[call sp_wow_RevertReceiving('{iv_order_number:"ordno"}');]]>
</revertOrder>
<OrderList>
<![CDATA[select a.ebeln, convert(char(12), a.lfdat, 103), convert(char(12), a.on_show_date, 103), a.created_by, b.lifnr from zwowo_po_hdr a, ZWOWO_PO_HDR b 
where a.ebeln = b.ebeln and a.ebeln = 'ordno']]>
</OrderList>
<OrderList1>
<![CDATA[select NAME1 || ' (' || SUPPLIER || ')' as supplierDet from ZWOWC_SUPPLIER_DETAILS  where supplier = 'suppno']]>
</OrderList1>
<OrderList2>
<![CDATA[select convert(int,sum(menge)),count(*) from ZWOWO_PO_ITM where ebeln = 'ordno']]>
</OrderList2>
<Tempflag>
<![CDATA[select Temperature_ind from ZWOWO_PO_HDR where ebeln = 'ordno']]>
</Tempflag>
<OrderArtList>
<![CDATA[select PITM.MATNR, convert(DOUBLE,ZAL.ARTICLE_OM)|| ' ' ||  art_uom.meinh as OM ,convert(DOUBLE,ZAL.pi_om)|| ' ' ||  ZAL.pi_uom  as PIOMS, convert(DOUBLE,PITM.MENGE) || ' ' || PITM.MEINS as qty ,
convert(DOUBLE,ZAL.ARTICLE_OM)*convert(DOUBLE,PITM.MENGE) || ' ' ||  art_uom.meinh  as TotalUnits,
convert(DOUBLE,PITM.MENGE) * convert(DOUBLE,ZAL.PI_OM) || ' EA' as  randWtOM,'NA' as dispqty,'NA' as totalqty,'' as recqty,'' as recTU,
 ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND FROM ZWOWO_PO_ITM PITM 
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
WHERE PITM.EBELN = 'ordno' and ART_UOM.base_uom_ind = 'Y';]]>
</OrderArtList>
<OrderArtListTemp>
<![CDATA[select PITM.MATNR, convert(DOUBLE,ZAL.ARTICLE_OM)|| ' ' ||  art_uom.meinh as OM, convert(DOUBLE,PITM.MENGE) || ' ' || PITM.MEINS as qty ,
convert(DOUBLE,ZAL.ARTICLE_OM)*convert(DOUBLE,PITM.MENGE) || ' ' ||  art_uom.meinh  as TotalUnits,
convert(DOUBLE,PITM.MENGE) * convert(DOUBLE,ZAL.PI_OM) || ' EA' as  randWtOM,'NA' as dispqty,'NA' as totalqty,'' as recqty,'' as recTU,
 ZAL.RANDOM_WEIGHT_FLG, ZAL.IS_CPBD,ZAL.COMPLEX_PACK_BRK_ARTICLE, ZAM.DISPLAY_ITEM_IND, ZAM.TEMPERATURE_IND FROM ZWOWO_PO_ITM PITM 
JOIN ZWOWC_ARTICLE_LISTING ZAL ON (PITM.MATNR = ZAL.MATNR) JOIN ZWOWC_ARTICLE_MASTER ZAM ON (PITM.MATNR = ZAM.MATNR) join ZWOWC_ARTICLE_UOM art_uom on (ZAL.MATNR=art_uom.matnr) 
WHERE PITM.EBELN = 'ordno' and ART_UOM.base_uom_ind = 'Y';]]>
</OrderArtListTemp>
<dispArtList>
<![CDATA[select distinct MATNR, convert(int,sum(ARTICLE_QTY)) || ' ' || MEINS as qty,convert(int,sum(ARTICLE_QTY)) || ' ' || MEINS as totalunits from ZWOWO_ORDER_COMPONENT 
group by MATNR, ebeln, display_article, order_type,MEINS having ebeln = 'ordno' and display_article = 'artno' and order_type = 'PO']]>
</dispArtList>
</TCName>

<TCName name = "IBTCreation">
<SOH>
<![CDATA[select store_soh, store_soh_rand_wght from saap.local_wow_soh where article='art_no']]>
</SOH>
<OM>
<![CDATA[select article_om from saap.zwowc_article_listing where matnr='art_no']]>
</OM>
<FrozenTemp>-100.34</FrozenTemp>
<ChilledTemp>4.23</ChilledTemp>
<SOHCALCULATION>
<![CDATA[select store_soh, STORE_SOH_RAND_WGHT from saap.local_wow_soh where article='art_no']]>
</SOHCALCULATION>
<articles>25500,891961,69811</articles>
<Articleqty>5</Articleqty>
</TCName>

<TCName name = "orderOnReceipt">
<SOH>
<![CDATA[select * from saap.local_wow_soh where article='art_no']]>
</SOH>
<SOH1>
<![CDATA[select store_soh from saap.local_wow_soh where article='art_no']]>
</SOH1>
<OM>
<![CDATA[select * from saap.zwowc_article_listing where matnr='art_no']]>
</OM>
<SM1>
<![CDATA[765033]]>
</SM1>
<SM2>
<![CDATA[764291]]>
</SM2>
<BWS1>
<![CDATA[110580]]>
</BWS1>
<BWS2>
<![CDATA[344168]]>
</BWS2>
<BWS3>
<![CDATA[249657]]>
</BWS3>
<OM1>
<![CDATA[select article_om from saap.zwowc_article_listing where matnr='art_no']]>
</OM1>
</TCName>

</configuration>